(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}})();/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */window.Vue.getCurrentInstance;const Ke=window.Vue.inject;window.Vue.onUnmounted;window.Vue.onDeactivated;window.Vue.onActivated;const se=window.Vue.computed,Ge=window.Vue.unref;window.Vue.watchEffect;const Vs=window.Vue.defineComponent,Rs=window.Vue.reactive,Ds=window.Vue.h,lt=window.Vue.provide,xs=window.Vue.ref,Hs=window.Vue.watch,Ks=window.Vue.shallowRef,Ys=window.Vue.nextTick,De=typeof window<"u";function Qs(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const D=Object.assign;function dt(e,t){const s={};for(const o in t){const a=t[o];s[o]=oe(a)?a.map(e):e(a)}return s}const ze=()=>{},oe=Array.isArray,Ws=/\/$/,Xs=e=>e.replace(Ws,"");function rt(e,t,s="/"){let o,a={},n="",i="";const l=t.indexOf("#");let d=t.indexOf("?");return l<d&&l>=0&&(d=-1),d>-1&&(o=t.slice(0,d),n=t.slice(d+1,l>-1?l:t.length),a=e(n)),l>-1&&(o=o||t.slice(0,l),i=t.slice(l,t.length)),o=to(o??t,s),{fullPath:o+(n&&"?")+n+i,path:o,query:a,hash:i}}function Js(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Ut(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Zs(e,t,s){const o=t.matched.length-1,a=s.matched.length-1;return o>-1&&o===a&&Ae(t.matched[o],s.matched[a])&&Es(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ae(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Es(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!eo(e[s],t[s]))return!1;return!0}function eo(e,t){return oe(e)?jt(e,t):oe(t)?jt(t,e):e===t}function jt(e,t){return oe(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function to(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/");let a=s.length-1,n,i;for(n=0;n<o.length;n++)if(i=o[n],i!==".")if(i==="..")a>1&&a--;else break;return s.slice(0,a).join("/")+"/"+o.slice(n-(n===o.length?1:0)).join("/")}var Ye;(function(e){e.pop="pop",e.push="push"})(Ye||(Ye={}));var xe;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xe||(xe={}));function so(e){if(!e)if(De){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Xs(e)}const oo=/^[^#]+#/;function no(e,t){return e.replace(oo,"#")+t}function ao(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const et=()=>({left:window.pageXOffset,top:window.pageYOffset});function io(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),a=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!a)return;t=ao(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Gt(e,t){return(history.state?history.state.position-t:-1)+e}const Dt=new Map;function lo(e,t){Dt.set(e,t)}function ro(e){const t=Dt.get(e);return Dt.delete(e),t}let co=()=>location.protocol+"//"+location.host;function As(e,t){const{pathname:s,search:o,hash:a}=t,n=e.indexOf("#");if(n>-1){let l=a.includes(e.slice(n))?e.slice(n).length:1,d=a.slice(l);return d[0]!=="/"&&(d="/"+d),Ut(d,"")}return Ut(s,e)+o+a}function uo(e,t,s,o){let a=[],n=[],i=null;const l=({state:g})=>{const b=As(e,location),k=s.value,L=t.value;let O=0;if(g){if(s.value=b,t.value=g,i&&i===k){i=null;return}O=L?g.position-L.position:0}else o(b);a.forEach(S=>{S(s.value,k,{delta:O,type:Ye.pop,direction:O?O>0?xe.forward:xe.back:xe.unknown})})};function d(){i=s.value}function h(g){a.push(g);const b=()=>{const k=a.indexOf(g);k>-1&&a.splice(k,1)};return n.push(b),b}function r(){const{history:g}=window;g.state&&g.replaceState(D({},g.state,{scroll:et()}),"")}function p(){for(const g of n)g();n=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",r)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",r),{pauseListeners:d,listen:h,destroy:p}}function zt(e,t,s,o=!1,a=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:a?et():null}}function ho(e){const{history:t,location:s}=window,o={value:As(e,s)},a={value:t.state};a.value||n(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(d,h,r){const p=e.indexOf("#"),g=p>-1?(s.host&&document.querySelector("base")?e:e.slice(p))+d:co()+e+d;try{t[r?"replaceState":"pushState"](h,"",g),a.value=h}catch(b){console.error(b),s[r?"replace":"assign"](g)}}function i(d,h){const r=D({},t.state,zt(a.value.back,d,a.value.forward,!0),h,{position:a.value.position});n(d,r,!0),o.value=d}function l(d,h){const r=D({},a.value,t.state,{forward:d,scroll:et()});n(r.current,r,!0);const p=D({},zt(o.value,d,null),{position:r.position+1},h);n(d,p,!1),o.value=d}return{location:o,state:a,push:l,replace:i}}function mo(e){e=so(e);const t=ho(e),s=uo(e,t.state,t.location,t.replace);function o(n,i=!0){i||s.pauseListeners(),history.go(n)}const a=D({location:"",base:e,go:o,createHref:no.bind(null,e)},t,s);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function po(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),mo(e)}function fo(e){return typeof e=="string"||e&&typeof e=="object"}function Cs(e){return typeof e=="string"||typeof e=="symbol"}const ce={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Os=Symbol("");var xt;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(xt||(xt={}));function Ce(e,t){return D(new Error,{type:e,[Os]:!0},t)}function re(e,t){return e instanceof Error&&Os in e&&(t==null||!!(e.type&t))}const Ht="[^/]+?",go={sensitive:!1,strict:!1,start:!0,end:!0},vo=/[.+*?^${}()[\]/\\]/g;function yo(e,t){const s=D({},go,t),o=[];let a=s.start?"^":"";const n=[];for(const h of e){const r=h.length?[]:[90];s.strict&&!h.length&&(a+="/");for(let p=0;p<h.length;p++){const g=h[p];let b=40+(s.sensitive?.25:0);if(g.type===0)p||(a+="/"),a+=g.value.replace(vo,"\\$&"),b+=40;else if(g.type===1){const{value:k,repeatable:L,optional:O,regexp:S}=g;n.push({name:k,repeatable:L,optional:O});const R=S||Ht;if(R!==Ht){b+=10;try{new RegExp(`(${R})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${k}" (${R}): `+J.message)}}let H=L?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;p||(H=O&&h.length<2?`(?:/${H})`:"/"+H),O&&(H+="?"),a+=H,b+=20,O&&(b+=-8),L&&(b+=-20),R===".*"&&(b+=-50)}r.push(b)}o.push(r)}if(s.strict&&s.end){const h=o.length-1;o[h][o[h].length-1]+=.7000000000000001}s.strict||(a+="/?"),s.end?a+="$":s.strict&&(a+="(?:/|$)");const i=new RegExp(a,s.sensitive?"":"i");function l(h){const r=h.match(i),p={};if(!r)return null;for(let g=1;g<r.length;g++){const b=r[g]||"",k=n[g-1];p[k.name]=b&&k.repeatable?b.split("/"):b}return p}function d(h){let r="",p=!1;for(const g of e){(!p||!r.endsWith("/"))&&(r+="/"),p=!1;for(const b of g)if(b.type===0)r+=b.value;else if(b.type===1){const{value:k,repeatable:L,optional:O}=b,S=k in h?h[k]:"";if(oe(S)&&!L)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const R=oe(S)?S.join("/"):S;if(!R)if(O)g.length<2&&(r.endsWith("/")?r=r.slice(0,-1):p=!0);else throw new Error(`Missing required param "${k}"`);r+=R}}return r||"/"}return{re:i,score:o,keys:n,parse:l,stringify:d}}function bo(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function _o(e,t){let s=0;const o=e.score,a=t.score;for(;s<o.length&&s<a.length;){const n=bo(o[s],a[s]);if(n)return n;s++}if(Math.abs(a.length-o.length)===1){if(Kt(o))return 1;if(Kt(a))return-1}return a.length-o.length}function Kt(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wo={type:0,value:""},$o=/[a-zA-Z0-9_]/;function ko(e){if(!e)return[[]];if(e==="/")return[[wo]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${s})/"${h}": ${b}`)}let s=0,o=s;const a=[];let n;function i(){n&&a.push(n),n=[]}let l=0,d,h="",r="";function p(){h&&(s===0?n.push({type:0,value:h}):s===1||s===2||s===3?(n.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:h,regexp:r,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),h="")}function g(){h+=d}for(;l<e.length;){if(d=e[l++],d==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:d==="/"?(h&&p(),i()):d===":"?(p(),s=1):g();break;case 4:g(),s=o;break;case 1:d==="("?s=2:$o.test(d)?g():(p(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?r[r.length-1]=="\\"?r=r.slice(0,-1)+d:s=3:r+=d;break;case 3:p(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,r="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${h}"`),p(),i(),a}function So(e,t,s){const o=yo(ko(e.path),s),a=D(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Vo(e,t){const s=[],o=new Map;t=Wt({strict:!1,end:!0,sensitive:!1},t);function a(r){return o.get(r)}function n(r,p,g){const b=!g,k=Ro(r);k.aliasOf=g&&g.record;const L=Wt(t,r),O=[k];if("alias"in r){const H=typeof r.alias=="string"?[r.alias]:r.alias;for(const J of H)O.push(D({},k,{components:g?g.record.components:k.components,path:J,aliasOf:g?g.record:k}))}let S,R;for(const H of O){const{path:J}=H;if(p&&J[0]!=="/"){const _e=p.record.path,de=_e[_e.length-1]==="/"?"":"/";H.path=p.record.path+(J&&de+J)}if(S=So(H,p,L),g?g.alias.push(S):(R=R||S,R!==S&&R.alias.push(S),b&&r.name&&!Qt(S)&&i(r.name)),k.children){const _e=k.children;for(let de=0;de<_e.length;de++)n(_e[de],S,g&&g.children[de])}g=g||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&d(S)}return R?()=>{i(R)}:ze}function i(r){if(Cs(r)){const p=o.get(r);p&&(o.delete(r),s.splice(s.indexOf(p),1),p.children.forEach(i),p.alias.forEach(i))}else{const p=s.indexOf(r);p>-1&&(s.splice(p,1),r.record.name&&o.delete(r.record.name),r.children.forEach(i),r.alias.forEach(i))}}function l(){return s}function d(r){let p=0;for(;p<s.length&&_o(r,s[p])>=0&&(r.record.path!==s[p].record.path||!Is(r,s[p]));)p++;s.splice(p,0,r),r.record.name&&!Qt(r)&&o.set(r.record.name,r)}function h(r,p){let g,b={},k,L;if("name"in r&&r.name){if(g=o.get(r.name),!g)throw Ce(1,{location:r});L=g.record.name,b=D(Yt(p.params,g.keys.filter(R=>!R.optional).map(R=>R.name)),r.params&&Yt(r.params,g.keys.map(R=>R.name))),k=g.stringify(b)}else if("path"in r)k=r.path,g=s.find(R=>R.re.test(k)),g&&(b=g.parse(k),L=g.record.name);else{if(g=p.name?o.get(p.name):s.find(R=>R.re.test(p.path)),!g)throw Ce(1,{location:r,currentLocation:p});L=g.record.name,b=D({},p.params,r.params),k=g.stringify(b)}const O=[];let S=g;for(;S;)O.unshift(S.record),S=S.parent;return{name:L,path:k,params:b,matched:O,meta:Eo(O)}}return e.forEach(r=>n(r)),{addRoute:n,resolve:h,removeRoute:i,getRoutes:l,getRecordMatcher:a}}function Yt(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function Ro(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Do(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Do(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="boolean"?s:s[o];return t}function Qt(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Eo(e){return e.reduce((t,s)=>D(t,s.meta),{})}function Wt(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}function Is(e,t){return t.children.some(s=>s===e||Is(e,s))}const Bs=/#/g,Ao=/&/g,Co=/\//g,Oo=/=/g,Io=/\?/g,Ps=/\+/g,Bo=/%5B/g,Po=/%5D/g,Ts=/%5E/g,To=/%60/g,Ls=/%7B/g,Lo=/%7C/g,Ns=/%7D/g,No=/%20/g;function Ot(e){return encodeURI(""+e).replace(Lo,"|").replace(Bo,"[").replace(Po,"]")}function Mo(e){return Ot(e).replace(Ls,"{").replace(Ns,"}").replace(Ts,"^")}function Et(e){return Ot(e).replace(Ps,"%2B").replace(No,"+").replace(Bs,"%23").replace(Ao,"%26").replace(To,"`").replace(Ls,"{").replace(Ns,"}").replace(Ts,"^")}function Fo(e){return Et(e).replace(Oo,"%3D")}function qo(e){return Ot(e).replace(Bs,"%23").replace(Io,"%3F")}function Uo(e){return e==null?"":qo(e).replace(Co,"%2F")}function Ze(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function jo(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<o.length;++a){const n=o[a].replace(Ps," "),i=n.indexOf("="),l=Ze(i<0?n:n.slice(0,i)),d=i<0?null:Ze(n.slice(i+1));if(l in t){let h=t[l];oe(h)||(h=t[l]=[h]),h.push(d)}else t[l]=d}return t}function Xt(e){let t="";for(let s in e){const o=e[s];if(s=Fo(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}(oe(o)?o.map(n=>n&&Et(n)):[o&&Et(o)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+s,n!=null&&(t+="="+n))})}return t}function Go(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=oe(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const zo=Symbol(""),Jt=Symbol(""),It=Symbol(""),Ms=Symbol(""),At=Symbol("");function Pe(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function ve(e,t,s,o,a){const n=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((i,l)=>{const d=p=>{p===!1?l(Ce(4,{from:s,to:t})):p instanceof Error?l(p):fo(p)?l(Ce(2,{from:t,to:p})):(n&&o.enterCallbacks[a]===n&&typeof p=="function"&&n.push(p),i())},h=e.call(o&&o.instances[a],t,s,d);let r=Promise.resolve(h);e.length<3&&(r=r.then(d)),r.catch(p=>l(p))})}function ct(e,t,s,o){const a=[];for(const n of e)for(const i in n.components){let l=n.components[i];if(!(t!=="beforeRouteEnter"&&!n.instances[i]))if(xo(l)){const h=(l.__vccOpts||l)[t];h&&a.push(ve(h,s,o,n,i))}else{let d=l();a.push(()=>d.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${n.path}"`));const r=Qs(h)?h.default:h;n.components[i]=r;const g=(r.__vccOpts||r)[t];return g&&ve(g,s,o,n,i)()}))}}return a}function xo(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Zt(e){const t=Ke(It),s=Ke(Ms),o=se(()=>t.resolve(Ge(e.to))),a=se(()=>{const{matched:d}=o.value,{length:h}=d,r=d[h-1],p=s.matched;if(!r||!p.length)return-1;const g=p.findIndex(Ae.bind(null,r));if(g>-1)return g;const b=es(d[h-2]);return h>1&&es(r)===b&&p[p.length-1].path!==b?p.findIndex(Ae.bind(null,d[h-2])):g}),n=se(()=>a.value>-1&&Qo(s.params,o.value.params)),i=se(()=>a.value>-1&&a.value===s.matched.length-1&&Es(s.params,o.value.params));function l(d={}){return Yo(d)?t[Ge(e.replace)?"replace":"push"](Ge(e.to)).catch(ze):Promise.resolve()}return{route:o,href:se(()=>o.value.href),isActive:n,isExactActive:i,navigate:l}}const Ho=Vs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Zt,setup(e,{slots:t}){const s=Rs(Zt(e)),{options:o}=Ke(It),a=se(()=>({[ts(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[ts(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const n=t.default&&t.default(s);return e.custom?n:Ds("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:a.value},n)}}}),Ko=Ho;function Yo(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Qo(e,t){for(const s in t){const o=t[s],a=e[s];if(typeof o=="string"){if(o!==a)return!1}else if(!oe(a)||a.length!==o.length||o.some((n,i)=>n!==a[i]))return!1}return!0}function es(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ts=(e,t,s)=>e??t??s,Wo=Vs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=Ke(At),a=se(()=>e.route||o.value),n=Ke(Jt,0),i=se(()=>{let h=Ge(n);const{matched:r}=a.value;let p;for(;(p=r[h])&&!p.components;)h++;return h}),l=se(()=>a.value.matched[i.value]);lt(Jt,se(()=>i.value+1)),lt(zo,l),lt(At,a);const d=xs();return Hs(()=>[d.value,l.value,e.name],([h,r,p],[g,b,k])=>{r&&(r.instances[p]=h,b&&b!==r&&h&&h===g&&(r.leaveGuards.size||(r.leaveGuards=b.leaveGuards),r.updateGuards.size||(r.updateGuards=b.updateGuards))),h&&r&&(!b||!Ae(r,b)||!g)&&(r.enterCallbacks[p]||[]).forEach(L=>L(h))},{flush:"post"}),()=>{const h=a.value,r=e.name,p=l.value,g=p&&p.components[r];if(!g)return ss(s.default,{Component:g,route:h});const b=p.props[r],k=b?b===!0?h.params:typeof b=="function"?b(h):b:null,O=Ds(g,D({},k,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(p.instances[r]=null)},ref:d}));return ss(s.default,{Component:O,route:h})||O}}});function ss(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Xo=Wo;function Jo(e){const t=Vo(e.routes,e),s=e.parseQuery||jo,o=e.stringifyQuery||Xt,a=e.history,n=Pe(),i=Pe(),l=Pe(),d=Ks(ce);let h=ce;De&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const r=dt.bind(null,u=>""+u),p=dt.bind(null,Uo),g=dt.bind(null,Ze);function b(u,y){let v,_;return Cs(u)?(v=t.getRecordMatcher(u),_=y):_=u,t.addRoute(_,v)}function k(u){const y=t.getRecordMatcher(u);y&&t.removeRoute(y)}function L(){return t.getRoutes().map(u=>u.record)}function O(u){return!!t.getRecordMatcher(u)}function S(u,y){if(y=D({},y||d.value),typeof u=="string"){const $=rt(s,u,y.path),F=t.resolve({path:$.path},y),Be=a.createHref($.fullPath);return D($,F,{params:g(F.params),hash:Ze($.hash),redirectedFrom:void 0,href:Be})}let v;if("path"in u)v=D({},u,{path:rt(s,u.path,y.path).path});else{const $=D({},u.params);for(const F in $)$[F]==null&&delete $[F];v=D({},u,{params:p(u.params)}),y.params=p(y.params)}const _=t.resolve(v,y),A=u.hash||"";_.params=r(g(_.params));const M=Js(o,D({},u,{hash:Mo(A),path:_.path})),V=a.createHref(M);return D({fullPath:M,hash:A,query:o===Xt?Go(u.query):u.query||{}},_,{redirectedFrom:void 0,href:V})}function R(u){return typeof u=="string"?rt(s,u,d.value.path):D({},u)}function H(u,y){if(h!==u)return Ce(8,{from:y,to:u})}function J(u){return Oe(u)}function _e(u){return J(D(R(u),{replace:!0}))}function de(u){const y=u.matched[u.matched.length-1];if(y&&y.redirect){const{redirect:v}=y;let _=typeof v=="function"?v(u):v;return typeof _=="string"&&(_=_.includes("?")||_.includes("#")?_=R(_):{path:_},_.params={}),D({query:u.query,hash:u.hash,params:"path"in _?{}:u.params},_)}}function Oe(u,y){const v=h=S(u),_=d.value,A=u.state,M=u.force,V=u.replace===!0,$=de(v);if($)return Oe(D(R($),{state:typeof $=="object"?D({},A,$.state):A,force:M,replace:V}),y||v);const F=v;F.redirectedFrom=y;let Be;return!M&&Zs(o,_,v)&&(Be=Ce(16,{to:F,from:_}),Ft(_,_,!0,!1)),(Be?Promise.resolve(Be):Tt(F,_)).catch(K=>re(K)?re(K,2)?K:ot(K):st(K,F,_)).then(K=>{if(K){if(re(K,2))return Oe(D({replace:V},R(K.to),{state:typeof K.to=="object"?D({},A,K.to.state):A,force:M}),y||F)}else K=Nt(F,_,!0,V,A);return Lt(F,_,K),K})}function js(u,y){const v=H(u,y);return v?Promise.reject(v):Promise.resolve()}function Tt(u,y){let v;const[_,A,M]=Zo(u,y);v=ct(_.reverse(),"beforeRouteLeave",u,y);for(const $ of _)$.leaveGuards.forEach(F=>{v.push(ve(F,u,y))});const V=js.bind(null,u,y);return v.push(V),Se(v).then(()=>{v=[];for(const $ of n.list())v.push(ve($,u,y));return v.push(V),Se(v)}).then(()=>{v=ct(A,"beforeRouteUpdate",u,y);for(const $ of A)$.updateGuards.forEach(F=>{v.push(ve(F,u,y))});return v.push(V),Se(v)}).then(()=>{v=[];for(const $ of u.matched)if($.beforeEnter&&!y.matched.includes($))if(oe($.beforeEnter))for(const F of $.beforeEnter)v.push(ve(F,u,y));else v.push(ve($.beforeEnter,u,y));return v.push(V),Se(v)}).then(()=>(u.matched.forEach($=>$.enterCallbacks={}),v=ct(M,"beforeRouteEnter",u,y),v.push(V),Se(v))).then(()=>{v=[];for(const $ of i.list())v.push(ve($,u,y));return v.push(V),Se(v)}).catch($=>re($,8)?$:Promise.reject($))}function Lt(u,y,v){for(const _ of l.list())_(u,y,v)}function Nt(u,y,v,_,A){const M=H(u,y);if(M)return M;const V=y===ce,$=De?history.state:{};v&&(_||V?a.replace(u.fullPath,D({scroll:V&&$&&$.scroll},A)):a.push(u.fullPath,A)),d.value=u,Ft(u,y,v,V),ot()}let Ie;function Gs(){Ie||(Ie=a.listen((u,y,v)=>{if(!qt.listening)return;const _=S(u),A=de(_);if(A){Oe(D(A,{replace:!0}),_).catch(ze);return}h=_;const M=d.value;De&&lo(Gt(M.fullPath,v.delta),et()),Tt(_,M).catch(V=>re(V,12)?V:re(V,2)?(Oe(V.to,_).then($=>{re($,20)&&!v.delta&&v.type===Ye.pop&&a.go(-1,!1)}).catch(ze),Promise.reject()):(v.delta&&a.go(-v.delta,!1),st(V,_,M))).then(V=>{V=V||Nt(_,M,!1),V&&(v.delta&&!re(V,8)?a.go(-v.delta,!1):v.type===Ye.pop&&re(V,20)&&a.go(-1,!1)),Lt(_,M,V)}).catch(ze)}))}let tt=Pe(),Mt=Pe(),Qe;function st(u,y,v){ot(u);const _=Mt.list();return _.length?_.forEach(A=>A(u,y,v)):console.error(u),Promise.reject(u)}function zs(){return Qe&&d.value!==ce?Promise.resolve():new Promise((u,y)=>{tt.add([u,y])})}function ot(u){return Qe||(Qe=!u,Gs(),tt.list().forEach(([y,v])=>u?v(u):y()),tt.reset()),u}function Ft(u,y,v,_){const{scrollBehavior:A}=e;if(!De||!A)return Promise.resolve();const M=!v&&ro(Gt(u.fullPath,0))||(_||!v)&&history.state&&history.state.scroll||null;return Ys().then(()=>A(u,y,M)).then(V=>V&&io(V)).catch(V=>st(V,u,y))}const nt=u=>a.go(u);let at;const it=new Set,qt={currentRoute:d,listening:!0,addRoute:b,removeRoute:k,hasRoute:O,getRoutes:L,resolve:S,options:e,push:J,replace:_e,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:n.add,beforeResolve:i.add,afterEach:l.add,onError:Mt.add,isReady:zs,install(u){const y=this;u.component("RouterLink",Ko),u.component("RouterView",Xo),u.config.globalProperties.$router=y,Object.defineProperty(u.config.globalProperties,"$route",{enumerable:!0,get:()=>Ge(d)}),De&&!at&&d.value===ce&&(at=!0,J(a.location).catch(A=>{}));const v={};for(const A in ce)v[A]=se(()=>d.value[A]);u.provide(It,y),u.provide(Ms,Rs(v)),u.provide(At,d);const _=u.unmount;it.add(u),u.unmount=function(){it.delete(u),it.size<1&&(h=ce,Ie&&Ie(),Ie=null,d.value=ce,at=!1,Qe=!1),_()}}};return qt}function Se(e){return e.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function Zo(e,t){const s=[],o=[],a=[],n=Math.max(t.matched.length,e.matched.length);for(let i=0;i<n;i++){const l=t.matched[i];l&&(e.matched.find(h=>Ae(h,l))?o.push(l):s.push(l));const d=e.matched[i];d&&(t.matched.find(h=>Ae(h,d))||a.push(d))}return[s,o,a]}var be={data:function(){return{username:drupalSettings.assignments.username,email:drupalSettings.assignments.useremail,role:drupalSettings.assignments.role,token:drupalSettings.assignments.token,curlCode:"",curlRole:"",curlName:"",curlDep:"",curlGrp:"",curlNotify:0,curlFreq:"",authenticated:"",authText:"",accesslevel0:!1,accesslevel0r:!1,accesslevel1:!1,accesslevel1r:!1,accesslevel2:!1,viewmode:!1,navscreenmsg:"",navscreenmsgtype:"",navscreenmsgicon:"",naverroricon:"far fa-times-circle fa-2x alert--error-icon",navsuccessicon:"far fa-check-circle fa-2x alert--success-icon"}},beforeMount:function(){axios.post("https://web.bftv.ucdavis.edu/reporting/connector.php",{crossDomain:!0,loginid:this.username,token:this.token,email:this.email,headers:{"Content-Type":"application/json"}}).then(e=>{this.curlCode=e.data.response,this.curlCode==1||this.curlCode==3?(this.curlRole=e.data.userrole,this.curlName=e.data.username,this.curlDep=e.data.userdep,this.curlGrp=e.data.usergrps,this.curlNotify=e.data.usernotify,this.curlFreq=e.data.userfreq,this.authenticated=e.data.authenticated,this.check_auth(),this.curlRole=="superadmin"?(this.accesslevel0=!0,this.accesslevel0r=!0,this.accesslevel1=!0,this.accesslevel1r=!0,this.accesslevel2=!0):this.curlRole=="orgadmin"?(this.accesslevel0=!0,this.accesslevel0r=!0,this.accesslevel1=!0,this.accesslevel1r=!0,this.accesslevel2=!1):this.curlRole=="orgreportadmin"?(this.accesslevel0=!1,this.accesslevel0r=!0,this.accesslevel1=!1,this.accesslevel1r=!0,this.accesslevel2=!1):this.curlRole=="labadmin"?(this.accesslevel0=!0,this.accesslevel0r=!0,this.accesslevel1=!1,this.accesslevel1r=!1,this.accesslevel2=!1):this.curlRole=="labreportadmin"&&(this.accesslevel0=!1,this.accesslevel0r=!0,this.accesslevel1=!1,this.accesslevel1r=!1,this.accesslevel2=!1),(this.curlRole=="orgreportadmin"||this.curlRole=="labadmin"||this.curlRole=="labreportadmin")&&(this.viewmode=!0)):this.curlRole="anonymous"}).catch(e=>{console.log(e)})},methods:{check_auth(){this.authenticated?this.authText="Authenticated":this.authText="not authenticated"},roleAnalyser(e){var t;return e=="superadmin"?t="SuperAdmin":e=="orgadmin"?t="OrgAdmin":e=="orgreportadmin"?t="OrgReportAdmin":e=="labadmin"?t="LabAdmin":e=="labreportadmin"?t="LabReportAdmin":t="none",t},authenticate(){var e=600,t=800,s="https://web.bftv.ucdavis.edu/reporting/auth.php",o=screen.width?(screen.width-e)/2:0,a=screen.height?(screen.height-t)/2:0,n="height="+t+",width="+e+",top="+a+",left="+o+",scrollbars=yes,resizable",i=window.open(s,"CAS - Central Authentication Service",n);window.addEventListener("message",function(l){if(l.data=="Authenticated.")i.close(),this.location.reload();else if(l.data=="Authentication failed.")return i.close(),Promise.reject(l.data)},!1)}}},$e={data:function(){return{message:"",screenmsg:"",screenmsgtype:"",screenmsgicon:"",erroricon:"far fa-times-circle fa-2x alert--error-icon",successicon:"far fa-check-circle fa-2x alert--success-icon",hidebody:!1,success:null,code:null,listData:[],departments:[],adgroups:[],selectedAdgroups:[],selectedRecord:{notification:1},searchValue:"",loading:!0}},methods:{getDataList:function(e,t){axios.post(e,{myid:this.username,token:this.token}).then(s=>{t=="data"?this.listData=s.data.dataList:t=="users"?(this.listData=s.data.users,this.listData.sort(this.sortFname),this.departments=s.data.departments,this.adgroups=s.data.adgroups):(this.listData=s.data.dataList,this.departments=s.data.departments),this.message=s.data.message,this.success=s.data.success,this.code=s.data.code}).catch(s=>{(s.response.status==404||s.response.status==403||s.response.status==401||s.response.status==400)&&(this.screenmsg=s.response.data.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=s.response.status,this.hidebody=!0)}).finally(()=>{this.loading=!1})},sortFname:function(e,t){return e.firstname===t.firstname?0:e.firstname<t.firstname?-1:1},convertDateFormat(e,t,s=!1){if(t=="date"){const o=e.split("-");if(o.length===3){const a=o[0],n=o[1],i=o[2];return`${n}/${i}/${a}`}else return"Invalid date format"}else if(t=="datetime"){const[o,a]=e.split(" "),n=o.split("-"),[i,l,d]=a.split(":");if(n.length===3&&i&&l&&d){const h=n[0],r=n[1],p=n[2];return s?`${r}/${p}/${h} | `+i+":"+l+":"+d:`${r}/${p}/${h}`}else return"Invalid date format"}},removeAllBackslashes(e){return e.replace(/\\/g,"")},selectRecord:function(e){this.selectedRecord={...e},this.selectedRecord.grpids&&(this.selectedRecord.grpids=JSON.parse(this.selectedRecord.grpids),this.selectedRecord.grpids=this.selectedRecord.grpids.map(String),this.selectedAdgroups=this.adgroups.filter(t=>this.selectedRecord.grpids.includes(t.id)))},unsetSelectedRecord:function(){this.selectedRecord={},this.selectedAdgroups=[]},updateField(e,t){this.selectedRecord[e]=t.target.value},loader:function(){this.loading=!0}}},en=Object.defineProperty,tn=Object.defineProperties,sn=Object.getOwnPropertyDescriptors,os=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,ns=(e,t,s)=>t in e?en(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ve=(e,t)=>{for(var s in t||(t={}))on.call(t,s)&&ns(e,s,t[s]);if(os)for(var s of os(t))nn.call(t,s)&&ns(e,s,t[s]);return e},as=(e,t)=>tn(e,sn(t));const W=window.Vue.openBlock,te=window.Vue.createElementBlock,ye=window.Vue.createElementVNode,an=window.Vue.resolveDirective,is=window.Vue.normalizeClass,Z=window.Vue.renderSlot,ee=window.Vue.normalizeProps,ne=window.Vue.guardReactiveProps,ls=window.Vue.Fragment,ds=window.Vue.renderList,Ct=window.Vue.createTextVNode,rs=window.Vue.toDisplayString,ut=window.Vue.createBlock,ht=window.Vue.resolveDynamicComponent,mt=window.Vue.createCommentVNode,cs=window.Vue.mergeProps,ln=window.Vue.toHandlers,pt=window.Vue.withDirectives,us=window.Vue.vShow,dn=window.Vue.createVNode,rn=window.Vue.Transition,cn=window.Vue.withCtx,hs=window.Vue.withModifiers,un={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(e){this.autoscroll&&e&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var e;const t=((e=this.$refs.dropdownMenu)==null?void 0:e.children[this.typeAheadPointer])||!1;if(t){const s=this.getDropdownViewport(),{top:o,bottom:a,height:n}=t.getBoundingClientRect();if(o<s.top)return this.$refs.dropdownMenu.scrollTop=t.offsetTop;if(a>s.bottom)return this.$refs.dropdownMenu.scrollTop=t.offsetTop-(s.height-n)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},hn={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let e=0;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},open(e){e&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let e=this.typeAheadPointer-1;e>=0;e--)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadDown(){for(let e=this.typeAheadPointer+1;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadSelect(){const e=this.filteredOptions[this.typeAheadPointer];e&&this.selectable(e)&&this.select(e)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},mn={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(e){this.mutableLoading=e}},methods:{toggleLoading(e=null){return e==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=e}}},Bt=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s},pn={},fn={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},gn=ye("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),vn=[gn];function yn(e,t){return W(),te("svg",fn,vn)}const bn=Bt(pn,[["render",yn]]),_n={},wn={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},$n=ye("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),kn=[$n];function Sn(e,t){return W(),te("svg",wn,kn)}const Vn=Bt(_n,[["render",Sn]]),ms={Deselect:bn,OpenIndicator:Vn},Rn={mounted(e,{instance:t}){if(t.appendToBody){const{height:s,top:o,left:a,width:n}=t.$refs.toggle.getBoundingClientRect();let i=window.scrollX||window.pageXOffset,l=window.scrollY||window.pageYOffset;e.unbindPosition=t.calculatePosition(e,t,{width:n+"px",left:i+a+"px",top:l+o+s+"px"}),document.body.appendChild(e)}},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}};function Dn(e){const t={};return Object.keys(e).sort().forEach(s=>{t[s]=e[s]}),JSON.stringify(t)}let En=0;function An(){return++En}const Cn={components:Ve({},ms),directives:{appendToBody:Rn},mixins:[un,hn,mn],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:e=>e},selectable:{type:Function,default:e=>!0},getOptionLabel:{type:Function,default(e){return typeof e=="object"?e.hasOwnProperty(this.label)?e[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(e)}.
https://vue-select.org/api/props.html#getoptionlabel`):e}},getOptionKey:{type:Function,default(e){if(typeof e!="object")return e;try{return e.hasOwnProperty("id")?e.id:Dn(e)}catch(t){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,e,t)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default(e,t,s){return(t||"").toLocaleLowerCase().indexOf(s.toLocaleLowerCase())>-1}},filter:{type:Function,default(e,t){return e.filter(s=>{let o=this.getOptionLabel(s);return typeof o=="number"&&(o=o.toString()),this.filterBy(s,o,t)})}},createOption:{type:Function,default(e){return typeof this.optionList[0]=="object"?{[this.label]:e}:e}},resetOnOptionsChange:{default:!1,validator:e=>["function","boolean"].includes(typeof e)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:e,multiple:t}){return e&&!t}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(e,t)=>e},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(e,t,{width:s,top:o,left:a}){e.style.top=o,e.style.left=a,e.style.width=s}},dropdownShouldOpen:{type:Function,default({noDrop:e,open:t,mutableLoading:s}){return e?!1:t&&!s}},uid:{type:[String,Number],default:()=>An()}},data(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return typeof this.modelValue>"u"||this.isReducingValues},selectedValue(){let e=this.modelValue;return this.isTrackingValues&&(e=this.$data._value),e!=null&&e!==""?[].concat(e):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:Ve({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:t=>this.search=t.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:e,listFooter:e,header:as(Ve({},e),{deselect:this.deselect}),footer:as(Ve({},e),{deselect:this.deselect})}},childComponents(){return Ve(Ve({},ms),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const e=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return e;const t=this.search.length?this.filter(e,this.search,this):e;if(this.taggable&&this.search.length){const s=this.createOption(this.search);this.optionExists(s)||t.unshift(s)}return t},isValueEmpty(){return this.selectedValue.length===0},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(e,t){const s=()=>typeof this.resetOnOptionsChange=="function"?this.resetOnOptionsChange(e,t,this.selectedValue):this.resetOnOptionsChange;!this.taggable&&s()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(e){this.isTrackingValues&&this.setInternalValueFromOptions(e)}},multiple(){this.clearSelection()},open(e){this.$emit(e?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(e){Array.isArray(e)?this.$data._value=e.map(t=>this.findOptionFromReducedValue(t)):this.$data._value=this.findOptionFromReducedValue(e)},select(e){this.$emit("option:selecting",e),this.isOptionSelected(e)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(e):(this.taggable&&!this.optionExists(e)&&(this.$emit("option:created",e),this.pushTag(e)),this.multiple&&(e=this.selectedValue.concat(e)),this.updateValue(e),this.$emit("option:selected",e)),this.onAfterSelect(e)},deselect(e){this.$emit("option:deselecting",e),this.updateValue(this.selectedValue.filter(t=>!this.optionComparator(t,e))),this.$emit("option:deselected",e)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(e){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(e){typeof this.modelValue>"u"&&(this.$data._value=e),e!==null&&(Array.isArray(e)?e=e.map(t=>this.reduce(t)):e=this.reduce(e)),this.$emit("update:modelValue",e)},toggleDropdown(e){const t=e.target!==this.searchEl;t&&e.preventDefault();const s=[...this.deselectButtons||[],this.$refs.clearButton];if(this.searchEl===void 0||s.filter(Boolean).some(o=>o.contains(e.target)||o===e.target)){e.preventDefault();return}this.open&&t?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(e){return this.selectedValue.some(t=>this.optionComparator(t,e))},isOptionDeselectable(e){return this.isOptionSelected(e)&&this.deselectFromDropdown},optionComparator(e,t){return this.getOptionKey(e)===this.getOptionKey(t)},findOptionFromReducedValue(e){const t=o=>JSON.stringify(this.reduce(o))===JSON.stringify(e),s=[...this.options,...this.pushedTags].filter(t);return s.length===1?s[0]:s.find(o=>this.optionComparator(o,this.$data._value))||e},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let e=null;this.multiple&&(e=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(e)}},optionExists(e){return this.optionList.some(t=>this.optionComparator(t,e))},normalizeOptionForSlot(e){return typeof e=="object"?e:{[this.label]:e}},pushTag(e){this.pushedTags.push(e)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(this.mousedown&&!this.searching)this.mousedown=!1;else{const{clearSearchOnSelect:e,multiple:t}=this;this.clearSearchOnBlur({clearSearchOnSelect:e,multiple:t})&&(this.search=""),this.closeSearchOptions();return}if(this.search.length===0&&this.options.length===0){this.closeSearchOptions();return}},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(e){const t=a=>(a.preventDefault(),!this.isComposing&&this.typeAheadSelect()),s={8:a=>this.maybeDeleteValue(),9:a=>this.onTab(),27:a=>this.onEscape(),38:a=>(a.preventDefault(),this.typeAheadUp()),40:a=>(a.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(a=>s[a]=t);const o=this.mapKeydown(s,this);if(typeof o[e.keyCode]=="function")return o[e.keyCode](e)}}},On=["dir"],In=["id","aria-expanded","aria-owns"],Bn={ref:"selectedOptions",class:"vs__selected-options"},Pn=["disabled","title","aria-label","onClick"],Tn={ref:"actions",class:"vs__actions"},Ln=["disabled"],Nn={class:"vs__spinner"},Mn=["id"],Fn=["id","aria-selected","onMouseover","onClick"],qn={key:0,class:"vs__no-options"},Un=Ct(" Sorry, no matching options. "),jn=["id"];function Gn(e,t,s,o,a,n){const i=an("append-to-body");return W(),te("div",{dir:s.dir,class:is(["v-select",n.stateClasses])},[Z(e.$slots,"header",ee(ne(n.scope.header))),ye("div",{id:`vs${s.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":n.dropdownOpen.toString(),"aria-owns":`vs${s.uid}__listbox`,"aria-label":"Search for option",onMousedown:t[1]||(t[1]=l=>n.toggleDropdown(l))},[ye("div",Bn,[(W(!0),te(ls,null,ds(n.selectedValue,(l,d)=>Z(e.$slots,"selected-option-container",{option:n.normalizeOptionForSlot(l),deselect:n.deselect,multiple:s.multiple,disabled:s.disabled},()=>[(W(),te("span",{key:s.getOptionKey(l),class:"vs__selected"},[Z(e.$slots,"selected-option",ee(ne(n.normalizeOptionForSlot(l))),()=>[Ct(rs(s.getOptionLabel(l)),1)]),s.multiple?(W(),te("button",{key:0,ref_for:!0,ref:h=>a.deselectButtons[d]=h,disabled:s.disabled,type:"button",class:"vs__deselect",title:`Deselect ${s.getOptionLabel(l)}`,"aria-label":`Deselect ${s.getOptionLabel(l)}`,onClick:h=>n.deselect(l)},[(W(),ut(ht(n.childComponents.Deselect)))],8,Pn)):mt("",!0)]))])),256)),Z(e.$slots,"search",ee(ne(n.scope.search)),()=>[ye("input",cs({class:"vs__search"},n.scope.search.attributes,ln(n.scope.search.events)),null,16)])],512),ye("div",Tn,[pt(ye("button",{ref:"clearButton",disabled:s.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:t[0]||(t[0]=(...l)=>n.clearSelection&&n.clearSelection(...l))},[(W(),ut(ht(n.childComponents.Deselect)))],8,Ln),[[us,n.showClearButton]]),Z(e.$slots,"open-indicator",ee(ne(n.scope.openIndicator)),()=>[s.noDrop?mt("",!0):(W(),ut(ht(n.childComponents.OpenIndicator),ee(cs({key:0},n.scope.openIndicator.attributes)),null,16))]),Z(e.$slots,"spinner",ee(ne(n.scope.spinner)),()=>[pt(ye("div",Nn,"Loading...",512),[[us,e.mutableLoading]])])],512)],40,In),dn(rn,{name:s.transition},{default:cn(()=>[n.dropdownOpen?pt((W(),te("ul",{id:`vs${s.uid}__listbox`,ref:"dropdownMenu",key:`vs${s.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:t[2]||(t[2]=hs((...l)=>n.onMousedown&&n.onMousedown(...l),["prevent"])),onMouseup:t[3]||(t[3]=(...l)=>n.onMouseUp&&n.onMouseUp(...l))},[Z(e.$slots,"list-header",ee(ne(n.scope.listHeader))),(W(!0),te(ls,null,ds(n.filteredOptions,(l,d)=>(W(),te("li",{id:`vs${s.uid}__option-${d}`,key:s.getOptionKey(l),role:"option",class:is(["vs__dropdown-option",{"vs__dropdown-option--deselect":n.isOptionDeselectable(l)&&d===e.typeAheadPointer,"vs__dropdown-option--selected":n.isOptionSelected(l),"vs__dropdown-option--highlight":d===e.typeAheadPointer,"vs__dropdown-option--disabled":!s.selectable(l)}]),"aria-selected":d===e.typeAheadPointer?!0:null,onMouseover:h=>s.selectable(l)?e.typeAheadPointer=d:null,onClick:hs(h=>s.selectable(l)?n.select(l):null,["prevent","stop"])},[Z(e.$slots,"option",ee(ne(n.normalizeOptionForSlot(l))),()=>[Ct(rs(s.getOptionLabel(l)),1)])],42,Fn))),128)),n.filteredOptions.length===0?(W(),te("li",qn,[Z(e.$slots,"no-options",ee(ne(n.scope.noOptions)),()=>[Un])])):mt("",!0),Z(e.$slots,"list-footer",ee(ne(n.scope.listFooter)))],40,Mn)),[[i]]):(W(),te("ul",{key:1,id:`vs${s.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,jn))]),_:3},8,["name"]),Z(e.$slots,"footer",ee(ne(n.scope.footer)))],10,On)}const zn=Bt(Cn,[["render",Gn]]),ke=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s},xn={components:{"v-select":zn},mixins:[be,$e],name:"UserManagement",mounted:function(){const e="https://web.bftv.ucdavis.edu/reporting/users-get.php";this.getDataList(e,"users")},methods:{updateSelectedAdgroups(e){this.selectedAdgroups=e},addUser(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-add-user")),s=document.getElementById("useremail").value;axios.post("https://web.bftv.ucdavis.edu/reporting/user-add.php",{crossDomain:!0,email:s,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(o=>{this.screenmsg=o.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=o.data.users,this.listData.sort(this.sortFname)}).catch(o=>{o.response.data.message?this.screenmsg=o.response.data.message:o.data.message?this.screenmsg=o.data.message:this.screenmsg=o.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=o.response.status}).finally(()=>{document.getElementById("useremail").value="",t.hide(),this.loading=!1}),window.scrollTo(0,400)},updateUser(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-user")),s=document.getElementById("email").value,o=document.getElementById("department").value,a=document.getElementById("role").value,n=document.getElementById("fullname").value,i=document.getElementById("notification").checked,l=document.querySelector('input[name="frequency"]:checked').value,d=document.getElementById("status_check").checked,h="";i==!0?i=1:i=0,d==!0?d=1:d=0,e.submitter.name=="refresh-user"?h="refresh":h="save",axios.post("https://web.bftv.ucdavis.edu/reporting/user-update.php",{crossDomain:!0,email:s,department:o,role:a,name:n,notification:i,frequency:l,enabled:d,mode:h,adgroups:this.selectedAdgroups,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(r=>{console.log(r.data),this.screenmsg=r.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=r.data.users,this.listData.sort(this.sortFname)}).catch(r=>{console.log(r),r.response.data.message?this.screenmsg=r.response.data.message:r.data.message?this.screenmsg=r.data.message:this.screenmsg=r.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=r.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)},delUser(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-del-user")),s=document.getElementById("email").value,o=document.getElementById("department").value;axios.post("https://web.bftv.ucdavis.edu/reporting/user-delete.php",{crossDomain:!0,email:s,department:o,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(a=>{this.screenmsg=a.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=a.data.users,this.listData.sort(this.sortFname)}).catch(a=>{a.response.data.message?this.screenmsg=a.response.data.message:a.data.message?this.screenmsg=a.data.message:this.screenmsg=a.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=a.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)}},computed:{adgroupOptions(){return this.adgroups.map(e=>({id:e.id,adgroup:e.adgroup}))}}},c=window.Vue.createElementVNode,j=window.Vue.openBlock,G=window.Vue.createElementBlock,ue=window.Vue.createCommentVNode,ps=window.Vue.normalizeClass,ae=window.Vue.toDisplayString,Ee=window.Vue.createTextVNode,fs=window.Vue.renderList,ft=window.Vue.Fragment,gt=window.Vue.withModifiers,gs=window.Vue.vModelSelect,Te=window.Vue.withDirectives,vt=window.Vue.vModelRadio,Hn=window.Vue.resolveComponent,Kn=window.Vue.createVNode,Yn=window.Vue.createStaticVNode,Qn={class:"container-fluid"},Wn={key:0,id:"loading",class:"mt-3"},Xn=c("div",{class:"spinner-border text-secondary loader",role:"status"},[c("span",{class:"sr-only"},"Loading...")],-1),Jn=[Xn],Zn={key:1},ea={key:0,class:"mt-5"},ta={key:0},sa={key:1,class:"row mt-3"},oa=c("div",{class:"col-md-12 text-end"},[c("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#modal-add-user"},"+ Add a User")],-1),na=[oa],aa={key:2,class:"table-responsive mt-2"},ia={class:"table table-bordered table-hover table-striped"},la=c("thead",{class:"thead-light"},[c("tr",null,[c("th",null,"Name"),c("th",null,"Department"),c("th",null,"Role"),c("th",null,"Status"),c("th")])],-1),da={class:"text-capitalize"},ra=["innerHTML"],ca=["innerHTML"],ua=["onClick"],ha=c("i",{class:"fa-solid fa-pen-to-square"},null,-1),ma=[ha],pa=["onClick"],fa=c("i",{class:"fa-solid fa-circle-xmark"},null,-1),ga=[fa],va={key:2},ya=c("div",{class:"alert alert--error"},[c("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),Ee(" You are not authorized to view this page. ")],-1),ba=[ya],_a={class:"modal fade",id:"modal-add-user",tabindex:"-1","aria-labelledby":"modal-add-user-label","aria-hidden":"true"},wa={class:"modal-dialog"},$a={class:"modal-content"},ka=c("div",{class:"modal-header"},[c("h3",{class:"modal-title fs-5",id:"modal-add-user-label"},"Add a New User"),c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Sa=Yn('<div class="modal-body"><div class="row m-2"><div class="col-md-12 mt-1"><input type="email" name="useremail" id="useremail" placeholder="email@ucdavis.edu" required></div></div></div><div class="modal-footer"><button type="button" class="btn btn-primary btn-sm" data-bs-dismiss="modal">Close</button><button type="submit" class="btn btn-primary btn-sm">Add</button></div>',2),Va=[Sa],Ra={class:"modal fade",id:"modal-del-user",tabindex:"-1","aria-labelledby":"modal-del-user-label","aria-hidden":"true"},Da={class:"modal-dialog"},Ea={class:"modal-content"},Aa={class:"modal-header"},Ca=c("h3",{class:"modal-title fs-5",id:"modal-add-user-label"},"Delete User",-1),Oa={class:"modal-body"},Ia={class:"row m-2"},Ba={class:"col-md-12 mt-1"},Pa={class:"modal-footer"},Ta=["value"],La=["value"],Na=c("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1),Ma={class:"modal fade",id:"modal-user",tabindex:"-1","aria-labelledby":"modal-user-label","aria-hidden":"true"},Fa={class:"modal-dialog modal-xl"},qa={class:"modal-content"},Ua={class:"modal-header"},ja={class:"modal-title fs-5",id:"modal-user-label"},Ga={class:"modal-body"},za=c("div",{class:"row m-2"},[c("div",{class:"col-md-10 text-end"},[c("button",{type:"submit",class:"btn btn-primary btn-sm",name:"refresh-user"},"Refresh from UC Directory")])],-1),xa={class:"row m-2"},Ha=c("div",{class:"col-md-4 fw-bold text-end"}," First Name ",-1),Ka={class:"col-md-6"},Ya=["value"],Qa={class:"row m-2"},Wa=c("div",{class:"col-md-4 fw-bold text-end"}," Last Name ",-1),Xa={class:"col-md-6"},Ja=["value"],Za={class:"row m-2"},ei=c("div",{class:"col-md-4 fw-bold text-end"}," Login ID ",-1),ti={class:"col-md-6"},si=["value"],oi={class:"row m-2"},ni=c("div",{class:"col-md-4 fw-bold text-end"}," E-mail ",-1),ai={class:"col-md-6"},ii=["value"],li={class:"row m-2"},di=c("div",{class:"col-md-4 fw-bold text-end"}," Departments ",-1),ri={class:"col-md-6"},ci=c("option",null,"-- select an option --",-1),ui=["value"],hi={class:"row m-2"},mi=c("div",{class:"col-md-4 fw-bold text-end"}," Role ",-1),pi={class:"col-md-6"},fi=c("option",null,"-- select an option --",-1),gi={key:0,value:"superadmin"},vi=c("option",{value:"orgadmin"},"OrgAdmin",-1),yi=c("option",{value:"orgreportadmin"},"OrgReportAdmin",-1),bi=c("option",{value:"labadmin"},"LabAdmin",-1),_i=c("option",{value:"labreportadmin"},"LabReportAdmin",-1),wi={class:"row m-2"},$i={class:"col-md-6 offset-md-4"},ki=["value","checked"],Si=c("label",{class:"radio-check-label",for:"status_check"},"Enable User",-1),Vi=c("div",{class:"row m-2"},[c("div",{class:"col-md-8 offset-md-4"},[c("small",null,"Below options only apply to the LabAdmins or LabReportAdmins.")])],-1),Ri={class:"row m-2"},Di={class:"col-md-6 offset-md-4"},Ei=["checked"],Ai=c("label",{class:"radio-check-label",for:"notification"},"E-mail Notification",-1),Ci={class:"row m-2"},Oi=c("div",{class:"col-md-4 fw-bold text-end"}," E-mail Frequency ",-1),Ii={class:"col-md-6"},Bi={class:"col-md-9"},Pi=c("label",{class:"radio-check-label",for:"freqmonthly"},"Monthly",-1),Ti=c("label",{class:"radio-check-label",for:"freqquarterly"},"Quarterly",-1),Li=c("label",{class:"radio-check-label",for:"freqannually"},"Annually",-1),Ni={class:"row m-2"},Mi=c("div",{class:"col-md-4 fw-bold text-end"}," ADGroups ",-1),Fi={class:"col-md-6"},qi=c("small",{class:"element-description"},"This only applies if the selected role is LabAdmin or LabReportAdmin.",-1),Ui={class:"modal-footer"},ji=["value"],Gi=c("button",{type:"submit",class:"btn btn-primary btn-sm",name:"save-user"},"Save",-1);function zi(e,t,s,o,a,n){const i=Hn("v-select");return j(),G(ft,null,[c("div",Qn,[e.loading?(j(),G("div",Wn,Jn)):ue("",!0),e.accesslevel1r?(j(),G("div",Zn,[e.screenmsg?(j(),G("div",ea,[c("div",{class:ps("alert alert--"+e.screenmsgtype)},[c("i",{class:ps(e.screenmsgicon)},null,2),Ee(" "+ae(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(j(),G("span",ta," Please contact one of the SuperAdmins through the Slack channel.")):ue("",!0)],2)])):ue("",!0),!e.hidebody&&e.accesslevel1?(j(),G("div",sa,na)):ue("",!0),e.hidebody?ue("",!0):(j(),G("div",aa,[c("table",ia,[la,c("tbody",null,[(j(!0),G(ft,null,fs(e.listData,l=>(j(),G("tr",null,[c("td",null,ae(l.firstname)+" "+ae(l.lastname),1),c("td",null,ae(l.department),1),c("td",da,ae(e.roleAnalyser(l.role)),1),c("td",null,[c("span",{title:"It shows user status.",innerHTML:l.status==1?"<i class='fa-solid fa-check color-green'></i>":"<i class='fa-solid fa-x color-red'></i>"},null,8,ra),Ee(" | "),c("span",{title:"It shows user e-mail notification status.",innerHTML:l.notification==1?"<i class='fa-regular fa-bell color-green'></i>":"<i class='fa-regular fa-bell-slash color-red'></i>"},null,8,ca)]),c("td",null,[e.accesslevel1?(j(),G("a",{key:0,href:"",onClick:d=>e.selectRecord(l),"data-bs-toggle":"modal","data-bs-target":"#modal-user",title:"Edit user"},ma,8,ua)):ue("",!0),Ee(),e.accesslevel1?(j(),G("a",{key:1,href:"",onClick:d=>e.selectRecord(l),"data-bs-toggle":"modal","data-bs-target":"#modal-del-user",title:"Delete user"},ga,8,pa)):ue("",!0)])]))),256))])])]))])):(j(),G("div",va,ba))]),c("div",_a,[c("div",wa,[c("div",$a,[ka,c("form",{method:"post",onSubmit:t[0]||(t[0]=gt((...l)=>n.addUser&&n.addUser(...l),["prevent"]))},Va,32)])])]),c("div",Ra,[c("div",Da,[c("div",Ea,[c("div",Aa,[Ca,c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=l=>e.unsetSelectedRecord())})]),c("form",{method:"post",onSubmit:t[3]||(t[3]=gt((...l)=>n.delUser&&n.delUser(...l),["prevent"]))},[c("div",Oa,[c("div",Ia,[c("div",Ba,[c("span",null,[Ee("Are you sure to delete "),c("strong",null,ae(e.selectedRecord.firstname)+" "+ae(e.selectedRecord.lastname),1),Ee(" from the system?")])])])]),c("div",Pa,[c("input",{type:"hidden",name:"email",id:"email",value:e.selectedRecord.email},null,8,Ta),c("input",{type:"hidden",name:"department",id:"department",value:e.selectedRecord.department},null,8,La),c("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=l=>e.unsetSelectedRecord())},"Cancel"),Na])],32)])])]),c("div",Ma,[c("div",Fa,[c("div",qa,[c("div",Ua,[c("h3",ja,"Edit User "+ae(e.selectedRecord.firstname)+" "+ae(e.selectedRecord.lastname),1),c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[4]||(t[4]=l=>e.unsetSelectedRecord())})]),c("form",{method:"post",onSubmit:t[16]||(t[16]=gt((...l)=>n.updateUser&&n.updateUser(...l),["prevent"]))},[c("div",Ga,[za,c("div",xa,[Ha,c("div",Ka,[c("input",{type:"text",id:"userfname",name:"userfname",value:e.selectedRecord.firstname,onInput:t[5]||(t[5]=l=>e.updateField("firstname",l)),disabled:""},null,40,Ya)])]),c("div",Qa,[Wa,c("div",Xa,[c("input",{type:"text",id:"userlname",name:"userlname",value:e.selectedRecord.lastname,onInput:t[6]||(t[6]=l=>e.updateField("lastname",l)),disabled:""},null,40,Ja)])]),c("div",Za,[ei,c("div",ti,[c("input",{type:"text",id:"loginid",name:"loginid",value:e.selectedRecord.loginid,onInput:t[7]||(t[7]=l=>e.updateField("loginid",l)),disabled:""},null,40,si)])]),c("div",oi,[ni,c("div",ai,[c("input",{type:"text",id:"email",name:"email",value:e.selectedRecord.email,onInput:t[8]||(t[8]=l=>e.updateField("email",l)),disabled:""},null,40,ii)])]),c("div",li,[di,c("div",ri,[Te(c("select",{name:"department",id:"department","onUpdate:modelValue":t[9]||(t[9]=l=>e.selectedRecord.department=l)},[ci,(j(!0),G(ft,null,fs(e.departments,l=>(j(),G("option",{key:l,value:l},ae(l),9,ui))),128))],512),[[gs,e.selectedRecord.department]])])]),c("div",hi,[mi,c("div",pi,[Te(c("select",{name:"role",id:"role","onUpdate:modelValue":t[10]||(t[10]=l=>e.selectedRecord.role=l)},[fi,e.accesslevel2?(j(),G("option",gi,"SuperAdmin")):ue("",!0),vi,yi,bi,_i],512),[[gs,e.selectedRecord.role]])])]),c("div",wi,[c("div",$i,[c("input",{type:"checkbox",id:"status_check",name:"status_check",value:e.selectedRecord.status,checked:e.selectedRecord.status=="1"},null,8,ki),Si])]),Vi,c("div",Ri,[c("div",Di,[c("input",{type:"checkbox",id:"notification",name:"notification",checked:e.selectedRecord.notification=="1"},null,8,Ei),Ai])]),c("div",Ci,[Oi,c("div",Ii,[c("div",Bi,[Te(c("input",{type:"radio",id:"freqmonthly",name:"frequency",value:"monthly","onUpdate:modelValue":t[11]||(t[11]=l=>e.selectedRecord.frequency=l)},null,512),[[vt,e.selectedRecord.frequency]]),Pi,Te(c("input",{type:"radio",id:"freqquarterly",name:"frequency",value:"quarterly","onUpdate:modelValue":t[12]||(t[12]=l=>e.selectedRecord.frequency=l)},null,512),[[vt,e.selectedRecord.frequency]]),Ti,Te(c("input",{type:"radio",id:"freqannually",name:"frequency",value:"annually","onUpdate:modelValue":t[13]||(t[13]=l=>e.selectedRecord.frequency=l)},null,512),[[vt,e.selectedRecord.frequency]]),Li])])]),c("div",Ni,[Mi,c("div",Fi,[Kn(i,{multiple:"",options:n.adgroupOptions,reduce:l=>l.id,label:"adgroup",modelValue:e.selectedAdgroups,"onUpdate:modelValue":t[14]||(t[14]=l=>e.selectedAdgroups=l),placeholder:"-- select an option --",onInput:n.updateSelectedAdgroups},null,8,["options","reduce","modelValue","onInput"]),qi])])]),c("div",Ui,[c("input",{type:"hidden",name:"fullname",id:"fullname",value:e.selectedRecord.firstname+" "+e.selectedRecord.lastname},null,8,ji),c("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[15]||(t[15]=l=>e.unsetSelectedRecord())},"Close"),Gi])],32)])])])],64)}const xi=ke(xn,[["render",zi]]);const Hi={mixins:[be,$e],name:"DepartmentManagement",mounted:function(){const e="https://web.bftv.ucdavis.edu/reporting/dep-get.php";this.getDataList(e,"department")},methods:{getDepartmentById(e){const t=this.listData.find(s=>s.id===e);return t?t.department+" ("+t.abbr+")":null},addDep(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-add-dep")),s=document.getElementById("department").value,o=document.getElementById("abbr").value,a=document.getElementById("parentdep").value,n=document.getElementById("email").value,i=document.getElementById("maindep").checked;i==!0?i=1:i=0,axios.post("https://web.bftv.ucdavis.edu/reporting/dep-add.php",{crossDomain:!0,myid:this.username,token:this.token,department:s,abbreviation:o,parentdep:a,support_email:n,maindep:i,headers:{"Content-Type":"application/json"}}).then(l=>{this.screenmsg=l.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=l.data.dataList,this.departments=l.data.departments}).catch(l=>{l.response.data.message?this.screenmsg=l.response.data.message:l.data.message?this.screenmsg=l.data.message:this.screenmsg=l.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=l.response.status}).finally(()=>{document.getElementById("department").value="",document.getElementById("abbr").value="",document.getElementById("parentdep").value="",document.getElementById("email").value="",document.getElementById("maindep").checked=!1,t.hide(),this.loading=!1}),window.scrollTo(0,400)},updateDep(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-edit-dep")),s=document.getElementById("upd_depid").value,o=document.getElementById("upd_department").value,a=document.getElementById("upd_abbr").value,n=document.getElementById("upd_parentdep").value,i=document.getElementById("upd_email").value,l=document.getElementById("upd_maindep").checked;l==!0?l=1:l=0,axios.post("https://web.bftv.ucdavis.edu/reporting/dep-update.php",{crossDomain:!0,myid:this.username,token:this.token,id:s,department:o,abbreviation:a,parentdep:n,support_email:i,maindep:l,headers:{"Content-Type":"application/json"}}).then(d=>{this.screenmsg=d.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=d.data.dataList,this.departments=d.data.departments}).catch(d=>{d.response.data.message?this.screenmsg=d.response.data.message:d.data.message?this.screenmsg=d.data.message:this.screenmsg=d.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=d.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)},delDep(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-del-dep")),s=document.getElementById("del_depid").value;axios.post("https://web.bftv.ucdavis.edu/reporting/dep-delete.php",{crossDomain:!0,depid:s,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(o=>{this.screenmsg=o.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=o.data.dataList,this.departments=o.data.departments}).catch(o=>{o.response.data.message?this.screenmsg=o.response.data.message:o.data.message?this.screenmsg=o.data.message:this.screenmsg=o.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=o.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)}}},f=window.Vue.createElementVNode,B=window.Vue.openBlock,P=window.Vue.createElementBlock,X=window.Vue.createCommentVNode,vs=window.Vue.normalizeClass,he=window.Vue.toDisplayString,Ue=window.Vue.createTextVNode,yt=window.Vue.renderList,We=window.Vue.Fragment,bt=window.Vue.withModifiers,Ki=window.Vue.vModelSelect,Yi=window.Vue.withDirectives,Fs=window.Vue.createStaticVNode,Qi=window.Vue.pushScopeId,Wi=window.Vue.popScopeId,I=e=>(Qi("data-v-db264d99"),e=e(),Wi(),e),Xi={class:"container-fluid"},Ji={key:0,id:"loading",class:"mt-3"},Zi=I(()=>f("div",{class:"spinner-border text-secondary loader",role:"status"},[f("span",{class:"sr-only"},"Loading...")],-1)),el=[Zi],tl={key:1},sl={key:0,class:"mt-5"},ol={key:0},nl={key:1,class:"row mt-3"},al={key:0,class:"col-md-12 text-end"},il=I(()=>f("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#modal-add-dep"},"+ Add a Department",-1)),ll=[il],dl={key:2,class:"table-responsive mt-2"},rl={class:"table table-bordered table-hover table-striped"},cl={class:"thead-light"},ul=I(()=>f("th",null,"Departments",-1)),hl=I(()=>f("th",null,"Parent",-1)),ml=I(()=>f("th",null,"Support E-mail",-1)),pl={key:0},fl={key:0},gl={key:0},vl=["onClick"],yl=I(()=>f("i",{class:"fa-solid fa-pen-to-square"},null,-1)),bl=[yl],_l=["onClick"],wl=I(()=>f("i",{class:"fa-solid fa-circle-xmark"},null,-1)),$l=[wl],kl={key:2},Sl=I(()=>f("div",{class:"alert alert--error"},[f("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),Ue(" You are not authorized to view this page. ")],-1)),Vl=[Sl],Rl={key:0,class:"modal fade",id:"modal-add-dep",tabindex:"-1","aria-labelledby":"modal-add-dep-label","aria-hidden":"true"},Dl={class:"modal-dialog modal-xl"},El={class:"modal-content"},Al=I(()=>f("div",{class:"modal-header"},[f("h3",{class:"modal-title fs-5",id:"modal-add-dep-label"},"Add a New Department"),f("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Cl={class:"modal-body"},Ol=Fs('<div class="row m-2" data-v-db264d99><div class="col-md-4 fw-bold text-end required" data-v-db264d99> Department </div><div class="col-md-6" data-v-db264d99><input type="text" id="department" name="department" required data-v-db264d99></div></div><div class="row m-2" data-v-db264d99><div class="col-md-4 fw-bold text-end" data-v-db264d99> Abbreviation </div><div class="col-md-6" data-v-db264d99><input type="text" id="abbr" name="abbr" data-v-db264d99></div></div>',2),Il={class:"row m-2"},Bl=I(()=>f("div",{class:"col-md-4 fw-bold text-end"}," Parent ",-1)),Pl={class:"col-md-6"},Tl={name:"parentdep",id:"parentdep"},Ll=I(()=>f("option",null,"-- select an option --",-1)),Nl=["value"],Ml=Fs('<div class="row m-2" data-v-db264d99><div class="col-md-4 fw-bold text-end" data-v-db264d99> Support E-mail </div><div class="col-md-6" data-v-db264d99><input type="email" id="email" name="email" data-v-db264d99></div></div><div class="row m-2" data-v-db264d99><div class="col-md-6 offset-md-4" data-v-db264d99><input type="checkbox" id="maindep" name="maindep" data-v-db264d99><label class="radio-check-label" for="maindep" data-v-db264d99>Main Department</label></div></div>',2),Fl=I(()=>f("div",{class:"modal-footer"},[f("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal"},"Close"),f("button",{type:"submit",class:"btn btn-primary btn-sm"},"Add")],-1)),ql={key:1,class:"modal fade",id:"modal-del-dep",tabindex:"-1","aria-labelledby":"modal-del-dep-label","aria-hidden":"true"},Ul={class:"modal-dialog"},jl={class:"modal-content"},Gl={class:"modal-header"},zl=I(()=>f("h3",{class:"modal-title fs-5",id:"modal-del-dep-label"},"Delete Department",-1)),xl={class:"modal-body"},Hl={class:"row m-2"},Kl={class:"col-md-12 mt-1"},Yl={class:"modal-footer"},Ql=["value"],Wl=I(()=>f("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1)),Xl={key:2,class:"modal fade",id:"modal-edit-dep",tabindex:"-1","aria-labelledby":"modal-edit-dep-label","aria-hidden":"true"},Jl={class:"modal-dialog modal-xl"},Zl={class:"modal-content"},ed={class:"modal-header"},td=I(()=>f("h3",{class:"modal-title fs-5",id:"modal-edit-dep-label"},"Update Department",-1)),sd={class:"modal-body"},od={class:"row m-2"},nd=I(()=>f("div",{class:"col-md-4 fw-bold text-end required"}," Department ",-1)),ad={class:"col-md-6"},id=["value"],ld={class:"row m-2"},dd=I(()=>f("div",{class:"col-md-4 fw-bold text-end"}," Abbreviation ",-1)),rd={class:"col-md-6"},cd=["value"],ud={class:"row m-2"},hd=I(()=>f("div",{class:"col-md-4 fw-bold text-end"}," Parent ",-1)),md={class:"col-md-6"},pd=I(()=>f("option",null,"-- select an option --",-1)),fd=["value"],gd={class:"row m-2"},vd=I(()=>f("div",{class:"col-md-4 fw-bold text-end"}," Support E-mail ",-1)),yd={class:"col-md-6"},bd=["value"],_d={class:"row m-2"},wd={class:"col-md-6 offset-md-4"},$d=["checked"],kd=I(()=>f("label",{class:"radio-check-label",for:"upd_maindep"},"Main Department",-1)),Sd={class:"modal-footer"},Vd=["value"],Rd=I(()=>f("button",{type:"submit",class:"btn btn-primary btn-sm"},"Update",-1));function Dd(e,t,s,o,a,n){return B(),P(We,null,[f("div",Xi,[e.loading?(B(),P("div",Ji,el)):X("",!0),e.accesslevel1?(B(),P("div",tl,[e.screenmsg?(B(),P("div",sl,[f("div",{class:vs("alert alert--"+e.screenmsgtype)},[f("i",{class:vs(e.screenmsgicon)},null,2),Ue(" "+he(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(B(),P("span",ol," Please contact one of the SuperAdmins through the Slack channel.")):X("",!0)],2)])):X("",!0),e.hidebody?X("",!0):(B(),P("div",nl,[e.accesslevel2?(B(),P("div",al,ll)):X("",!0)])),e.hidebody?X("",!0):(B(),P("div",dl,[f("table",rl,[f("thead",cl,[f("tr",null,[ul,hl,ml,e.accesslevel2?(B(),P("th",pl)):X("",!0)])]),f("tbody",null,[(B(!0),P(We,null,yt(e.listData,i=>(B(),P("tr",null,[f("td",null,he(i.department)+" ("+he(i.abbr)+")",1),f("td",null,[i.parentdep?(B(),P("span",fl,he(n.getDepartmentById(i.parentdep)),1)):X("",!0)]),f("td",null,he(i.support_email),1),e.accesslevel2?(B(),P("td",gl,[f("a",{href:"",onClick:l=>e.selectRecord(i),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-dep",title:"Edit department"},bl,8,vl),Ue(),f("a",{href:"",onClick:l=>e.selectRecord(i),"data-bs-toggle":"modal","data-bs-target":"#modal-del-dep",title:"Delete department"},$l,8,_l)])):X("",!0)]))),256))])])]))])):(B(),P("div",kl,Vl))]),e.accesslevel2?(B(),P("div",Rl,[f("div",Dl,[f("div",El,[Al,f("form",{method:"post",onSubmit:t[0]||(t[0]=bt((...i)=>n.addDep&&n.addDep(...i),["prevent"]))},[f("div",Cl,[Ol,f("div",Il,[Bl,f("div",Pl,[f("select",Tl,[Ll,(B(!0),P(We,null,yt(e.departments,i=>(B(),P("option",{key:i,value:i.id},he(i.department),9,Nl))),128))])])]),Ml]),Fl],32)])])])):X("",!0),e.accesslevel2?(B(),P("div",ql,[f("div",Ul,[f("div",jl,[f("div",Gl,[zl,f("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=i=>e.unsetSelectedRecord())})]),f("form",{method:"post",onSubmit:t[3]||(t[3]=bt((...i)=>n.delDep&&n.delDep(...i),["prevent"]))},[f("div",xl,[f("div",Hl,[f("div",Kl,[f("span",null,[Ue("Are you sure to delete "),f("strong",null,he(e.selectedRecord.department),1),Ue(" from the system?")])])])]),f("div",Yl,[f("input",{type:"hidden",name:"del_depid",id:"del_depid",value:e.selectedRecord.id},null,8,Ql),f("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=i=>e.unsetSelectedRecord())},"Cancel"),Wl])],32)])])])):X("",!0),e.accesslevel2?(B(),P("div",Xl,[f("div",Jl,[f("div",Zl,[f("div",ed,[td,f("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[4]||(t[4]=i=>e.unsetSelectedRecord())})]),f("form",{method:"post",onSubmit:t[11]||(t[11]=bt((...i)=>n.updateDep&&n.updateDep(...i),["prevent"]))},[f("div",sd,[f("div",od,[nd,f("div",ad,[f("input",{type:"text",id:"upd_department",name:"upd_department",value:e.selectedRecord.department,onInput:t[5]||(t[5]=i=>e.updateField("department",i)),required:""},null,40,id)])]),f("div",ld,[dd,f("div",rd,[f("input",{type:"text",id:"upd_abbr",name:"upd_abbr",value:e.selectedRecord.abbr,onInput:t[6]||(t[6]=i=>e.updateField("abbr",i))},null,40,cd)])]),f("div",ud,[hd,f("div",md,[Yi(f("select",{name:"upd_parentdep",id:"upd_parentdep","onUpdate:modelValue":t[7]||(t[7]=i=>e.selectedRecord.parentdep=i)},[pd,(B(!0),P(We,null,yt(e.departments,i=>(B(),P("option",{key:i,value:i.id},he(i.department),9,fd))),128))],512),[[Ki,e.selectedRecord.parentdep]])])]),f("div",gd,[vd,f("div",yd,[f("input",{type:"email",id:"upd_email",name:"upd_email",value:e.selectedRecord.support_email,onInput:t[8]||(t[8]=i=>e.updateField("support_email",i))},null,40,bd)])]),f("div",_d,[f("div",wd,[f("input",{type:"checkbox",id:"upd_maindep",name:"upd_maindep",checked:e.selectedRecord.maindep=="1"},null,8,$d),kd])])]),f("div",Sd,[f("input",{type:"hidden",name:"upd_depid",id:"upd_depid",value:e.selectedRecord.id,onInput:t[9]||(t[9]=i=>e.updateField("id",i))},null,40,Vd),f("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[10]||(t[10]=i=>e.unsetSelectedRecord())},"Cancel"),Rd])],32)])])])):X("",!0)],64)}const Ed=ke(Hi,[["render",Dd],["__scopeId","data-v-db264d99"]]);const Ad={mixins:[be,$e],name:"ADGroupManagement",mounted:function(){const e="https://web.bftv.ucdavis.edu/reporting/adgroup-get.php";this.getDataList(e,"adgroup")},methods:{addAdg(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-add-adg")),s=document.getElementById("add_adgroup").value,o=document.getElementById("add_alias").value,a=document.getElementById("add_dep").value;axios.post("https://web.bftv.ucdavis.edu/reporting/adgroup-add.php",{crossDomain:!0,myid:this.username,token:this.token,adgroup:s,alias:o,department:a,headers:{"Content-Type":"application/json"}}).then(n=>{this.screenmsg=n.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=n.data.dataList,this.departments=n.data.departments}).catch(n=>{n.response.data.message?this.screenmsg=n.response.data.message:n.data.message?this.screenmsg=n.data.message:this.screenmsg=n.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=n.response.status}).finally(()=>{document.getElementById("add_adgroup").value="",document.getElementById("add_alias").value="",document.getElementById("add_dep").value="",t.hide(),this.loading=!1}),window.scrollTo(0,400)},updateAdg(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-edit-adg")),s=document.getElementById("upd_adgid").value,o=document.getElementById("upd_adgroup").value,a=document.getElementById("upd_alias").value,n=document.getElementById("upd_dep").value,i=document.getElementById("upd_guid").value,l="";e.submitter.name=="refresh-adgroup"?l="refresh":l="save",axios.post("https://web.bftv.ucdavis.edu/reporting/adgroup-update.php",{crossDomain:!0,myid:this.username,token:this.token,id:s,adgroup:o,alias:a,dep:n,guid:i,mode:l,headers:{"Content-Type":"application/json"}}).then(d=>{this.screenmsg=d.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=d.data.dataList,this.departments=d.data.departments}).catch(d=>{d.response.data.message?this.screenmsg=d.response.data.message:d.data.message?this.screenmsg=d.data.message:this.screenmsg=d.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=d.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)},delAdg(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-del-adg")),s=document.getElementById("del_adgid").value,o=document.getElementById("del_adgdep").value;axios.post("https://web.bftv.ucdavis.edu/reporting/adgroup-delete.php",{crossDomain:!0,adgid:s,adgdep:o,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(a=>{this.screenmsg=a.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=a.data.dataList,this.departments=a.data.departments}).catch(a=>{console.log(a),a.response.data.message?this.screenmsg=a.response.data.message:a.data.message?this.screenmsg=a.data.message:this.screenmsg=a.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=a.response.status}).finally(()=>{t.hide(),this.loading=!1}),window.scrollTo(0,400)}}},m=window.Vue.createElementVNode,Y=window.Vue.openBlock,Q=window.Vue.createElementBlock,Le=window.Vue.createCommentVNode,ys=window.Vue.normalizeClass,we=window.Vue.toDisplayString,je=window.Vue.createTextVNode,_t=window.Vue.renderList,Xe=window.Vue.Fragment,wt=window.Vue.withModifiers,Cd=window.Vue.vModelSelect,Od=window.Vue.withDirectives,Id=window.Vue.createStaticVNode,Bd=window.Vue.pushScopeId,Pd=window.Vue.popScopeId,N=e=>(Bd("data-v-d56d92c5"),e=e(),Pd(),e),Td={class:"container-fluid"},Ld={key:0,id:"loading",class:"mt-3"},Nd=N(()=>m("div",{class:"spinner-border text-secondary loader",role:"status"},[m("span",{class:"sr-only"},"Loading...")],-1)),Md=[Nd],Fd={key:1},qd={key:0,class:"mt-5"},Ud={key:0},jd={key:1,class:"row mt-3"},Gd=N(()=>m("div",{class:"col-md-12 text-end"},[m("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#modal-add-adg"},"+ Add an ADGroup")],-1)),zd=[Gd],xd={key:2,class:"table-responsive mt-2"},Hd={class:"table table-bordered table-hover table-striped"},Kd=N(()=>m("thead",{class:"thead-light"},[m("tr",null,[m("th",null,"ADGroup"),m("th",null,"Alias"),m("th",null,"Managed By"),m("th")])],-1)),Yd=["onClick"],Qd=N(()=>m("i",{class:"fa-solid fa-pen-to-square"},null,-1)),Wd=[Qd],Xd=["onClick"],Jd=N(()=>m("i",{class:"fa-solid fa-circle-xmark"},null,-1)),Zd=[Jd],er={key:2},tr=N(()=>m("div",{class:"alert alert--error"},[m("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),je(" You are not authorized to view this page. ")],-1)),sr=[tr],or={class:"modal fade",id:"modal-add-adg",tabindex:"-1","aria-labelledby":"modal-add-adg-label","aria-hidden":"true"},nr={class:"modal-dialog modal-xl"},ar={class:"modal-content"},ir=N(()=>m("div",{class:"modal-header"},[m("h3",{class:"modal-title fs-5",id:"modal-add-adg-label"},"Add a New ADGroup"),m("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),lr={class:"modal-body"},dr=Id('<div class="row m-2" data-v-d56d92c5><div class="col-md-4 fw-bold text-end required" data-v-d56d92c5> ADGroup Name </div><div class="col-md-6" data-v-d56d92c5><input type="text" id="add_adgroup" name="add_adgroup" placeholder="ADGroup Title" required data-v-d56d92c5><small class="element-description" data-v-d56d92c5>It should exactly match the name of the group on AD. It is case-sensitive.</small></div></div><div class="row m-2" data-v-d56d92c5><div class="col-md-4 fw-bold text-end" data-v-d56d92c5> Alias </div><div class="col-md-6" data-v-d56d92c5><input type="text" id="add_alias" name="add_alias" placeholder="ADGroup Alias" data-v-d56d92c5></div></div>',2),rr={class:"row m-2"},cr=N(()=>m("div",{class:"col-md-4 fw-bold text-end required"}," Department ",-1)),ur={class:"col-md-6"},hr={name:"add_dep",id:"add_dep",required:""},mr=N(()=>m("option",null,"-- select a department --",-1)),pr=["value"],fr=N(()=>m("div",{class:"modal-footer"},[m("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal"},"Close"),m("button",{type:"submit",class:"btn btn-primary btn-sm"},"Add")],-1)),gr={class:"modal fade",id:"modal-del-adg",tabindex:"-1","aria-labelledby":"modal-del-adg-label","aria-hidden":"true"},vr={class:"modal-dialog"},yr={class:"modal-content"},br={class:"modal-header"},_r=N(()=>m("h3",{class:"modal-title fs-5",id:"modal-del-adg-label"},"Delete ADGroup",-1)),wr={class:"modal-body"},$r={class:"row m-2"},kr={class:"col-md-12 mt-1"},Sr={class:"modal-footer"},Vr=["value"],Rr=["value"],Dr=N(()=>m("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1)),Er={class:"modal fade",id:"modal-edit-adg",tabindex:"-1","aria-labelledby":"modal-edit-adg-label","aria-hidden":"true"},Ar={class:"modal-dialog modal-xl"},Cr={class:"modal-content"},Or={class:"modal-header"},Ir=N(()=>m("h3",{class:"modal-title fs-5",id:"modal-edit-adg-label"},"Update ADGroup",-1)),Br={class:"modal-body"},Pr=N(()=>m("div",{class:"row m-2"},[m("div",{class:"col-md-10 text-end"},[m("button",{type:"submit",class:"btn btn-primary btn-sm",name:"refresh-adgroup"},"Refresh from AD")])],-1)),Tr={class:"row m-2"},Lr=N(()=>m("div",{class:"col-md-4 fw-bold text-end required"}," ADGroup Name ",-1)),Nr={class:"col-md-6"},Mr=["value"],Fr=N(()=>m("small",{class:"element-description"},"It should exactly match the name of the group on AD. It is case-sensitive.",-1)),qr={class:"row m-2"},Ur=N(()=>m("div",{class:"col-md-4 fw-bold text-end"}," Alias ",-1)),jr={class:"col-md-6"},Gr=["value"],zr={class:"row m-2"},xr=N(()=>m("div",{class:"col-md-4 fw-bold text-end required"}," Department ",-1)),Hr={class:"col-md-6"},Kr=N(()=>m("option",null,"-- select a department --",-1)),Yr=["value"],Qr={class:"modal-footer"},Wr=["value"],Xr=["value"],Jr=N(()=>m("button",{type:"submit",class:"btn btn-primary btn-sm"},"Update",-1));function Zr(e,t,s,o,a,n){return Y(),Q(Xe,null,[m("div",Td,[e.loading?(Y(),Q("div",Ld,Md)):Le("",!0),e.accesslevel1?(Y(),Q("div",Fd,[e.screenmsg?(Y(),Q("div",qd,[m("div",{class:ys("alert alert--"+e.screenmsgtype)},[m("i",{class:ys(e.screenmsgicon)},null,2),je(" "+we(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(Y(),Q("span",Ud," Please contact one of the SuperAdmins through the Slack channel.")):Le("",!0)],2)])):Le("",!0),e.hidebody?Le("",!0):(Y(),Q("div",jd,zd)),e.hidebody?Le("",!0):(Y(),Q("div",xd,[m("table",Hd,[Kd,m("tbody",null,[(Y(!0),Q(Xe,null,_t(e.listData,i=>(Y(),Q("tr",null,[m("td",null,we(i.adgroup),1),m("td",null,we(i.alias),1),m("td",null,we(i.department),1),m("td",null,[m("a",{href:"",onClick:l=>e.selectRecord(i),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-adg",title:"Edit ADGroup"},Wd,8,Yd),je(),m("a",{href:"",onClick:l=>e.selectRecord(i),"data-bs-toggle":"modal","data-bs-target":"#modal-del-adg",title:"Delete ADGroup"},Zd,8,Xd)])]))),256))])])]))])):(Y(),Q("div",er,sr))]),m("div",or,[m("div",nr,[m("div",ar,[ir,m("form",{method:"post",onSubmit:t[0]||(t[0]=wt((...i)=>n.addAdg&&n.addAdg(...i),["prevent"]))},[m("div",lr,[dr,m("div",rr,[cr,m("div",ur,[m("select",hr,[mr,(Y(!0),Q(Xe,null,_t(e.departments,i=>(Y(),Q("option",{key:i,value:i.department},we(i.department),9,pr))),128))])])])]),fr],32)])])]),m("div",gr,[m("div",vr,[m("div",yr,[m("div",br,[_r,m("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=i=>e.unsetSelectedRecord())})]),m("form",{method:"post",onSubmit:t[3]||(t[3]=wt((...i)=>n.delAdg&&n.delAdg(...i),["prevent"]))},[m("div",wr,[m("div",$r,[m("div",kr,[m("span",null,[je("Are you sure to delete "),m("strong",null,we(e.selectedRecord.adgroup),1),je(" from the system?")])])])]),m("div",Sr,[m("input",{type:"hidden",name:"del_adgid",id:"del_adgid",value:e.selectedRecord.id},null,8,Vr),m("input",{type:"hidden",name:"del_adgdep",id:"del_adgdep",value:e.selectedRecord.department},null,8,Rr),m("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=i=>e.unsetSelectedRecord())},"Cancel"),Dr])],32)])])]),m("div",Er,[m("div",Ar,[m("div",Cr,[m("div",Or,[Ir,m("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[4]||(t[4]=i=>e.unsetSelectedRecord())})]),m("form",{method:"post",onSubmit:t[11]||(t[11]=wt((...i)=>n.updateAdg&&n.updateAdg(...i),["prevent"]))},[m("div",Br,[Pr,m("div",Tr,[Lr,m("div",Nr,[m("input",{type:"text",id:"upd_adgroup",name:"upd_adgroup",value:e.selectedRecord.adgroup,onInput:t[5]||(t[5]=i=>e.updateField("adgroup",i)),required:""},null,40,Mr),Fr])]),m("div",qr,[Ur,m("div",jr,[m("input",{type:"text",id:"upd_alias",name:"upd_alias",value:e.selectedRecord.alias,onInput:t[6]||(t[6]=i=>e.updateField("alias",i))},null,40,Gr)])]),m("div",zr,[xr,m("div",Hr,[Od(m("select",{name:"upd_dep",id:"upd_dep","onUpdate:modelValue":t[7]||(t[7]=i=>e.selectedRecord.department=i),required:""},[Kr,(Y(!0),Q(Xe,null,_t(e.departments,i=>(Y(),Q("option",{key:i,value:i.department},we(i.department),9,Yr))),128))],512),[[Cd,e.selectedRecord.department]])])])]),m("div",Qr,[m("input",{type:"hidden",name:"upd_adgid",id:"upd_adgid",value:e.selectedRecord.id,onInput:t[8]||(t[8]=i=>e.updateField("id",i))},null,40,Wr),m("input",{type:"hidden",name:"upd_guid",id:"upd_guid",value:e.selectedRecord.guid,onInput:t[9]||(t[9]=i=>e.updateField("guid",i))},null,40,Xr),m("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[10]||(t[10]=i=>e.unsetSelectedRecord())},"Cancel"),Jr])],32)])])])],64)}const ec=ke(Ad,[["render",Zr],["__scopeId","data-v-d56d92c5"]]),tc={mixins:[be,$e],name:"ADGroupMembers",mounted:function(){const e="https://web.bftv.ucdavis.edu/reporting/adgroup-members-get.php";this.getDataList(e,"data")},methods:{getAdgroupClass(e){return e>2?"col-md-4":e===2?"col-md-6":"col-md-12"},addUser(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-add-user")),s=document.getElementById("useremail").value;axios.post("https://web.bftv.ucdavis.edu/reporting/user-add.php",{crossDomain:!0,email:s,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(o=>{this.screenmsg=o.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=o.data.users,this.listData.sort(this.sortFname)}).catch(o=>{o.response.data.message?this.screenmsg=o.response.data.message:o.data.message?this.screenmsg=o.data.message:this.screenmsg=o.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=o.response.status}).finally(()=>{document.getElementById("useremail").value="",t.hide(),this.loading=!1}),window.scrollTo(0,400)},delUser(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-del-user")),s=document.getElementById("email").value,o=document.getElementById("department").value;axios.post("https://web.bftv.ucdavis.edu/reporting/user-delete.php",{crossDomain:!0,email:s,department:o,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(a=>{this.screenmsg=a.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=a.data.users,this.listData.sort(this.sortFname)}).catch(a=>{a.response.data.message?this.screenmsg=a.response.data.message:a.data.message?this.screenmsg=a.data.message:this.screenmsg=a.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=a.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)}}},w=window.Vue.createElementVNode,q=window.Vue.openBlock,U=window.Vue.createElementBlock,Re=window.Vue.createCommentVNode,$t=window.Vue.normalizeClass,me=window.Vue.toDisplayString,ge=window.Vue.createTextVNode,kt=window.Vue.renderList,Je=window.Vue.Fragment,bs=window.Vue.withModifiers,sc=window.Vue.createStaticVNode,oc={class:"container-fluid"},nc={key:0,id:"loading",class:"mt-3"},ac=w("div",{class:"spinner-border text-secondary loader",role:"status"},[w("span",{class:"sr-only"},"Loading...")],-1),ic=[ac],lc={key:1},dc={key:0,class:"mt-5"},rc={key:0},cc={key:1,class:"accordion accordion-flush mt-4 deptaccordion",id:"deptAccordion"},uc={class:"accordion-item"},hc={class:"accordion-header"},mc=["data-bs-target","aria-controls"],pc=["id"],fc={class:"accordion-body"},gc={key:0,class:"row"},vc={class:"table table-bordered table-hover table-striped"},yc={class:"thead-light"},bc={colspan:"4"},_c=["href"],wc={key:0},$c={key:0},kc=["onClick"],Sc=w("i",{class:"fa-solid fa-circle-xmark"},null,-1),Vc=[Sc],Rc={key:1},Dc=w("strong",null,"ADGroup",-1),Ec={key:2},Ac=w("div",{class:"alert alert--error"},[w("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),ge(" You are not authorized to view this page. ")],-1),Cc=[Ac],Oc={class:"modal fade",id:"modal-add-user",tabindex:"-1","aria-labelledby":"modal-add-user-label","aria-hidden":"true"},Ic={class:"modal-dialog"},Bc={class:"modal-content"},Pc=w("div",{class:"modal-header"},[w("h3",{class:"modal-title fs-5",id:"modal-add-user-label"},"Add a New User"),w("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Tc=sc('<div class="modal-body"><div class="row m-2"><div class="col-md-12 mt-1"><input type="email" name="useremail" id="useremail" placeholder="email@ucdavis.edu" required></div></div></div><div class="modal-footer"><button type="button" class="btn btn-primary btn-sm" data-bs-dismiss="modal">Close</button><button type="submit" class="btn btn-primary btn-sm">Add</button></div>',2),Lc=[Tc],Nc={class:"modal fade",id:"modal-del-user",tabindex:"-1","aria-labelledby":"modal-del-user-label","aria-hidden":"true"},Mc={class:"modal-dialog"},Fc={class:"modal-content"},qc={class:"modal-header"},Uc=w("h3",{class:"modal-title fs-5",id:"modal-add-user-label"},"Delete User",-1),jc={class:"modal-body"},Gc={class:"row m-2"},zc={class:"col-md-12 mt-1"},xc={class:"modal-footer"},Hc=["value"],Kc=["value"],Yc=w("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1);function Qc(e,t,s,o,a,n){return q(),U(Je,null,[w("div",oc,[e.loading?(q(),U("div",nc,ic)):Re("",!0),e.accesslevel0?(q(),U("div",lc,[e.screenmsg?(q(),U("div",dc,[w("div",{class:$t("alert alert--"+e.screenmsgtype)},[w("i",{class:$t(e.screenmsgicon)},null,2),ge(" "+me(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(q(),U("span",rc," Please contact one of the SuperAdmins through the Slack channel.")):Re("",!0)],2)])):Re("",!0),e.hidebody?Re("",!0):(q(),U("div",cc,[(q(!0),U(Je,null,kt(e.listData,i=>(q(),U("div",uc,[w("h2",hc,[w("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-"+i.depid,"aria-expanded":"true","aria-controls":"collapse-"+i.depid},me(i.department),9,mc)]),w("div",{id:"collapse-"+i.depid,class:"accordion-collapse collapse show","data-bs-parent":"#deptAccordion"},[w("div",fc,[i.adgroups?(q(),U("div",gc,[(q(!0),U(Je,null,kt(i.adgroups,l=>(q(),U("div",{class:$t(["table-responsive","mt-2",n.getAdgroupClass(i.adgroups.length)])},[w("table",vc,[w("thead",yc,[w("tr",null,[w("th",bc,[ge(me(this.viewmode&&l.alias?l.alias:l.adgroup)+" ",1),w("small",null,"("+me(l.members.length)+" members)",1)])])]),w("tbody",null,[(q(!0),U(Je,null,kt(l.members,d=>(q(),U("tr",null,[w("td",null,[w("a",{href:"mailto:"+d.mail},me(d.displayName),9,_c),ge(),e.viewmode?Re("",!0):(q(),U("span",wc,"("+me(d.samAccountName)+")",1))]),e.accesslevel0?(q(),U("td",$c,[w("a",{href:"",onClick:h=>e.selectRecord(d),"data-bs-toggle":"modal","data-bs-target":"#modal-del-mem",title:"Delete member"},Vc,8,kc)])):Re("",!0)]))),256))])])],2))),256))])):(q(),U("div",Rc,[ge(" There is no "),Dc,ge(" associated with your account or your department. ")]))])],8,pc)]))),256))]))])):(q(),U("div",Ec,Cc))]),w("div",Oc,[w("div",Ic,[w("div",Bc,[Pc,w("form",{method:"post",onSubmit:t[0]||(t[0]=bs((...i)=>n.addUser&&n.addUser(...i),["prevent"]))},Lc,32)])])]),w("div",Nc,[w("div",Mc,[w("div",Fc,[w("div",qc,[Uc,w("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=i=>e.unsetSelectedRecord())})]),w("form",{method:"post",onSubmit:t[3]||(t[3]=bs((...i)=>n.delUser&&n.delUser(...i),["prevent"]))},[w("div",jc,[w("div",Gc,[w("div",zc,[w("span",null,[ge("Are you sure to delete "),w("strong",null,me(e.selectedRecord.firstname)+" "+me(e.selectedRecord.lastname),1),ge(" from the system?")])])])]),w("div",xc,[w("input",{type:"hidden",name:"email",id:"email",value:e.selectedRecord.email},null,8,Hc),w("input",{type:"hidden",name:"department",id:"department",value:e.selectedRecord.department},null,8,Kc),w("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=i=>e.unsetSelectedRecord())},"Cancel"),Yc])],32)])])])],64)}const Wc=ke(tc,[["render",Qc]]),Xc={mixins:[be,$e],name:"ADGroupMembersVerify",mounted:function(){const e="https://web.bftv.ucdavis.edu/reporting/adgroup-members-get.php";this.getDataList(e,"data")},methods:{transformArray(e){const t={};return e.forEach(s=>{const[o,a]=s.split("="),n=o.substring(2);t[n]||(t[n]=[]),t[n].push(a)}),t},verify(e){e.preventDefault(),this.loading=!0;const t=document.querySelectorAll('input[type="radio"][id^="k-"]:checked');var s=Array.from(t).map(n=>n.value);s=this.transformArray(s);const o=document.querySelectorAll('input[type="radio"][id^="r-"]:checked');var a=Array.from(o).map(n=>n.value);a=this.transformArray(a),axios.post("https://web.bftv.ucdavis.edu/reporting/reminder-verify.php",{crossDomain:!0,myid:this.username,token:this.token,keepList:s,removeList:a,headers:{"Content-Type":"application/json"}}).then(n=>{console.log(n),this.screenmsg=n.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon}).catch(n=>{console.log(n),n.response.data.message?this.screenmsg=n.response.data.message:n.data.message?this.screenmsg=n.data.message:this.screenmsg=n.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=n.response.status}).finally(()=>{this.loading=!1}),window.scrollTo(0,400)}}},C=window.Vue.createElementVNode,z=window.Vue.openBlock,x=window.Vue.createElementBlock,Ne=window.Vue.createCommentVNode,He=window.Vue.createTextVNode,_s=window.Vue.normalizeClass,Me=window.Vue.toDisplayString,St=window.Vue.renderList,Vt=window.Vue.Fragment,Jc=window.Vue.withModifiers,Zc={class:"container-fluid"},eu={key:0,id:"loading",class:"mt-3"},tu=C("div",{class:"spinner-border text-secondary loader",role:"status"},[C("span",{class:"sr-only"},"Loading...")],-1),su=[tu],ou={key:1},nu=C("div",{class:"alert alert--error"},[C("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),He(" This page can only viewed by a LabAdmin. ")],-1),au=[nu],iu={key:2},lu={key:0,class:"mt-5"},du={key:0},ru={key:1,class:"mt-4"},cu={class:"table-responsive mt-2 col-md-12"},uu={class:"table table-bordered table-hover table-striped",style:{width:"99%"}},hu={class:"thead-light"},mu={colspan:"2"},pu=["href"],fu={key:0},gu=["id","value","name"],vu=["for"],yu=["id","value","name"],bu=["for"],_u=C("div",{class:"text-center"},[C("button",{type:"submit",class:"btn btn-primary btn-lg"},"Submit")],-1),wu={key:3},$u=C("div",{class:"alert alert--error"},[C("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),He(" You are not authorized to view this page. ")],-1),ku=[$u];function Su(e,t,s,o,a,n){return z(),x("div",Zc,[e.loading?(z(),x("div",eu,su)):Ne("",!0),e.accesslevel1?(z(),x("div",ou,au)):e.accesslevel0?(z(),x("div",iu,[e.screenmsg?(z(),x("div",lu,[C("div",{class:_s("alert alert--"+e.screenmsgtype)},[C("i",{class:_s(e.screenmsgicon)},null,2),He(" "+Me(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(z(),x("span",du," Please contact one of the SuperAdmins through the Slack channel.")):Ne("",!0)],2)])):Ne("",!0),e.hidebody?Ne("",!0):(z(),x("div",ru,[C("form",{method:"post",onSubmit:t[0]||(t[0]=Jc((...i)=>n.verify&&n.verify(...i),["prevent"]))},[(z(!0),x(Vt,null,St(e.listData,i=>(z(),x("div",null,[(z(!0),x(Vt,null,St(i.adgroups,l=>(z(),x("div",cu,[C("table",uu,[C("thead",hu,[C("tr",null,[C("th",mu,[He(Me(l.alias?l.alias:l.adgroup)+" ",1),C("small",null,"("+Me(l.members.length)+" members)",1)])])]),C("tbody",null,[(z(!0),x(Vt,null,St(l.members,d=>(z(),x("tr",null,[C("td",null,[C("a",{href:"mailto:"+d.mail},Me(d.displayName),9,pu),He(),e.viewmode?Ne("",!0):(z(),x("span",fu,"("+Me(d.samAccountName)+")",1))]),C("td",null,[C("input",{type:"radio",id:`k-${l.adgroup}-${d.objectGuid}`,value:`k-${l.adgroup}=${d.samAccountName}`,name:`${l.adgroup}-${d.objectGuid}`,checked:""},null,8,gu),C("label",{class:"radio-check-label",for:`k-${l.adgroup}-${d.objectGuid}`},"Keep",8,vu),C("input",{type:"radio",id:`r-${l.adgroup}-${d.objectGuid}`,value:`r-${l.adgroup}=${d.samAccountName}`,name:`${l.adgroup}-${d.objectGuid}`},null,8,yu),C("label",{class:"radio-check-label",for:`r-${l.adgroup}-${d.objectGuid}`},"Remove",8,bu)])]))),256))])])]))),256)),_u]))),256))],32)]))])):(z(),x("div",wu,ku))])}const Vu=ke(Xc,[["render",Su]]),Ru={mixins:[be,$e],name:"ADGroupSync",mounted:function(){const e="https://web.bftv.ucdavis.edu/reporting/adgroup-get.php";this.getDataList(e,"adgroup")},methods:{sync(e){e.preventDefault(),this.loading=!0,axios.post("https://web.bftv.ucdavis.edu/reporting/adgroup-sync.php",{crossDomain:!0,myid:this.username,token:this.token,type:"all",headers:{"Content-Type":"application/json"}}).then(t=>{this.screenmsg=t.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon}).catch(t=>{t.response.data.message?this.screenmsg=t.response.data.message:t.data.message?this.screenmsg=t.data.message:this.screenmsg=t.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=t.response.status}).finally(()=>{this.loading=!1}),window.scrollTo(0,400)},syncOne(e){e.preventDefault(),this.loading=!0,axios.post("https://web.bftv.ucdavis.edu/reporting/adgroup-sync.php",{crossDomain:!0,myid:this.username,token:this.token,type:"one",adgroup:document.getElementById("adgroup").value,headers:{"Content-Type":"application/json"}}).then(t=>{this.screenmsg=t.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon}).catch(t=>{t.response.data.message?this.screenmsg=t.response.data.message:t.data.message?this.screenmsg=t.data.message:this.screenmsg=t.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=t.response.status}).finally(()=>{this.loading=!1}),window.scrollTo(0,400)}}},T=window.Vue.createElementVNode,ie=window.Vue.openBlock,le=window.Vue.createElementBlock,Fe=window.Vue.createCommentVNode,ws=window.Vue.normalizeClass,$s=window.Vue.toDisplayString,qs=window.Vue.createTextVNode,ks=window.Vue.withModifiers,Du=window.Vue.renderList,Eu=window.Vue.Fragment,Au={class:"container-fluid"},Cu={key:0,id:"loading",class:"mt-3"},Ou=T("div",{class:"spinner-border text-secondary loader",role:"status"},[T("span",{class:"sr-only"},"Loading...")],-1),Iu=[Ou],Bu={key:1},Pu={key:0,class:"mt-5"},Tu={key:0},Lu={key:1,class:"mt-3"},Nu=T("div",{class:"alert alert--info"}," The system automatically syncs data every mid-night. You can also manually sync here. ",-1),Mu={key:0,class:"form-group"},Fu=T("legend",null,"Sync All ADGroups",-1),qu={class:"row"},Uu={class:"col-md-12"},ju=T("button",{type:"submit",class:"btn btn-primary"},"Sync All ADGroups",-1),Gu=[ju],zu={class:"form-group"},xu=T("legend",null,"Sync Specific ADGroup",-1),Hu={class:"row"},Ku={class:"col-md-6"},Yu={name:"adgroup",id:"adgroup",required:""},Qu=T("option",null,"-- select an ADGroup --",-1),Wu=["value"],Xu=T("div",{class:"col-md-6"},[T("button",{type:"submit",class:"btn btn-primary"},"Sync ADGroup")],-1),Ju={key:2},Zu=T("div",{class:"alert alert--error"},[T("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),qs(" You are not authorized to view this page. ")],-1),eh=[Zu];function th(e,t,s,o,a,n){return ie(),le("div",Au,[e.loading?(ie(),le("div",Cu,Iu)):Fe("",!0),e.accesslevel1?(ie(),le("div",Bu,[e.screenmsg?(ie(),le("div",Pu,[T("div",{class:ws("alert alert--"+e.screenmsgtype)},[T("i",{class:ws(e.screenmsgicon)},null,2),qs(" "+$s(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(ie(),le("span",Tu," Please contact one of the SuperAdmins through the Slack channel.")):Fe("",!0)],2)])):Fe("",!0),e.hidebody?Fe("",!0):(ie(),le("div",Lu,[Nu,e.accesslevel2?(ie(),le("fieldset",Mu,[Fu,T("div",qu,[T("div",Uu,[T("form",{method:"post",onSubmit:t[0]||(t[0]=ks((...i)=>n.sync&&n.sync(...i),["prevent"]))},Gu,32)])])])):Fe("",!0),T("fieldset",zu,[xu,T("form",{method:"post",onSubmit:t[1]||(t[1]=ks((...i)=>n.syncOne&&n.syncOne(...i),["prevent"]))},[T("div",Hu,[T("div",Ku,[T("select",Yu,[Qu,(ie(!0),le(Eu,null,Du(e.listData,i=>(ie(),le("option",{key:i.id,value:i.adgroup},$s(i.adgroup),9,Wu))),128))])]),Xu])],32)])]))])):(ie(),le("div",Ju,eh))])}const sh=ke(Ru,[["render",th]]),oh={mixins:[be,$e],name:"ImportData",data(){return{error:"",csvImport:[]}},mounted:function(){const e="https://web.bftv.ucdavis.edu/reporting/adgroup-get.php";this.getDataList(e,"adgroup")},methods:{handleFileADG(e){const t=e.target.files[0];if(t){const s=new FileReader;s.onload=o=>{const n=o.target.result.replace(/\r\n/g,`
`).split(`
`).map(l=>l.split(","));n[0].map(l=>l.trim()).length===3?this.csvImport=n.slice(1).map(l=>l.map(d=>d.trim())):this.error="CSV must have exactly three columns: adgroup, alias, department"},s.onerror=o=>{this.error="Error reading the file: "+o},s.readAsText(t)}},handleFileUser(e){const t=e.target.files[0];if(t){const s=new FileReader;s.onload=o=>{const n=o.target.result.replace(/\r\n/g,`
`).split(`
`).map(l=>l.split(","));n[0].map(l=>l.trim()).length===4?this.csvImport=n.slice(1).map(l=>l.map(d=>d.trim())):this.error="CSV must have exactly four columns: email, department, role, adgroups."},s.onerror=o=>{this.error="Error reading the file: "+o},s.readAsText(t)}},importADG(e){e.preventDefault(),this.loading=!0,this.error!=""?(this.screenmsg=this.error,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,window.scrollTo(0,400),this.loading=!1):(this.loading=!0,axios.post("https://web.bftv.ucdavis.edu/reporting/import.php",{crossDomain:!0,myid:this.username,token:this.token,type:"adgroup",importData:this.csvImport,headers:{"Content-Type":"application/json"}}).then(t=>{this.screenmsg=t.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon}).catch(t=>{t.response.data.message?this.screenmsg=t.response.data.message:t.data.message?this.screenmsg=t.data.message:this.screenmsg=t.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=t.response.status}).finally(()=>{this.loading=!1}),window.scrollTo(0,400))},importUser(e){e.preventDefault(),this.loading=!0,this.error!=""?(this.screenmsg=this.error,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,window.scrollTo(0,400),this.loading=!1):(this.loading=!0,axios.post("https://web.bftv.ucdavis.edu/reporting/import.php",{crossDomain:!0,myid:this.username,token:this.token,type:"user",importData:this.csvImport,headers:{"Content-Type":"application/json"}}).then(t=>{this.screenmsg=t.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon}).catch(t=>{t.response.data.message?this.screenmsg=t.response.data.message:t.data.message?this.screenmsg=t.data.message:this.screenmsg=t.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=t.response.status}).finally(()=>{this.loading=!1}),window.scrollTo(0,400))}}},E=window.Vue.createElementVNode,pe=window.Vue.openBlock,fe=window.Vue.createElementBlock,qe=window.Vue.createCommentVNode,Ss=window.Vue.normalizeClass,nh=window.Vue.toDisplayString,Us=window.Vue.createTextVNode,Rt=window.Vue.withModifiers,ah=window.Vue.createStaticVNode,ih={class:"container-fluid"},lh={key:0,id:"loading",class:"mt-3"},dh=E("div",{class:"spinner-border text-secondary loader",role:"status"},[E("span",{class:"sr-only"},"Loading...")],-1),rh=[dh],ch={key:1},uh={key:0,class:"mt-5"},hh={key:0},mh={key:1,class:"mt-3"},ph=ah('<div class="alert alert--info"> Please make sure to import in the following sequence: <br><small>(Click on each one to download a sample CSV file)</small><ol><li><a href="https://web.bftv.ucdavis.edu/reporting/import_samples/departments.csv">Import Departments</a> - <small>Only SuperAdmins allowed</small></li><li><a href="https://web.bftv.ucdavis.edu/reporting/import_samples/adgroups.csv">Import ADGroups</a> - <small>Make sure the department column should be exactly the same as it is shown on AD.</small></li><li><a href="https://web.bftv.ucdavis.edu/reporting/import_samples/users.csv">Import Users</a> - <small>Make sure the department column should be exactly the same as it is shown on AD. The role column can be superadmin, orgadmin, orgreportadmin, labadmin, or labreportadmin. OrgAdmins cannot import a user as superadmin. The adgroups column should be exactly as the ADGroup like CAES-BFTV-FST-MG-Lab-AXTaha.</small></li></ol></div>',1),fh={key:0,class:"form-group"},gh=E("legend",null,"1- Import Departments",-1),vh={class:"row"},yh={class:"col-md-6"},bh=E("div",{class:"col-md-6"},[E("button",{type:"submit",class:"btn btn-primary"},"Import Departments")],-1),_h={class:"form-group"},wh=E("legend",null,"2- Import ADGroups",-1),$h={class:"row"},kh={class:"col-md-6"},Sh=E("div",{class:"col-md-6"},[E("button",{type:"submit",class:"btn btn-primary"},"Import ADGroups")],-1),Vh={class:"form-group"},Rh=E("legend",null,"3- Import Users",-1),Dh={class:"row"},Eh={class:"col-md-6"},Ah=E("div",{class:"col-md-6"},[E("button",{type:"submit",class:"btn btn-primary"},"Import Users")],-1),Ch={key:2},Oh=E("div",{class:"alert alert--error"},[E("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),Us(" You are not authorized to view this page. ")],-1),Ih=[Oh];function Bh(e,t,s,o,a,n){return pe(),fe("div",ih,[e.loading?(pe(),fe("div",lh,rh)):qe("",!0),e.accesslevel1?(pe(),fe("div",ch,[e.screenmsg?(pe(),fe("div",uh,[E("div",{class:Ss("alert alert--"+e.screenmsgtype)},[E("i",{class:Ss(e.screenmsgicon)},null,2),Us(" "+nh(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(pe(),fe("span",hh," Please contact one of the SuperAdmins if you need more help.")):qe("",!0)],2)])):qe("",!0),e.hidebody?qe("",!0):(pe(),fe("div",mh,[ph,e.accesslevel2?(pe(),fe("fieldset",fh,[gh,E("form",{method:"post",onSubmit:t[1]||(t[1]=Rt((...i)=>e.importDep&&e.importDep(...i),["prevent"]))},[E("div",vh,[E("div",yh,[E("input",{type:"file",id:"impDEP",name:"impDEP",accept:".csv",onChange:t[0]||(t[0]=(...i)=>e.handleFileDep&&e.handleFileDep(...i))},null,32)]),bh])],32)])):qe("",!0),E("fieldset",_h,[wh,E("form",{method:"post",onSubmit:t[3]||(t[3]=Rt((...i)=>n.importADG&&n.importADG(...i),["prevent"]))},[E("div",$h,[E("div",kh,[E("input",{type:"file",id:"impADG",name:"impADG",accept:".csv",onChange:t[2]||(t[2]=(...i)=>n.handleFileADG&&n.handleFileADG(...i))},null,32)]),Sh])],32)]),E("fieldset",Vh,[Rh,E("form",{method:"post",onSubmit:t[5]||(t[5]=Rt((...i)=>n.importUser&&n.importUser(...i),["prevent"]))},[E("div",Dh,[E("div",Eh,[E("input",{type:"file",id:"impUSR",name:"impUSR",accept:".csv",onChange:t[4]||(t[4]=(...i)=>n.handleFileUser&&n.handleFileUser(...i))},null,32)]),Ah])],32)])]))])):(pe(),fe("div",Ch,Ih))])}const Ph=ke(oh,[["render",Bh]]),Th=Jo({history:po(),linkExactActiveClass:"active",linkActiveClass:"active",routes:[{path:"/departments",name:"departments",component:Ed},{path:"/adgroups",name:"adgroups",component:ec},{path:"/users",name:"users",component:xi},{path:"/sync",name:"sync",component:sh},{path:"/import",name:"import",component:Ph},{path:"/verify",name:"verify",component:Vu},{path:"/",name:"adgmembers",component:Wc}]}),Lh={mixins:[be],template:"#nav-template",methods:{loader(){this.loading=!0},unsetmsg:function(){this.navscreenmsg=""},updateSelf(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-edit-self")),s=document.getElementById("email_notification").checked,o=document.querySelector('input[name="frequency"]:checked').value;s==!0?s=1:s=0,axios.post("https://web.bftv.ucdavis.edu/reporting/user-self-update.php",{crossDomain:!0,myid:this.username,token:this.token,notification:s,frequency:o,headers:{"Content-Type":"application/json"}}).then(a=>{this.navscreenmsg=a.data.message,this.navscreenmsgtype="success",this.navscreenmsgicon=this.successicon}).catch(a=>{a.response.data.message?this.navscreenmsg=a.response.data.message:a.data.message?this.navscreenmsg=a.data.message:this.navscreenmsg=a.message,this.navscreenmsgtype="error",this.navscreenmsgicon=this.erroricon}).finally(()=>{t.hide(),this.loading=!1}),window.scrollTo(0,400)}}},Pt=Vue.createApp({});Pt.component("the-navigation",Lh);Pt.use(Th);Pt.mount("#reporting-block");
