(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function o(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=o(i);fetch(i.href,l)}})();/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */window.Vue.getCurrentInstance;const Be=window.Vue.inject;window.Vue.onUnmounted;window.Vue.onDeactivated;window.Vue.onActivated;const oe=window.Vue.computed,Ve=window.Vue.unref;window.Vue.watchEffect;const Lt=window.Vue.defineComponent,ss=window.Vue.reactive,Ut=window.Vue.h,Qe=window.Vue.provide,ds=window.Vue.ref,ns=window.Vue.watch,os=window.Vue.shallowRef,as=window.Vue.shallowReactive,is=window.Vue.nextTick,ke=typeof window<"u";function ls(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const P=Object.assign;function Xe(e,t){const o={};for(const n in t){const i=t[n];o[n]=te(i)?i.map(e):e(i)}return o}const De=()=>{},te=Array.isArray,rs=/\/$/,cs=e=>e.replace(rs,"");function Je(e,t,o="/"){let n,i={},l="",m="";const s=t.indexOf("#");let u=t.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(n=t.slice(0,u),l=t.slice(u+1,s>-1?s:t.length),i=e(l)),s>-1&&(n=n||t.slice(0,s),m=t.slice(s,t.length)),n=hs(n??t,o),{fullPath:n+(l&&"?")+l+m,path:n,query:i,hash:m}}function us(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function ht(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ms(e,t,o){const n=t.matched.length-1,i=o.matched.length-1;return n>-1&&n===i&&Ee(t.matched[n],o.matched[i])&&Gt(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Ee(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Gt(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!ps(e[o],t[o]))return!1;return!0}function ps(e,t){return te(e)?vt(e,t):te(t)?vt(t,e):e===t}function vt(e,t){return te(t)?e.length===t.length&&e.every((o,n)=>o===t[n]):e.length===1&&e[0]===t}function hs(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let l=o.length-1,m,s;for(m=0;m<n.length;m++)if(s=n[m],s!==".")if(s==="..")l>1&&l--;else break;return o.slice(0,l).join("/")+"/"+n.slice(m-(m===n.length?1:0)).join("/")}var Pe;(function(e){e.pop="pop",e.push="push"})(Pe||(Pe={}));var qe;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qe||(qe={}));function vs(e){if(!e)if(ke){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),cs(e)}const _s=/^[^#]+#/;function fs(e,t){return e.replace(_s,"#")+t}function gs(e,t){const o=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-o.left-(t.left||0),top:n.top-o.top-(t.top||0)}}const Ue=()=>({left:window.pageXOffset,top:window.pageYOffset});function bs(e){let t;if("el"in e){const o=e.el,n=typeof o=="string"&&o.startsWith("#"),i=typeof o=="string"?n?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!i)return;t=gs(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function _t(e,t){return(history.state?history.state.position-t:-1)+e}const ot=new Map;function ys(e,t){ot.set(e,t)}function ws(e){const t=ot.get(e);return ot.delete(e),t}let Rs=()=>location.protocol+"//"+location.host;function zt(e,t){const{pathname:o,search:n,hash:i}=t,l=e.indexOf("#");if(l>-1){let s=i.includes(e.slice(l))?e.slice(l).length:1,u=i.slice(s);return u[0]!=="/"&&(u="/"+u),ht(u,"")}return ht(o,e)+n+i}function $s(e,t,o,n){let i=[],l=[],m=null;const s=({state:v})=>{const y=zt(e,location),R=o.value,j=t.value;let D=0;if(v){if(o.value=y,t.value=v,m&&m===R){m=null;return}D=j?v.position-j.position:0}else n(y);i.forEach(E=>{E(o.value,R,{delta:D,type:Pe.pop,direction:D?D>0?qe.forward:qe.back:qe.unknown})})};function u(){m=o.value}function h(v){i.push(v);const y=()=>{const R=i.indexOf(v);R>-1&&i.splice(R,1)};return l.push(y),y}function r(){const{history:v}=window;v.state&&v.replaceState(P({},v.state,{scroll:Ue()}),"")}function _(){for(const v of l)v();l=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",r)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",r,{passive:!0}),{pauseListeners:u,listen:h,destroy:_}}function ft(e,t,o,n=!1,i=!1){return{back:e,current:t,forward:o,replaced:n,position:window.history.length,scroll:i?Ue():null}}function ks(e){const{history:t,location:o}=window,n={value:zt(e,o)},i={value:t.state};i.value||l(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(u,h,r){const _=e.indexOf("#"),v=_>-1?(o.host&&document.querySelector("base")?e:e.slice(_))+u:Rs()+e+u;try{t[r?"replaceState":"pushState"](h,"",v),i.value=h}catch(y){console.error(y),o[r?"replace":"assign"](v)}}function m(u,h){const r=P({},t.state,ft(i.value.back,u,i.value.forward,!0),h,{position:i.value.position});l(u,r,!0),n.value=u}function s(u,h){const r=P({},i.value,t.state,{forward:u,scroll:Ue()});l(r.current,r,!0);const _=P({},ft(n.value,u,null),{position:r.position+1},h);l(u,_,!1),n.value=u}return{location:n,state:i,push:s,replace:m}}function Es(e){e=vs(e);const t=ks(e),o=$s(e,t.state,t.location,t.replace);function n(l,m=!0){m||o.pauseListeners(),history.go(l)}const i=P({location:"",base:e,go:n,createHref:fs.bind(null,e)},t,o);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Is(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Es(e)}function Ss(e){return typeof e=="string"||e&&typeof e=="object"}function Ht(e){return typeof e=="string"||typeof e=="symbol"}const le={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Kt=Symbol("");var gt;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(gt||(gt={}));function Ie(e,t){return P(new Error,{type:e,[Kt]:!0},t)}function ae(e,t){return e instanceof Error&&Kt in e&&(t==null||!!(e.type&t))}const bt="[^/]+?",As={sensitive:!1,strict:!1,start:!0,end:!0},Cs=/[.+*?^${}()[\]/\\]/g;function Vs(e,t){const o=P({},As,t),n=[];let i=o.start?"^":"";const l=[];for(const h of e){const r=h.length?[]:[90];o.strict&&!h.length&&(i+="/");for(let _=0;_<h.length;_++){const v=h[_];let y=40+(o.sensitive?.25:0);if(v.type===0)_||(i+="/"),i+=v.value.replace(Cs,"\\$&"),y+=40;else if(v.type===1){const{value:R,repeatable:j,optional:D,regexp:E}=v;l.push({name:R,repeatable:j,optional:D});const I=E||bt;if(I!==bt){y+=10;try{new RegExp(`(${I})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${R}" (${I}): `+T.message)}}let V=j?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;_||(V=D&&h.length<2?`(?:/${V})`:"/"+V),D&&(V+="?"),i+=V,y+=20,D&&(y+=-8),j&&(y+=-20),I===".*"&&(y+=-50)}r.push(y)}n.push(r)}if(o.strict&&o.end){const h=n.length-1;n[h][n[h].length-1]+=.7000000000000001}o.strict||(i+="/?"),o.end?i+="$":o.strict&&(i+="(?:/|$)");const m=new RegExp(i,o.sensitive?"":"i");function s(h){const r=h.match(m),_={};if(!r)return null;for(let v=1;v<r.length;v++){const y=r[v]||"",R=l[v-1];_[R.name]=y&&R.repeatable?y.split("/"):y}return _}function u(h){let r="",_=!1;for(const v of e){(!_||!r.endsWith("/"))&&(r+="/"),_=!1;for(const y of v)if(y.type===0)r+=y.value;else if(y.type===1){const{value:R,repeatable:j,optional:D}=y,E=R in h?h[R]:"";if(te(E)&&!j)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const I=te(E)?E.join("/"):E;if(!I)if(D)v.length<2&&(r.endsWith("/")?r=r.slice(0,-1):_=!0);else throw new Error(`Missing required param "${R}"`);r+=I}}return r||"/"}return{re:m,score:n,keys:l,parse:s,stringify:u}}function Ds(e,t){let o=0;for(;o<e.length&&o<t.length;){const n=t[o]-e[o];if(n)return n;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function qs(e,t){let o=0;const n=e.score,i=t.score;for(;o<n.length&&o<i.length;){const l=Ds(n[o],i[o]);if(l)return l;o++}if(Math.abs(i.length-n.length)===1){if(yt(n))return 1;if(yt(i))return-1}return i.length-n.length}function yt(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Bs={type:0,value:""},Ps=/[a-zA-Z0-9_]/;function Ts(e){if(!e)return[[]];if(e==="/")return[[Bs]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${o})/"${h}": ${y}`)}let o=0,n=o;const i=[];let l;function m(){l&&i.push(l),l=[]}let s=0,u,h="",r="";function _(){h&&(o===0?l.push({type:0,value:h}):o===1||o===2||o===3?(l.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:h,regexp:r,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function v(){h+=u}for(;s<e.length;){if(u=e[s++],u==="\\"&&o!==2){n=o,o=4;continue}switch(o){case 0:u==="/"?(h&&_(),m()):u===":"?(_(),o=1):v();break;case 4:v(),o=n;break;case 1:u==="("?o=2:Ps.test(u)?v():(_(),o=0,u!=="*"&&u!=="?"&&u!=="+"&&s--);break;case 2:u===")"?r[r.length-1]=="\\"?r=r.slice(0,-1)+u:o=3:r+=u;break;case 3:_(),o=0,u!=="*"&&u!=="?"&&u!=="+"&&s--,r="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${h}"`),_(),m(),i}function js(e,t,o){const n=Vs(Ts(e.path),o),i=P(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Ns(e,t){const o=[],n=new Map;t=$t({strict:!1,end:!0,sensitive:!1},t);function i(r){return n.get(r)}function l(r,_,v){const y=!v,R=Fs(r);R.aliasOf=v&&v.record;const j=$t(t,r),D=[R];if("alias"in r){const V=typeof r.alias=="string"?[r.alias]:r.alias;for(const T of V)D.push(P({},R,{components:v?v.record.components:R.components,path:T,aliasOf:v?v.record:R}))}let E,I;for(const V of D){const{path:T}=V;if(_&&T[0]!=="/"){const se=_.record.path,X=se[se.length-1]==="/"?"":"/";V.path=_.record.path+(T&&X+T)}if(E=js(V,_,j),v?v.alias.push(E):(I=I||E,I!==E&&I.alias.push(E),y&&r.name&&!Rt(E)&&m(r.name)),R.children){const se=R.children;for(let X=0;X<se.length;X++)l(se[X],E,v&&v.children[X])}v=v||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&u(E)}return I?()=>{m(I)}:De}function m(r){if(Ht(r)){const _=n.get(r);_&&(n.delete(r),o.splice(o.indexOf(_),1),_.children.forEach(m),_.alias.forEach(m))}else{const _=o.indexOf(r);_>-1&&(o.splice(_,1),r.record.name&&n.delete(r.record.name),r.children.forEach(m),r.alias.forEach(m))}}function s(){return o}function u(r){let _=0;for(;_<o.length&&qs(r,o[_])>=0&&(r.record.path!==o[_].record.path||!Yt(r,o[_]));)_++;o.splice(_,0,r),r.record.name&&!Rt(r)&&n.set(r.record.name,r)}function h(r,_){let v,y={},R,j;if("name"in r&&r.name){if(v=n.get(r.name),!v)throw Ie(1,{location:r});j=v.record.name,y=P(wt(_.params,v.keys.filter(I=>!I.optional).map(I=>I.name)),r.params&&wt(r.params,v.keys.map(I=>I.name))),R=v.stringify(y)}else if("path"in r)R=r.path,v=o.find(I=>I.re.test(R)),v&&(y=v.parse(R),j=v.record.name);else{if(v=_.name?n.get(_.name):o.find(I=>I.re.test(_.path)),!v)throw Ie(1,{location:r,currentLocation:_});j=v.record.name,y=P({},_.params,r.params),R=v.stringify(y)}const D=[];let E=v;for(;E;)D.unshift(E.record),E=E.parent;return{name:j,path:R,params:y,matched:D,meta:Os(D)}}return e.forEach(r=>l(r)),{addRoute:l,resolve:h,removeRoute:m,getRoutes:s,getRecordMatcher:i}}function wt(e,t){const o={};for(const n of t)n in e&&(o[n]=e[n]);return o}function Fs(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ms(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ms(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const n in e.components)t[n]=typeof o=="object"?o[n]:o;return t}function Rt(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Os(e){return e.reduce((t,o)=>P(t,o.meta),{})}function $t(e,t){const o={};for(const n in e)o[n]=n in t?t[n]:e[n];return o}function Yt(e,t){return t.children.some(o=>o===e||Yt(e,o))}const Wt=/#/g,Ls=/&/g,Us=/\//g,Gs=/=/g,zs=/\?/g,Qt=/\+/g,Hs=/%5B/g,Ks=/%5D/g,Xt=/%5E/g,Ys=/%60/g,Jt=/%7B/g,Ws=/%7C/g,Zt=/%7D/g,Qs=/%20/g;function lt(e){return encodeURI(""+e).replace(Ws,"|").replace(Hs,"[").replace(Ks,"]")}function Xs(e){return lt(e).replace(Jt,"{").replace(Zt,"}").replace(Xt,"^")}function at(e){return lt(e).replace(Qt,"%2B").replace(Qs,"+").replace(Wt,"%23").replace(Ls,"%26").replace(Ys,"`").replace(Jt,"{").replace(Zt,"}").replace(Xt,"^")}function Js(e){return at(e).replace(Gs,"%3D")}function Zs(e){return lt(e).replace(Wt,"%23").replace(zs,"%3F")}function xs(e){return e==null?"":Zs(e).replace(Us,"%2F")}function Le(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ed(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const l=n[i].replace(Qt," "),m=l.indexOf("="),s=Le(m<0?l:l.slice(0,m)),u=m<0?null:Le(l.slice(m+1));if(s in t){let h=t[s];te(h)||(h=t[s]=[h]),h.push(u)}else t[s]=u}return t}function kt(e){let t="";for(let o in e){const n=e[o];if(o=Js(o),n==null){n!==void 0&&(t+=(t.length?"&":"")+o);continue}(te(n)?n.map(l=>l&&at(l)):[n&&at(n)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+o,l!=null&&(t+="="+l))})}return t}function td(e){const t={};for(const o in e){const n=e[o];n!==void 0&&(t[o]=te(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const sd=Symbol(""),Et=Symbol(""),rt=Symbol(""),xt=Symbol(""),it=Symbol("");function Ae(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function o(){e=[]}return{add:t,list:()=>e.slice(),reset:o}}function pe(e,t,o,n,i){const l=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((m,s)=>{const u=_=>{_===!1?s(Ie(4,{from:o,to:t})):_ instanceof Error?s(_):Ss(_)?s(Ie(2,{from:t,to:_})):(l&&n.enterCallbacks[i]===l&&typeof _=="function"&&l.push(_),m())},h=e.call(n&&n.instances[i],t,o,u);let r=Promise.resolve(h);e.length<3&&(r=r.then(u)),r.catch(_=>s(_))})}function Ze(e,t,o,n){const i=[];for(const l of e)for(const m in l.components){let s=l.components[m];if(!(t!=="beforeRouteEnter"&&!l.instances[m]))if(dd(s)){const h=(s.__vccOpts||s)[t];h&&i.push(pe(h,o,n,l,m))}else{let u=s();i.push(()=>u.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${m}" at "${l.path}"`));const r=ls(h)?h.default:h;l.components[m]=r;const v=(r.__vccOpts||r)[t];return v&&pe(v,o,n,l,m)()}))}}return i}function dd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function It(e){const t=Be(rt),o=Be(xt),n=oe(()=>t.resolve(Ve(e.to))),i=oe(()=>{const{matched:u}=n.value,{length:h}=u,r=u[h-1],_=o.matched;if(!r||!_.length)return-1;const v=_.findIndex(Ee.bind(null,r));if(v>-1)return v;const y=St(u[h-2]);return h>1&&St(r)===y&&_[_.length-1].path!==y?_.findIndex(Ee.bind(null,u[h-2])):v}),l=oe(()=>i.value>-1&&id(o.params,n.value.params)),m=oe(()=>i.value>-1&&i.value===o.matched.length-1&&Gt(o.params,n.value.params));function s(u={}){return ad(u)?t[Ve(e.replace)?"replace":"push"](Ve(e.to)).catch(De):Promise.resolve()}return{route:n,href:oe(()=>n.value.href),isActive:l,isExactActive:m,navigate:s}}const nd=Lt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:It,setup(e,{slots:t}){const o=ss(It(e)),{options:n}=Be(rt),i=oe(()=>({[At(e.activeClass,n.linkActiveClass,"router-link-active")]:o.isActive,[At(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const l=t.default&&t.default(o);return e.custom?l:Ut("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:i.value},l)}}}),od=nd;function ad(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function id(e,t){for(const o in t){const n=t[o],i=e[o];if(typeof n=="string"){if(n!==i)return!1}else if(!te(i)||i.length!==n.length||n.some((l,m)=>l!==i[m]))return!1}return!0}function St(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const At=(e,t,o)=>e??t??o,ld=Lt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const n=Be(it),i=oe(()=>e.route||n.value),l=Be(Et,0),m=oe(()=>{let h=Ve(l);const{matched:r}=i.value;let _;for(;(_=r[h])&&!_.components;)h++;return h}),s=oe(()=>i.value.matched[m.value]);Qe(Et,oe(()=>m.value+1)),Qe(sd,s),Qe(it,i);const u=ds();return ns(()=>[u.value,s.value,e.name],([h,r,_],[v,y,R])=>{r&&(r.instances[_]=h,y&&y!==r&&h&&h===v&&(r.leaveGuards.size||(r.leaveGuards=y.leaveGuards),r.updateGuards.size||(r.updateGuards=y.updateGuards))),h&&r&&(!y||!Ee(r,y)||!v)&&(r.enterCallbacks[_]||[]).forEach(j=>j(h))},{flush:"post"}),()=>{const h=i.value,r=e.name,_=s.value,v=_&&_.components[r];if(!v)return Ct(o.default,{Component:v,route:h});const y=_.props[r],R=y?y===!0?h.params:typeof y=="function"?y(h):y:null,D=Ut(v,P({},R,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(_.instances[r]=null)},ref:u}));return Ct(o.default,{Component:D,route:h})||D}}});function Ct(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const rd=ld;function cd(e){const t=Ns(e.routes,e),o=e.parseQuery||ed,n=e.stringifyQuery||kt,i=e.history,l=Ae(),m=Ae(),s=Ae(),u=os(le);let h=le;ke&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const r=Xe.bind(null,p=>""+p),_=Xe.bind(null,xs),v=Xe.bind(null,Le);function y(p,b){let f,w;return Ht(p)?(f=t.getRecordMatcher(p),w=b):w=p,t.addRoute(w,f)}function R(p){const b=t.getRecordMatcher(p);b&&t.removeRoute(b)}function j(){return t.getRoutes().map(p=>p.record)}function D(p){return!!t.getRecordMatcher(p)}function E(p,b){if(b=P({},b||u.value),typeof p=="string"){const S=Je(o,p,b.path),G=t.resolve({path:S.path},b),Se=i.createHref(S.fullPath);return P(S,G,{params:v(G.params),hash:Le(S.hash),redirectedFrom:void 0,href:Se})}let f;if("path"in p)f=P({},p,{path:Je(o,p.path,b.path).path});else{const S=P({},p.params);for(const G in S)S[G]==null&&delete S[G];f=P({},p,{params:_(S)}),b.params=_(b.params)}const w=t.resolve(f,b),N=p.hash||"";w.params=r(v(w.params));const L=us(n,P({},p,{hash:Xs(N),path:w.path})),C=i.createHref(L);return P({fullPath:L,hash:N,query:n===kt?td(p.query):p.query||{}},w,{redirectedFrom:void 0,href:C})}function I(p){return typeof p=="string"?Je(o,p,u.value.path):P({},p)}function V(p,b){if(h!==p)return Ie(8,{from:b,to:p})}function T(p){return he(p)}function se(p){return T(P(I(p),{replace:!0}))}function X(p){const b=p.matched[p.matched.length-1];if(b&&b.redirect){const{redirect:f}=b;let w=typeof f=="function"?f(p):f;return typeof w=="string"&&(w=w.includes("?")||w.includes("#")?w=I(w):{path:w},w.params={}),P({query:p.query,hash:p.hash,params:"path"in w?{}:p.params},w)}}function he(p,b){const f=h=E(p),w=u.value,N=p.state,L=p.force,C=p.replace===!0,S=X(f);if(S)return he(P(I(S),{state:typeof S=="object"?P({},N,S.state):N,force:L,replace:C}),b||f);const G=f;G.redirectedFrom=b;let Se;return!L&&ms(n,w,f)&&(Se=Ie(16,{to:G,from:w}),mt(w,w,!0,!1)),(Se?Promise.resolve(Se):_e(G,w)).catch(W=>ae(W)?ae(W,2)?W:Ke(W):He(W,G,w)).then(W=>{if(W){if(ae(W,2))return he(P({replace:C},I(W.to),{state:typeof W.to=="object"?P({},N,W.to.state):N,force:L}),b||G)}else W=Ne(G,w,!0,C,N);return je(G,w,W),W})}function de(p,b){const f=V(p,b);return f?Promise.reject(f):Promise.resolve()}function ve(p){const b=Me.values().next().value;return b&&typeof b.runWithContext=="function"?b.runWithContext(p):p()}function _e(p,b){let f;const[w,N,L]=ud(p,b);f=Ze(w.reverse(),"beforeRouteLeave",p,b);for(const S of w)S.leaveGuards.forEach(G=>{f.push(pe(G,p,b))});const C=de.bind(null,p,b);return f.push(C),we(f).then(()=>{f=[];for(const S of l.list())f.push(pe(S,p,b));return f.push(C),we(f)}).then(()=>{f=Ze(N,"beforeRouteUpdate",p,b);for(const S of N)S.updateGuards.forEach(G=>{f.push(pe(G,p,b))});return f.push(C),we(f)}).then(()=>{f=[];for(const S of L)if(S.beforeEnter)if(te(S.beforeEnter))for(const G of S.beforeEnter)f.push(pe(G,p,b));else f.push(pe(S.beforeEnter,p,b));return f.push(C),we(f)}).then(()=>(p.matched.forEach(S=>S.enterCallbacks={}),f=Ze(L,"beforeRouteEnter",p,b),f.push(C),we(f))).then(()=>{f=[];for(const S of m.list())f.push(pe(S,p,b));return f.push(C),we(f)}).catch(S=>ae(S,8)?S:Promise.reject(S))}function je(p,b,f){s.list().forEach(w=>ve(()=>w(p,b,f)))}function Ne(p,b,f,w,N){const L=V(p,b);if(L)return L;const C=b===le,S=ke?history.state:{};f&&(w||C?i.replace(p.fullPath,P({scroll:C&&S&&S.scroll},N)):i.push(p.fullPath,N)),u.value=p,mt(p,b,f,C),Ke()}let fe;function ye(){fe||(fe=i.listen((p,b,f)=>{if(!pt.listening)return;const w=E(p),N=X(w);if(N){he(P(N,{replace:!0}),w).catch(De);return}h=w;const L=u.value;ke&&ys(_t(L.fullPath,f.delta),Ue()),_e(w,L).catch(C=>ae(C,12)?C:ae(C,2)?(he(C.to,w).then(S=>{ae(S,20)&&!f.delta&&f.type===Pe.pop&&i.go(-1,!1)}).catch(De),Promise.reject()):(f.delta&&i.go(-f.delta,!1),He(C,w,L))).then(C=>{C=C||Ne(w,L,!1),C&&(f.delta&&!ae(C,8)?i.go(-f.delta,!1):f.type===Pe.pop&&ae(C,20)&&i.go(-1,!1)),je(w,L,C)}).catch(De)}))}let H=Ae(),ut=Ae(),Fe;function He(p,b,f){Ke(p);const w=ut.list();return w.length?w.forEach(N=>N(p,b,f)):console.error(p),Promise.reject(p)}function ts(){return Fe&&u.value!==le?Promise.resolve():new Promise((p,b)=>{H.add([p,b])})}function Ke(p){return Fe||(Fe=!p,ye(),H.list().forEach(([b,f])=>p?f(p):b()),H.reset()),p}function mt(p,b,f,w){const{scrollBehavior:N}=e;if(!ke||!N)return Promise.resolve();const L=!f&&ws(_t(p.fullPath,0))||(w||!f)&&history.state&&history.state.scroll||null;return is().then(()=>N(p,b,L)).then(C=>C&&bs(C)).catch(C=>He(C,p,b))}const Ye=p=>i.go(p);let We;const Me=new Set,pt={currentRoute:u,listening:!0,addRoute:y,removeRoute:R,hasRoute:D,getRoutes:j,resolve:E,options:e,push:T,replace:se,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:l.add,beforeResolve:m.add,afterEach:s.add,onError:ut.add,isReady:ts,install(p){const b=this;p.component("RouterLink",od),p.component("RouterView",rd),p.config.globalProperties.$router=b,Object.defineProperty(p.config.globalProperties,"$route",{enumerable:!0,get:()=>Ve(u)}),ke&&!We&&u.value===le&&(We=!0,T(i.location).catch(N=>{}));const f={};for(const N in le)Object.defineProperty(f,N,{get:()=>u.value[N],enumerable:!0});p.provide(rt,b),p.provide(xt,as(f)),p.provide(it,u);const w=p.unmount;Me.add(p),p.unmount=function(){Me.delete(p),Me.size<1&&(h=le,fe&&fe(),fe=null,u.value=le,We=!1,Fe=!1),w()}}};function we(p){return p.reduce((b,f)=>b.then(()=>ve(f)),Promise.resolve())}return pt}function ud(e,t){const o=[],n=[],i=[],l=Math.max(t.matched.length,e.matched.length);for(let m=0;m<l;m++){const s=t.matched[m];s&&(e.matched.find(h=>Ee(h,s))?n.push(s):o.push(s));const u=e.matched[m];u&&(t.matched.find(h=>Ee(h,u))||i.push(u))}return[o,n,i]}var Te={data:function(){return{username:drupalSettings.assignments.username,email:drupalSettings.assignments.useremail,role:drupalSettings.assignments.role,token:drupalSettings.assignments.token,curlCode:"",curlRole:"",curlName:"",curlDep:"",authenticated:"",authText:"",accesslevel0r:!1,accesslevel0:!1,accesslevel1:!1,accesslevel2:!1,viewermode:!1}},beforeMount:function(){axios.post("https://web.bftv.ucdavis.edu/gsr/connector.php",{crossDomain:!0,loginid:this.username,token:this.token,email:this.email,headers:{"Content-Type":"application/json"}}).then(e=>{this.curlCode=e.data.response,this.curlCode==1||this.curlCode==3?(this.curlRole=e.data.userrole,this.curlName=e.data.username,this.curlDep=e.data.userdep,this.authenticated=e.data.authenticated,this.check_auth(),this.curlRole=="superadmin"?(this.accesslevel0r=!0,this.accesslevel0=!0,this.accesslevel1=!0,this.accesslevel2=!0):this.curlRole=="orgadmin"?(this.accesslevel0r=!0,this.accesslevel0=!0,this.accesslevel1=!0,this.accesslevel2=!1):this.curlRole=="editor"?(this.accesslevel0r=!1,this.accesslevel0=!0,this.accesslevel1=!1,this.accesslevel2=!1):this.curlRole=="viewer"&&(this.accesslevel0r=!0,this.accesslevel0=!1,this.accesslevel1=!1,this.accesslevel2=!1),(this.curlRole=="orgreportadmin"||this.curlRole=="labadmin"||this.curlRole=="labreportadmin")&&(this.viewermode=!0)):this.curlRole="anonymous"}).catch(e=>{console.log(e)})},methods:{check_auth(){this.authenticated?this.authText="Authenticated":this.authText="not authenticated"},roleAnalyser(e){var t;return e=="superadmin"?t="SuperAdmin":e=="orgadmin"?t="OrgAdmin":e=="editor"?t="Editor":e=="viewer"?t="Viewer":t="none",t},authenticate(){var e=600,t=800,o="https://web.bftv.ucdavis.edu/gsr/auth.php",n=screen.width?(screen.width-e)/2:0,i=screen.height?(screen.height-t)/2:0,l="height="+t+",width="+e+",top="+i+",left="+n+",scrollbars=yes,resizable",m=window.open(o,"CAS - Central Authentication Service",l);window.addEventListener("message",function(s){if(s.data=="Authenticated.")m.close(),this.location.reload();else if(s.data=="Authentication failed.")return m.close(),Promise.reject(s.data)},!1)}}},Ge={data:function(){return{message:"",screenmsg:"",screenmsgtype:"",screenmsgicon:"",erroricon:"far fa-times-circle fa-2x alert--error-icon",successicon:"far fa-check-circle fa-2x alert--success-icon",hidebody:!1,success:null,code:null,listData:[],metaData:[],pendingTab:!1,departments:[],selectedRecord:"",initialState:{},selectedFunding:[],searchValue:"",selectedpis:[],otherAdditionalFunding:0,otherAdditionalFundingText:"",approvedAM:0,approvedAdvising:0,approvedPI:0,inherit:!1,loading:!0}},methods:{getDataList:function(e,t,o=null){axios.post(e,{myid:this.username,token:this.token}).then(n=>{if(t=="data"){console.log(n),this.listData=n.data.data,this.metaData=n.data.metadata;var i=!1;this.$route.query.sid&&(i=this.$route.query.sid),i?this.filterObjectByKeyValue("sid",i):o=="new"?(this.filterObjectByKeyValue("status","new"),this.pendingTab=!1):o=="pending"?(this.filterObjectByKeyValue("status","pending"),this.pendingTab=!0):o=="completed"?(this.filterObjectByKeyValue("status","completed"),this.pendingTab=!1):o=="rejected"&&(this.filterObjectByKeyValue("status","rejected"),this.pendingTab=!1)}else t=="users"?(this.listData=n.data.users,this.departments=n.data.departments,this.listData.sort(this.sortFname)):(this.listData=n.data.dataList,this.departments=n.data.departments);this.message=n.data.message,this.success=n.data.success,this.code=n.data.code}).catch(n=>{(n.response.status==404||n.response.status==403||n.response.status==401||n.response.status==400)&&(this.screenmsg=n.response.data.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=n.response.status,this.hidebody=!0)}).finally(()=>{this.loading=!1})},sortFname:function(e,t){return e.firstname===t.firstname?0:e.firstname<t.firstname?-1:1},convertDateFormat(e,t,o=!1){if(t=="date"){const n=e.split("-");if(n.length===3){const i=n[0],l=n[1],m=n[2];return`${l}/${m}/${i}`}else return"Invalid date format"}else if(t=="datetime"){const[n,i]=e.split(" "),l=n.split("-"),[m,s,u]=i.split(":");if(l.length===3&&m&&s&&u){const h=l[0],r=l[1],_=l[2];let v=parseInt(m,10);const y=v>=12?"PM":"AM";return v=v%12,v=v||12,o?`${r}/${_}/${h} | ${v.toString().padStart(2,"0")}:${s}:${u} ${y}`:`${r}/${_}/${h}`}else return"Invalid date format"}},filterObjectByKeyValue(e,t){t!="pending"?this.listData=Object.fromEntries(Object.entries(this.listData).filter(([o,n])=>n[e]===t)):this.listData=Object.fromEntries(Object.entries(this.listData).filter(([o,n])=>n[e]===t||n.status==="reviewed"||n.status==="pi_approved"))},selectRecord:function(e){if(this.selectedRecord={...e},this.selectedRecord.grad_group&&(["GBSE","GFSC","GVEN"].includes(this.selectedRecord.grad_group)||(this.selectedRecord.grad_group!=="Other"&&(this.selectedRecord.other_grad_group=this.selectedRecord.grad_group),this.selectedRecord.grad_group="Other")),this.selectedRecord.additional_funding){this.selectedFunding=this.selectedRecord.additional_funding.split(",").map(n=>n.trim());const t=["None","External Fellowship","Internal Fellowship","TAship"],o=this.selectedFunding.filter(n=>!t.includes(n));o.length>0&&(this.otherAdditionalFunding=1,this.otherAdditionalFundingText=o.join(", "))}this.selectedRecord.approved_am&&(this.approvedAM=1),this.selectedRecord.approved_advising&&(this.approvedAdvising=1),this.selectedRecord.status=="pi_approved"&&(this.approvedPI=1)},unsetSelectedRecord:function(){this.selectedFunding=[],this.selectedRecord={},this.otherAdditionalFunding=0,this.otherAdditionalFundingText="",this.approvedAM=0,this.approvedAdvising=0,this.approvedPI=0},updateField(e,t){this.selectedRecord[e]=t.target.value},statusAnalyzer(e,t=0,o=0,n=0){if(e=="new")return"Pending AM Review";if(e=="reviewed"){if(t==0&&n==0)return"Pending Advising Review";if(t==1&&n==0)return"Waiting PI Review";if(t==1&&n==1)return"PI Requested Change"}else{if(e=="pi_approved")return"PI Approved - Waiting DocuSign Initiation";if(e=="pending")return"Pending Signature";if(e=="completed")return"Completed";if(e=="rejected")return"Rejected"}},loader:function(){this.loading=!0}},computed:{inheritSettings:{get(){return this.selectedRecord.inherit_settings==="1"},set(e){this.selectedRecord.inherit_settings=e?"1":"0"}}}};const ze=(e,t)=>{const o=e.__vccOpts||e;for(const[n,i]of t)o[n]=i;return o},md={mixins:[Te,Ge],name:"UserManagement",mounted:function(){var e="https://web.bftv.ucdavis.edu/gsr/users-get.php";this.getDataList(e,"users")},methods:{addUser(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-add-user")),o=document.getElementById("useremail").value,n=document.getElementById("userrole").value;axios.post("https://web.bftv.ucdavis.edu/gsr/user-add.php",{crossDomain:!0,email:o,role:n,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(i=>{this.screenmsg=i.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=i.data.users,this.listData.sort(this.sortFname)}).catch(i=>{i.response.data.message?this.screenmsg=i.response.data.message:i.data.message?this.screenmsg=i.data.message:this.screenmsg=i.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=i.response.status}).finally(()=>{document.getElementById("useremail").value="",t.hide(),this.loading=!1}),window.scrollTo(0,400)},updateUser(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-user")),o=document.getElementById("usercfname").value,n=document.getElementById("userclname").value,i=document.getElementById("role").value,l=document.getElementById("email").value,m=document.getElementById("department").value,s=document.getElementById("status_check").checked,u=document.getElementById("fullname").value,h="";s==!0?s=1:s=0,e.submitter.name=="refresh-user"?h="refresh":h="save",axios.post("https://web.bftv.ucdavis.edu/gsr/user-update.php",{crossDomain:!0,cfname:o,clname:n,role:i,email:l,enabled:s,name:u,department:m,myid:this.username,token:this.token,mode:h,headers:{"Content-Type":"application/json"}}).then(r=>{this.screenmsg=r.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=r.data.users,this.listData.sort(this.sortFname)}).catch(r=>{r.response.data.message?this.screenmsg=r.response.data.message:r.data.message?this.screenmsg=r.data.message:this.screenmsg=r.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=r.response.data.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)},delUser(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-del-user")),o=document.getElementById("email").value,n=document.getElementById("department").value;axios.post("https://web.bftv.ucdavis.edu/gsr/user-delete.php",{crossDomain:!0,email:o,department:n,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(i=>{this.screenmsg=i.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=i.data.users,this.listData.sort(this.sortFname)}).catch(i=>{i.response.data.message?this.screenmsg=i.response.data.message:i.data.message?this.screenmsg=i.data.message:this.screenmsg=i.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=i.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)}}},pd=window.Vue.resolveComponent,hd=window.Vue.createVNode,c=window.Vue.createElementVNode,K=window.Vue.openBlock,Y=window.Vue.createElementBlock,ie=window.Vue.createCommentVNode,Vt=window.Vue.normalizeClass,ne=window.Vue.toDisplayString,ge=window.Vue.createTextVNode,Dt=window.Vue.renderList,qt=window.Vue.Fragment,xe=window.Vue.withModifiers,Bt=window.Vue.vModelSelect,Pt=window.Vue.withDirectives,vd={class:"container-fluid"},_d={key:0,id:"loading",class:"mt-3"},fd=c("div",{class:"spinner-border text-secondary loader",role:"status"},[c("span",{class:"sr-only"},"Loading...")],-1),gd=[fd],bd={key:1},yd={key:0,class:"mt-5"},wd={key:0},Rd={class:"row mt-3"},$d={key:0,class:"col-md-12 mb-3"},kd={class:"alert alert--error"},Ed=c("i",{class:"far fa-times-circle fa-2x alert--error-icon"},null,-1),Id=c("div",{class:"row mt-3"},[c("div",{class:"col-md-12 text-end"},[c("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#modal-add-user"},"+ Add a User")])],-1),Sd={key:1,class:"table-responsive mt-2"},Ad={class:"table table-bordered table-hover table-striped"},Cd=c("thead",{class:"thead-light"},[c("tr",null,[c("th",null,"Name"),c("th",null,"Department"),c("th",null,"Role"),c("th",null,"Status"),c("th")])],-1),Vd={class:"text-capitalize"},Dd=["innerHTML"],qd=["onClick"],Bd=c("i",{class:"fa-solid fa-pen-to-square"},null,-1),Pd=[Bd],Td=["onClick"],jd=c("i",{class:"fa-solid fa-circle-xmark"},null,-1),Nd=[jd],Fd={class:"modal fade",id:"modal-add-user",tabindex:"-1","aria-labelledby":"modal-add-user-label","aria-hidden":"true"},Md={class:"modal-dialog"},Od={class:"modal-content"},Ld=c("div",{class:"modal-header"},[c("h3",{class:"modal-title fs-5",id:"modal-add-user-label"},"Add a New User"),c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ud={class:"modal-body"},Gd={class:"row m-2"},zd=c("div",{class:"col-md-12 mt-1"},[c("input",{type:"email",name:"useremail",id:"useremail",placeholder:"email@ucdavis.edu",required:""})],-1),Hd={class:"col-md-12 mt-1"},Kd={name:"userrole",id:"userrole",required:""},Yd=c("option",null,"-- select a role --",-1),Wd={key:0,value:"superadmin"},Qd=c("option",{value:"orgadmin"},"OrgAdmin",-1),Xd=c("option",{value:"editor"},"Editor",-1),Jd=c("option",{value:"viewer"},"Viewer",-1),Zd=c("option",{value:"submitter"},"Submitter",-1),xd=c("div",{class:"modal-footer"},[c("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal"},"Close"),c("button",{type:"submit",class:"btn btn-primary btn-sm"},"Add")],-1),en={class:"modal fade",id:"modal-del-user",tabindex:"-1","aria-labelledby":"modal-del-user-label","aria-hidden":"true"},tn={class:"modal-dialog"},sn={class:"modal-content"},dn={class:"modal-header"},nn=c("h3",{class:"modal-title fs-5",id:"modal-add-user-label"},"Delete User",-1),on={class:"modal-body"},an={class:"row m-2"},ln={class:"col-md-12 mt-1"},rn={class:"modal-footer"},cn=["value"],un=["value"],mn=c("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1),pn={class:"modal fade",id:"modal-user",tabindex:"-1","aria-labelledby":"modal-user-label","aria-hidden":"true"},hn={class:"modal-dialog modal-xl"},vn={class:"modal-content"},_n={class:"modal-header"},fn={class:"modal-title fs-5",id:"modal-user-label"},gn=c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),bn={class:"modal-body"},yn=c("div",{class:"row m-2"},[c("div",{class:"col-md-10 text-end"},[c("button",{type:"submit",class:"btn btn-primary btn-sm",name:"refresh-user"},"Refresh from UC Directory")])],-1),wn={class:"row m-2"},Rn=c("div",{class:"col-md-4 fw-bold text-end"}," First Name ",-1),$n={class:"col-md-6"},kn=["value"],En={class:"row m-2"},In=c("div",{class:"col-md-4 fw-bold text-end"}," Last Name ",-1),Sn={class:"col-md-6"},An=["value"],Cn={class:"row m-2"},Vn=c("div",{class:"col-md-4 fw-bold text-end"}," Custom First Name ",-1),Dn={class:"col-md-6"},qn=["value"],Bn={class:"row m-2"},Pn=c("div",{class:"col-md-4 fw-bold text-end"}," Custom Last Name ",-1),Tn={class:"col-md-6"},jn=["value"],Nn={class:"row m-2"},Fn=c("div",{class:"col-md-4 fw-bold text-end"}," Login ID ",-1),Mn={class:"col-md-6"},On=["value"],Ln={class:"row m-2"},Un=c("div",{class:"col-md-4 fw-bold text-end"}," E-mail ",-1),Gn={class:"col-md-6"},zn=["value"],Hn={class:"row m-2"},Kn=c("div",{class:"col-md-4 fw-bold text-end"}," Departments ",-1),Yn={class:"col-md-6"},Wn=c("option",null,"-- select an option --",-1),Qn=["value"],Xn={class:"row m-2"},Jn=c("div",{class:"col-md-4 fw-bold text-end"}," Role ",-1),Zn={class:"col-md-6"},xn=c("option",null,"-- select an option --",-1),eo={key:0,value:"superadmin"},to=c("option",{value:"orgadmin"},"OrgAdmin",-1),so=c("option",{value:"editor"},"Editor",-1),no=c("option",{value:"viewer"},"Viewer",-1),oo=c("option",{value:"submitter"},"Submitter",-1),ao={class:"row m-2"},io={class:"col-md-6 offset-md-4"},lo=["value","checked"],ro=c("label",{class:"radio-check-label",for:"status_check"},"Enable User",-1),co={class:"modal-footer"},uo=["value"],mo=c("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal"},"Close",-1),po=c("button",{type:"submit",class:"btn btn-primary btn-sm",name:"save-user"},"Save",-1),ho={key:2},vo=c("div",{class:"alert alert--error"},[c("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),ge(" You are not authorized to view this page. ")],-1),_o=[vo];function fo(e,t,o,n,i,l){const m=pd("the-navigation");return K(),Y("div",vd,[hd(m),e.loading?(K(),Y("div",_d,gd)):ie("",!0),e.accesslevel1?(K(),Y("div",bd,[e.screenmsg?(K(),Y("div",yd,[c("div",{class:Vt("alert alert--"+e.screenmsgtype)},[c("i",{class:Vt(e.screenmsgicon)},null,2),ge(" "+ne(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(K(),Y("span",wd," Please contact one of the SuperAdmins through the Slack channel.")):ie("",!0)],2)])):ie("",!0),c("div",Rd,[e.authenticated?ie("",!0):(K(),Y("div",$d,[c("div",kd,[Ed,ge(" Your changes will not be saved as you are not authenticated to the server. "),c("a",{href:"#",onClick:t[0]||(t[0]=s=>e.authenticate())},"Click here"),ge(" to authenticate. ")])]))]),Id,e.hidebody?ie("",!0):(K(),Y("div",Sd,[c("table",Ad,[Cd,c("tbody",null,[(K(!0),Y(qt,null,Dt(e.listData,s=>(K(),Y("tr",null,[c("td",null,ne(s.firstname)+" "+ne(s.lastname),1),c("td",null,ne(s.department),1),c("td",Vd,ne(s.role),1),c("td",null,[c("span",{title:"It shows user status.",innerHTML:s.status==1?"<i class='fa-solid fa-check color-green'></i>":"<i class='fa-solid fa-x color-red'></i>"},null,8,Dd)]),c("td",null,[e.accesslevel1?(K(),Y("a",{key:0,href:"",onClick:u=>e.selectRecord(s),"data-bs-toggle":"modal","data-bs-target":"#modal-user",title:"Edit user"},Pd,8,qd)):ie("",!0),ge(),e.accesslevel1?(K(),Y("a",{key:1,href:"",onClick:u=>e.selectRecord(s),"data-bs-toggle":"modal","data-bs-target":"#modal-del-user",title:"Delete user"},Nd,8,Td)):ie("",!0)])]))),256))])])])),c("div",Fd,[c("div",Md,[c("div",Od,[Ld,c("form",{method:"post",onSubmit:t[1]||(t[1]=xe((...s)=>l.addUser&&l.addUser(...s),["prevent"]))},[c("div",Ud,[c("div",Gd,[zd,c("div",Hd,[c("select",Kd,[Yd,e.accesslevel2?(K(),Y("option",Wd,"SuperAdmin")):ie("",!0),Qd,Xd,Jd,Zd])])])]),xd],32)])])]),c("div",en,[c("div",tn,[c("div",sn,[c("div",dn,[nn,c("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[2]||(t[2]=s=>e.unsetSelectedRecord())})]),c("form",{method:"post",onSubmit:t[4]||(t[4]=xe((...s)=>l.delUser&&l.delUser(...s),["prevent"]))},[c("div",on,[c("div",an,[c("div",ln,[c("span",null,[ge("Are you sure to delete "),c("strong",null,ne(e.selectedRecord.firstname)+" "+ne(e.selectedRecord.lastname),1),ge(" from the system?")])])])]),c("div",rn,[c("input",{type:"hidden",name:"email",id:"email",value:e.selectedRecord.email},null,8,cn),c("input",{type:"hidden",name:"department",id:"department",value:e.selectedRecord.department},null,8,un),c("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=s=>e.unsetSelectedRecord())},"Cancel"),mn])],32)])])]),c("div",pn,[c("div",hn,[c("div",vn,[c("div",_n,[c("h3",fn,"Edit User "+ne(e.selectedRecord.firstname)+" "+ne(e.selectedRecord.lastname),1),gn]),c("form",{method:"post",onSubmit:t[7]||(t[7]=xe((...s)=>l.updateUser&&l.updateUser(...s),["prevent"]))},[c("div",bn,[yn,c("div",wn,[Rn,c("div",$n,[c("input",{type:"text",name:"userfname",id:"userfname",value:e.selectedRecord.firstname,disabled:""},null,8,kn)])]),c("div",En,[In,c("div",Sn,[c("input",{type:"text",name:"userlname",id:"userlname",value:e.selectedRecord.lastname,disabled:""},null,8,An)])]),c("div",Cn,[Vn,c("div",Dn,[c("input",{type:"text",name:"usercfname",id:"usercfname",value:e.selectedRecord.cfname},null,8,qn)])]),c("div",Bn,[Pn,c("div",Tn,[c("input",{type:"text",name:"userclname",id:"userclname",value:e.selectedRecord.clname},null,8,jn)])]),c("div",Nn,[Fn,c("div",Mn,[c("input",{type:"text",name:"loginid",id:"loginid",value:e.selectedRecord.loginid,disabled:""},null,8,On)])]),c("div",Ln,[Un,c("div",Gn,[c("input",{type:"text",name:"email",id:"email",value:e.selectedRecord.email,disabled:""},null,8,zn)])]),c("div",Hn,[Kn,c("div",Yn,[Pt(c("select",{name:"department",id:"department","onUpdate:modelValue":t[5]||(t[5]=s=>e.selectedRecord.department=s)},[Wn,(K(!0),Y(qt,null,Dt(e.departments,s=>(K(),Y("option",{key:s,value:s},ne(s),9,Qn))),128))],512),[[Bt,e.selectedRecord.department]])])]),c("div",Xn,[Jn,c("div",Zn,[Pt(c("select",{name:"role",id:"role","onUpdate:modelValue":t[6]||(t[6]=s=>e.selectedRecord.role=s)},[xn,e.accesslevel2?(K(),Y("option",eo,"SuperAdmin")):ie("",!0),to,so,no,oo],512),[[Bt,e.selectedRecord.role]])])]),c("div",ao,[c("div",io,[c("input",{type:"checkbox",id:"status_check",name:"status_check",value:e.selectedRecord.status,checked:e.selectedRecord.status=="1"},null,8,lo),ro])])]),c("div",co,[c("input",{type:"hidden",name:"fullname",id:"fullname",value:e.selectedRecord.firstname+" "+e.selectedRecord.lastname},null,8,uo),mo,po])],32)])])])])):(K(),Y("div",ho,_o))])}const go=ze(md,[["render",fo]]);const bo={mixins:[Te,Ge],name:"DepartmentManagement",data:function(){return{}},mounted:function(){const e="https://web.bftv.ucdavis.edu/gsr/dep-get.php";this.getDataList(e,"department")},methods:{getDepartmentById(e){const t=this.listData.find(o=>o.id===e);return t?t.department+" ("+t.abbr+")":null},addDep(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-add-dep")),o=document.getElementById("department").value,n=document.getElementById("abbr").value,i=document.getElementById("depcode").value,l=document.getElementById("parentdep").value,m=document.getElementById("email").value,s=document.getElementById("maindep").checked,u=document.getElementById("inherit").checked,h=document.getElementById("rturl").value,r=document.getElementById("amqemail").value,_=document.getElementById("advqemail").value,v=document.getElementById("payemail").value,y=document.getElementById("fromemail").value,R=document.getElementById("rttoken").value,j=document.getElementById("dsuser").value,D=document.getElementById("dsuserid").value,E=document.getElementById("dstempid").value,I="";s==!0?s=1:s=0,u==!0?u=1:(u=0,I=document.querySelector('input[name="com"]:checked').value),axios.post("https://web.bftv.ucdavis.edu/gsr/dep-add.php",{crossDomain:!0,myid:this.username,token:this.token,department:o,abbreviation:n,depcode:i,parentdep:l,support_email:m,maindep:s,inherit:u,comtype:I,rturl:h,amqemail:r,advqemail:_,payemail:v,fromemail:y,rt_token:R,ds_user:j,ds_userid:D,ds_tempid:E,headers:{"Content-Type":"application/json"}}).then(V=>{this.screenmsg=V.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=V.data.dataList,this.departments=V.data.departments}).catch(V=>{V.response.data.message?this.screenmsg=V.response.data.message:V.data.message?this.screenmsg=V.data.message:this.screenmsg=V.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=V.response.status}).finally(()=>{document.getElementById("department").value="",document.getElementById("abbr").value="",document.getElementById("parentdep").value="",document.getElementById("email").value="",document.getElementById("maindep").checked=!1,t.hide(),this.loading=!1}),window.scrollTo(0,400)},updateDep(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-edit-dep")),o=document.getElementById("upd_depid").value,n=document.getElementById("upd_department").value,i=document.getElementById("upd_abbr").value,l=document.getElementById("upd_depcode").value,m=document.getElementById("upd_parentdep").value,s=document.getElementById("upd_email").value,u=document.getElementById("upd_maindep").checked,h=document.getElementById("upd_inherit").checked,r=document.getElementById("upd_rturl").value,_=document.getElementById("upd_amqemail").value,v=document.getElementById("upd_advqemail").value,y=document.getElementById("upd_payemail").value,R=document.getElementById("upd_fromemail").value,j=document.getElementById("upd_rttoken").value,D=document.getElementById("upd_dsuser").value,E=document.getElementById("upd_dsuserid").value,I=document.getElementById("upd_dstempid").value,V="";u==!0?u=1:u=0,h==!0?h=1:(h=0,V=document.querySelector('input[name="upd_com"]:checked').value),axios.post("https://web.bftv.ucdavis.edu/gsr/dep-update.php",{crossDomain:!0,myid:this.username,token:this.token,id:o,department:n,abbreviation:i,depcode:l,parentdep:m,support_email:s,maindep:u,inherit:h,comtype:V,rturl:r,amqemail:_,advqemail:v,payemail:y,fromemail:R,rt_token:j,ds_user:D,ds_userid:E,ds_tempid:I,headers:{"Content-Type":"application/json"}}).then(T=>{this.screenmsg=T.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=T.data.dataList,this.departments=T.data.departments}).catch(T=>{console.log(T),T.response.data.message?this.screenmsg=T.response.data.message:T.data.message?this.screenmsg=T.data.message:this.screenmsg=T.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=T.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)},delDep(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-del-dep")),o=document.getElementById("del_depid").value;axios.post("https://web.bftv.ucdavis.edu/gsr/dep-delete.php",{crossDomain:!0,depid:o,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(n=>{this.screenmsg=n.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=n.data.dataList,this.departments=n.data.departments}).catch(n=>{n.response.data.message?this.screenmsg=n.response.data.message:n.data.message?this.screenmsg=n.data.message:this.screenmsg=n.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=n.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)}}},yo=window.Vue.resolveComponent,wo=window.Vue.createVNode,a=window.Vue.createElementVNode,M=window.Vue.openBlock,O=window.Vue.createElementBlock,x=window.Vue.createCommentVNode,U=window.Vue.normalizeClass,re=window.Vue.toDisplayString,be=window.Vue.createTextVNode,et=window.Vue.renderList,Oe=window.Vue.Fragment,Tt=window.Vue.vModelCheckbox,Ce=window.Vue.withDirectives,tt=window.Vue.withModifiers,Ro=window.Vue.vModelSelect,jt=window.Vue.vModelRadio,es=window.Vue.createStaticVNode,$o=window.Vue.pushScopeId,ko=window.Vue.popScopeId,A=e=>($o("data-v-588be402"),e=e(),ko(),e),Eo={class:"container-fluid"},Io={key:0,id:"loading",class:"mt-3"},So=A(()=>a("div",{class:"spinner-border text-secondary loader",role:"status"},[a("span",{class:"sr-only"},"Loading...")],-1)),Ao=[So],Co={key:1},Vo={key:0,class:"mt-5"},Do={key:0},qo={class:"row mt-3"},Bo={key:0,class:"col-md-12 mb-3"},Po={class:"alert alert--error"},To=A(()=>a("i",{class:"far fa-times-circle fa-2x alert--error-icon"},null,-1)),jo={key:1,class:"row mt-3"},No={key:0,class:"col-md-12 text-end"},Fo=A(()=>a("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#modal-add-dep"},"+ Add a Department",-1)),Mo=[Fo],Oo={key:2,class:"table-responsive mt-2"},Lo={class:"table table-bordered table-hover table-striped"},Uo=A(()=>a("thead",{class:"thead-light"},[a("tr",null,[a("th",null,"Departments"),a("th",null,"Parent"),a("th",null,"Support E-mail"),a("th")])],-1)),Go={key:0},zo=["onClick"],Ho=A(()=>a("i",{class:"fa-solid fa-pen-to-square"},null,-1)),Ko=[Ho],Yo=["onClick"],Wo=A(()=>a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),Qo=[Wo],Xo={key:2},Jo=A(()=>a("div",{class:"alert alert--error"},[a("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),be(" You are not authorized to view this page. ")],-1)),Zo=[Jo],xo={key:0,class:"modal fade",id:"modal-add-dep",tabindex:"-1","aria-labelledby":"modal-add-dep-label","aria-hidden":"true"},ea={class:"modal-dialog modal-xl"},ta={class:"modal-content"},sa=A(()=>a("div",{class:"modal-header"},[a("h3",{class:"modal-title fs-5",id:"modal-add-dep-label"},"Add a New Department"),a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),da={class:"modal-body"},na={class:"form-group"},oa=es('<legend data-v-588be402>Information</legend><div class="row m-2" data-v-588be402><div class="col-md-4 fw-bold text-end required" data-v-588be402> Department </div><div class="col-md-6" data-v-588be402><input type="text" id="department" name="department" required data-v-588be402></div></div><div class="row m-2" data-v-588be402><div class="col-md-4 fw-bold text-end" data-v-588be402> Abbreviation </div><div class="col-md-6" data-v-588be402><input type="text" id="abbr" name="abbr" data-v-588be402></div></div><div class="row m-2" data-v-588be402><div class="col-md-4 fw-bold text-end required" data-v-588be402> PPS Code </div><div class="col-md-6" data-v-588be402><input type="text" id="depcode" name="depcode" required data-v-588be402></div></div>',4),aa={class:"row m-2"},ia={class:"col-md-6"},la=["required"],ra=A(()=>a("option",null,"-- select an option --",-1)),ca=["value"],ua=es('<div class="row m-2" data-v-588be402><div class="col-md-4 fw-bold text-end" data-v-588be402> Support E-mail </div><div class="col-md-6" data-v-588be402><input type="email" id="email" name="email" data-v-588be402></div></div><div class="row m-2" data-v-588be402><div class="col-md-6 offset-md-4" data-v-588be402><input type="checkbox" id="maindep" name="maindep" data-v-588be402><label class="radio-check-label" for="maindep" data-v-588be402>Main Department</label></div></div>',2),ma={class:"form-group"},pa=A(()=>a("legend",null,"Settings",-1)),ha={class:"row m-2"},va={class:"col-md-6 offset-md-4"},_a=A(()=>a("label",{class:"radio-check-label",for:"inherit"},"Inherit settings from parent department",-1)),fa={class:"row m-2"},ga={class:"col-md-6"},ba={class:"col-md-9"},ya=["required"],wa=A(()=>a("label",{class:"radio-check-label",for:"comrt"},"RT",-1)),Ra=["required"],$a=A(()=>a("label",{class:"radio-check-label",for:"comemail"},"Regular E-mail",-1)),ka=A(()=>a("div",{class:"row m-2"},[a("div",{class:"col-md-4 fw-bold text-end"}," RT URL "),a("div",{class:"col-md-6"},[a("input",{type:"text",id:"rturl",name:"rturl"})])],-1)),Ea={class:"row m-2"},Ia={class:"col-md-6"},Sa=["required"],Aa={class:"row m-2"},Ca={class:"col-md-6"},Va=["required"],Da={class:"row m-2"},qa={class:"col-md-6"},Ba=["required"],Pa=A(()=>a("div",{class:"row m-2"},[a("div",{class:"col-md-4 fw-bold text-end"}," From E-mail "),a("div",{class:"col-md-6"},[a("input",{type:"email",id:"fromemail",name:"fromemail"}),a("div",null,[a("small",null,"By default the from e-mail address is the one who initiates the DocuSign.")])])],-1)),Ta={class:"row m-2"},ja={class:"col-md-6"},Na=["required"],Fa={class:"row m-2"},Ma={class:"col-md-6"},Oa=["required"],La={class:"row m-2"},Ua={class:"col-md-6"},Ga=["required"],za={class:"row m-2"},Ha={class:"col-md-6"},Ka=["required"],Ya=A(()=>a("div",{class:"modal-footer"},[a("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal"},"Close"),a("button",{type:"submit",class:"btn btn-primary btn-sm"},"Add")],-1)),Wa={key:1,class:"modal fade",id:"modal-del-dep",tabindex:"-1","aria-labelledby":"modal-del-dep-label","aria-hidden":"true"},Qa={class:"modal-dialog"},Xa={class:"modal-content"},Ja={class:"modal-header"},Za=A(()=>a("h3",{class:"modal-title fs-5",id:"modal-del-dep-label"},"Delete Department",-1)),xa={class:"modal-body"},ei={class:"row m-2"},ti={class:"col-md-12 mt-1"},si={class:"modal-footer"},di=["value"],ni=A(()=>a("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1)),oi={key:2,class:"modal fade",id:"modal-edit-dep",tabindex:"-1","aria-labelledby":"modal-edit-dep-label","aria-hidden":"true"},ai={class:"modal-dialog modal-xl"},ii={class:"modal-content"},li={class:"modal-header"},ri=A(()=>a("h3",{class:"modal-title fs-5",id:"modal-edit-dep-label"},"Update Department",-1)),ci={class:"modal-body"},ui={class:"form-group"},mi=A(()=>a("legend",null,"Information",-1)),pi={class:"row m-2"},hi=A(()=>a("div",{class:"col-md-4 fw-bold text-end required"}," Department ",-1)),vi={class:"col-md-6"},_i=["value"],fi={class:"row m-2"},gi=A(()=>a("div",{class:"col-md-4 fw-bold text-end"}," Abbreviation ",-1)),bi={class:"col-md-6"},yi=["value"],wi={class:"row m-2"},Ri=A(()=>a("div",{class:"col-md-4 fw-bold text-end required"}," PPS Code ",-1)),$i={class:"col-md-6"},ki=["value"],Ei=A(()=>a("div",null,[a("small",null,"Only SuperAdmins can update the PPS Code.")],-1)),Ii={class:"row m-2"},Si={class:"col-md-6"},Ai=["required"],Ci=A(()=>a("option",null,"-- select an option --",-1)),Vi=["value"],Di={class:"row m-2"},qi=A(()=>a("div",{class:"col-md-4 fw-bold text-end"}," Support E-mail ",-1)),Bi={class:"col-md-6"},Pi=["value"],Ti={class:"row m-2"},ji={class:"col-md-6 offset-md-4"},Ni=["checked"],Fi=A(()=>a("label",{class:"radio-check-label",for:"upd_maindep"},"Main Department",-1)),Mi={class:"form-group"},Oi=A(()=>a("legend",null,"Settings",-1)),Li={class:"row m-2"},Ui={class:"col-md-6 offset-md-4"},Gi=A(()=>a("label",{class:"radio-check-label",for:"upd_inherit"},"Inherit settings from parent department",-1)),zi={class:"row m-2"},Hi={class:"col-md-6"},Ki={class:"col-md-9"},Yi=["required"],Wi=A(()=>a("label",{class:"radio-check-label",for:"updcomrt"},"RT",-1)),Qi=["required"],Xi=A(()=>a("label",{class:"radio-check-label",for:"updcomemail"},"Regular E-mail",-1)),Ji={class:"row m-2"},Zi=A(()=>a("div",{class:"col-md-4 fw-bold text-end"}," RT URL ",-1)),xi={class:"col-md-6"},el=["value"],tl={class:"row m-2"},sl={class:"col-md-6"},dl=["value","required"],nl={class:"row m-2"},ol={class:"col-md-6"},al=["value","required"],il={class:"row m-2"},ll={class:"col-md-6"},rl=["value","required"],cl={class:"row m-2"},ul=A(()=>a("div",{class:"col-md-4 fw-bold text-end"}," From E-mail ",-1)),ml={class:"col-md-6"},pl=["value"],hl=A(()=>a("div",null,[a("small",null,"By default the from e-mail address is the one who initiates the DocuSign.")],-1)),vl={class:"row m-2"},_l={class:"col-md-6"},fl=["value","required"],gl={class:"row m-2"},bl={class:"col-md-6"},yl=["value","required","disabled"],wl={class:"row m-2"},Rl={class:"col-md-6"},$l=["value","required","disabled"],kl={class:"row m-2"},El={class:"col-md-6"},Il=["value","required","disabled"],Sl=A(()=>a("div",null,[a("small",null,"Only SuperAdmins can update DocuSign settings. They need to validate the DocuSign user and template.")],-1)),Al={class:"modal-footer"},Cl=["value"],Vl=A(()=>a("button",{type:"submit",class:"btn btn-primary btn-sm"},"Update",-1));function Dl(e,t,o,n,i,l){const m=yo("the-navigation");return M(),O(Oe,null,[a("div",Eo,[wo(m),e.loading?(M(),O("div",Io,Ao)):x("",!0),e.accesslevel1?(M(),O("div",Co,[e.screenmsg?(M(),O("div",Vo,[a("div",{class:U("alert alert--"+e.screenmsgtype)},[a("i",{class:U(e.screenmsgicon)},null,2),be(" "+re(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(M(),O("span",Do," Please contact one of the SuperAdmins through the Slack channel.")):x("",!0)],2)])):x("",!0),a("div",qo,[e.authenticated?x("",!0):(M(),O("div",Bo,[a("div",Po,[To,be(" Your changes will not be saved as you are not authenticated to the server. "),a("a",{href:"#",onClick:t[0]||(t[0]=s=>e.authenticate())},"Click here"),be(" to authenticate. ")])]))]),e.hidebody?x("",!0):(M(),O("div",jo,[e.accesslevel2?(M(),O("div",No,Mo)):x("",!0)])),e.hidebody?x("",!0):(M(),O("div",Oo,[a("table",Lo,[Uo,a("tbody",null,[(M(!0),O(Oe,null,et(e.listData,s=>(M(),O("tr",null,[a("td",null,re(s.department)+" ("+re(s.abbr)+")",1),a("td",null,[s.parentdep?(M(),O("span",Go,re(l.getDepartmentById(s.parentdep)),1)):x("",!0)]),a("td",null,re(s.support_email),1),a("td",null,[a("a",{href:"",onClick:u=>e.selectRecord(s),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-dep",title:"Edit department"},Ko,8,zo),be(),e.accesslevel2?(M(),O("a",{key:0,href:"",onClick:u=>e.selectRecord(s),"data-bs-toggle":"modal","data-bs-target":"#modal-del-dep",title:"Delete department"},Qo,8,Yo)):x("",!0)])]))),256))])])]))])):(M(),O("div",Xo,Zo))]),e.accesslevel2?(M(),O("div",xo,[a("div",ea,[a("div",ta,[sa,a("form",{method:"post",onSubmit:t[2]||(t[2]=tt((...s)=>l.addDep&&l.addDep(...s),["prevent"]))},[a("div",da,[a("fieldset",na,[oa,a("div",aa,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:e.inherit}])}," Parent ",2),a("div",ia,[a("select",{name:"parentdep",id:"parentdep",required:e.inherit},[ra,(M(!0),O(Oe,null,et(e.departments,s=>(M(),O("option",{key:s,value:s.id},re(s.department),9,ca))),128))],8,la)])]),ua]),a("fieldset",ma,[pa,a("div",ha,[a("div",va,[Ce(a("input",{type:"checkbox",id:"inherit",name:"inherit","onUpdate:modelValue":t[1]||(t[1]=s=>e.inherit=s)},null,512),[[Tt,e.inherit]]),_a])]),a("div",fa,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inherit}])}," Communication Type ",2),a("div",ga,[a("div",ba,[a("input",{type:"radio",id:"comrt",name:"com",value:"rt",required:!e.inherit},null,8,ya),wa,a("input",{type:"radio",id:"comemail",name:"com",value:"email",required:!e.inherit},null,8,Ra),$a])])]),ka,a("div",Ea,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inherit}])}," Account Managers RT Queue/E-mail ",2),a("div",Ia,[a("input",{type:"text",id:"amqemail",name:"amqemail",required:!e.inherit},null,8,Sa)])]),a("div",Aa,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inherit}])}," Advising RT Queue/E-mail ",2),a("div",Ca,[a("input",{type:"text",id:"advqemail",name:"advqemail",required:!e.inherit},null,8,Va)])]),a("div",Da,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inherit}])}," Payroll E-mail ",2),a("div",qa,[a("input",{type:"text",id:"payemail",name:"payemail",required:!e.inherit},null,8,Ba)])]),Pa,a("div",Ta,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inherit}])}," RT API Token ",2),a("div",ja,[a("input",{type:"text",id:"rttoken",name:"rttoken",required:!e.inherit},null,8,Na)])]),a("div",Fa,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inherit}])}," DocuSign User ",2),a("div",Ma,[a("input",{type:"text",id:"dsuser",name:"dsuser",required:!e.inherit},null,8,Oa)])]),a("div",La,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inherit}])}," DocuSign User ID ",2),a("div",Ua,[a("input",{type:"text",id:"dsuserid",name:"dsuserid",required:!e.inherit},null,8,Ga)])]),a("div",za,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inherit}])}," DocuSign Template ID ",2),a("div",Ha,[a("input",{type:"text",id:"dstempid",name:"dstempid",required:!e.inherit},null,8,Ka)])])])]),Ya],32)])])])):x("",!0),e.accesslevel2?(M(),O("div",Wa,[a("div",Qa,[a("div",Xa,[a("div",Ja,[Za,a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[3]||(t[3]=s=>e.unsetSelectedRecord())})]),a("form",{method:"post",onSubmit:t[5]||(t[5]=tt((...s)=>l.delDep&&l.delDep(...s),["prevent"]))},[a("div",xa,[a("div",ei,[a("div",ti,[a("span",null,[be("Are you sure to delete "),a("strong",null,re(e.selectedRecord.department),1),be(" from the system?")])])])]),a("div",si,[a("input",{type:"hidden",name:"del_depid",id:"del_depid",value:e.selectedRecord.id},null,8,di),a("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=s=>e.unsetSelectedRecord())},"Cancel"),ni])],32)])])])):x("",!0),e.accesslevel1?(M(),O("div",oi,[a("div",ai,[a("div",ii,[a("div",li,[ri,a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[6]||(t[6]=s=>e.unsetSelectedRecord())})]),a("form",{method:"post",onSubmit:t[26]||(t[26]=tt((...s)=>l.updateDep&&l.updateDep(...s),["prevent"]))},[a("div",ci,[a("fieldset",ui,[mi,a("div",pi,[hi,a("div",vi,[a("input",{type:"text",id:"upd_department",name:"upd_department",value:e.selectedRecord.department,onInput:t[7]||(t[7]=s=>e.updateField("department",s)),required:""},null,40,_i)])]),a("div",fi,[gi,a("div",bi,[a("input",{type:"text",id:"upd_abbr",name:"upd_abbr",value:e.selectedRecord.abbr,onInput:t[8]||(t[8]=s=>e.updateField("abbr",s))},null,40,yi)])]),a("div",wi,[Ri,a("div",$i,[a("input",{type:"text",id:"upd_depcode",name:"upd_depcode",value:e.selectedRecord.depcode,onInput:t[9]||(t[9]=s=>e.updateField("depcode",s)),required:""},null,40,ki),Ei])]),a("div",Ii,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:e.inheritSettings}])}," Parent ",2),a("div",Si,[Ce(a("select",{name:"upd_parentdep",id:"upd_parentdep","onUpdate:modelValue":t[10]||(t[10]=s=>e.selectedRecord.parentdep=s),required:e.inheritSettings},[Ci,(M(!0),O(Oe,null,et(e.departments,s=>(M(),O("option",{key:s,value:s.id},re(s.department),9,Vi))),128))],8,Ai),[[Ro,e.selectedRecord.parentdep]])])]),a("div",Di,[qi,a("div",Bi,[a("input",{type:"email",id:"upd_email",name:"upd_email",value:e.selectedRecord.support_email,onInput:t[11]||(t[11]=s=>e.updateField("support_email",s))},null,40,Pi)])]),a("div",Ti,[a("div",ji,[a("input",{type:"checkbox",id:"upd_maindep",name:"upd_maindep",checked:e.selectedRecord.maindep=="1"},null,8,Ni),Fi])])]),a("fieldset",Mi,[Oi,a("div",Li,[a("div",Ui,[Ce(a("input",{type:"checkbox",id:"upd_inherit",name:"upd_inherit","onUpdate:modelValue":t[12]||(t[12]=s=>e.inheritSettings=s)},null,512),[[Tt,e.inheritSettings]]),Gi])]),a("div",zi,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inheritSettings}])}," Communication Type ",2),a("div",Hi,[a("div",Ki,[Ce(a("input",{type:"radio",id:"updcomrt",name:"upd_com",value:"rt","onUpdate:modelValue":t[13]||(t[13]=s=>e.selectedRecord.com_type=s),required:!e.inheritSettings},null,8,Yi),[[jt,e.selectedRecord.com_type]]),Wi,Ce(a("input",{type:"radio",id:"updcomemail",name:"upd_com",value:"email","onUpdate:modelValue":t[14]||(t[14]=s=>e.selectedRecord.com_type=s),required:!e.inheritSettings},null,8,Qi),[[jt,e.selectedRecord.com_type]]),Xi])])]),a("div",Ji,[Zi,a("div",xi,[a("input",{type:"text",id:"upd_rturl",name:"upd_rturl",value:e.selectedRecord.rturl,onInput:t[15]||(t[15]=s=>e.updateField("rturl",s))},null,40,el)])]),a("div",tl,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inheritSettings}])}," Account Managers RT Queue/E-mail ",2),a("div",sl,[a("input",{type:"text",id:"upd_amqemail",name:"upd_amqemail",value:e.selectedRecord.am_channel,onInput:t[16]||(t[16]=s=>e.updateField("am_channel",s)),required:!e.inheritSettings},null,40,dl)])]),a("div",nl,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inheritSettings}])}," Advising RT Queue/E-mail ",2),a("div",ol,[a("input",{type:"text",id:"upd_advqemail",name:"upd_advqemail",value:e.selectedRecord.adv_channel,onInput:t[17]||(t[17]=s=>e.updateField("adv_channel",s)),required:!e.inheritSettings},null,40,al)])]),a("div",il,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inheritSettings}])}," Payroll E-mail ",2),a("div",ll,[a("input",{type:"text",id:"upd_payemail",name:"upd_payemail",value:e.selectedRecord.pay_channel,onInput:t[18]||(t[18]=s=>e.updateField("pay_channel",s)),required:!e.inheritSettings},null,40,rl)])]),a("div",cl,[ul,a("div",ml,[a("input",{type:"email",id:"upd_fromemail",name:"upd_fromemail",value:e.selectedRecord.from_email,onInput:t[19]||(t[19]=s=>e.updateField("from_email",s))},null,40,pl),hl])]),a("div",vl,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inheritSettings}])}," RT API Token ",2),a("div",_l,[a("input",{type:"text",id:"upd_rttoken",name:"upd_rttoken",value:e.selectedRecord.rt_token,onInput:t[20]||(t[20]=s=>e.updateField("rt_token",s)),required:!e.inheritSettings},null,40,fl)])]),a("div",gl,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inheritSettings}])}," DocuSign User ",2),a("div",bl,[a("input",{type:"text",id:"upd_dsuser",name:"upd_dsuser",value:e.selectedRecord.ds_user,onInput:t[21]||(t[21]=s=>e.updateField("ds_user",s)),required:!e.inheritSettings,disabled:e.curlRole!=="superadmin"},null,40,yl)])]),a("div",wl,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inheritSettings}])}," DocuSign User ID ",2),a("div",Rl,[a("input",{type:"text",id:"upd_dsuserid",name:"upd_dsuserid",value:e.selectedRecord.ds_userid,onInput:t[22]||(t[22]=s=>e.updateField("ds_userid",s)),required:!e.inheritSettings,disabled:e.curlRole!=="superadmin"},null,40,$l)])]),a("div",kl,[a("div",{class:U(["col-md-4 fw-bold text-end",{required:!e.inheritSettings}])}," DocuSign Template ID ",2),a("div",El,[a("input",{type:"text",id:"upd_dstempid",name:"upd_dstempid",value:e.selectedRecord.ds_tempid,onInput:t[23]||(t[23]=s=>e.updateField("ds_tempid",s)),required:!e.inheritSettings,disabled:e.curlRole!=="superadmin"},null,40,Il),Sl])])])]),a("div",Al,[a("input",{type:"hidden",name:"upd_depid",id:"upd_depid",value:e.selectedRecord.id,onInput:t[24]||(t[24]=s=>e.updateField("id",s))},null,40,Cl),a("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[25]||(t[25]=s=>e.unsetSelectedRecord())},"Cancel"),Vl])],32)])])])):x("",!0)],64)}const ql=ze(bo,[["render",Dl],["__scopeId","data-v-588be402"]]);const Bl={mixins:[Te,Ge],name:"EmailManagement",mounted:function(){const e="https://web.bftv.ucdavis.edu/gsr/email-get.php";this.getDataList(e,"department")},methods:{updateEmail(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-edit-email")),o=document.getElementById("upd_emailid").value,n=document.getElementById("upd_emaildepid").value,i=document.getElementById("upd_subject").value,l=document.getElementById("upd_body").value;axios.post("https://web.bftv.ucdavis.edu/gsr/email-update.php",{crossDomain:!0,myid:this.username,token:this.token,id:o,depid:n,subject:i,body:l,headers:{"Content-Type":"application/json"}}).then(m=>{this.screenmsg=m.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=m.data.dataList,this.departments=m.data.departments}).catch(m=>{console.log(m),m.response.data.message?this.screenmsg=m.response.data.message:m.data.message?this.screenmsg=m.data.message:this.screenmsg=m.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=m.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)},restoreEmail(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-restore")),o=document.getElementById("res_emailid").value,n=document.getElementById("res_emaildepid").value,i=document.getElementById("res_emailtype").value;axios.post("https://web.bftv.ucdavis.edu/gsr/email-restore.php",{crossDomain:!0,id:o,depid:n,type:i,myid:this.username,token:this.token,headers:{"Content-Type":"application/json"}}).then(l=>{console.log(l),this.screenmsg=l.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=l.data.dataList,this.departments=l.data.departments}).catch(l=>{console.log(l),l.response.data.message?this.screenmsg=l.response.data.message:l.data.message?this.screenmsg=l.data.message:this.screenmsg=l.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=l.response.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)}}},Pl=window.Vue.resolveComponent,Tl=window.Vue.createVNode,g=window.Vue.createElementVNode,J=window.Vue.openBlock,Z=window.Vue.createElementBlock,ce=window.Vue.createCommentVNode,Nt=window.Vue.normalizeClass,Re=window.Vue.toDisplayString,me=window.Vue.createTextVNode,jl=window.Vue.renderList,Ft=window.Vue.Fragment,Mt=window.Vue.withModifiers,Nl=window.Vue.createStaticVNode,Fl=window.Vue.pushScopeId,Ml=window.Vue.popScopeId,Q=e=>(Fl("data-v-505eb857"),e=e(),Ml(),e),Ol={class:"container-fluid"},Ll={key:0,id:"loading",class:"mt-3"},Ul=Q(()=>g("div",{class:"spinner-border text-secondary loader",role:"status"},[g("span",{class:"sr-only"},"Loading...")],-1)),Gl=[Ul],zl={key:1},Hl={key:0,class:"mt-5"},Kl={key:0},Yl={class:"row mt-3"},Wl={key:0,class:"col-md-12 mb-3"},Ql={class:"alert alert--error"},Xl=Q(()=>g("i",{class:"far fa-times-circle fa-2x alert--error-icon"},null,-1)),Jl={key:1,class:"table-responsive mt-2"},Zl={class:"table table-bordered table-hover table-striped"},xl={class:"thead-light"},er=Q(()=>g("th",null,"Type",-1)),tr=Q(()=>g("th",null,"Description",-1)),sr={key:0},dr=Q(()=>g("th",null,null,-1)),nr={class:"text-capitalize"},or={key:0},ar=["onClick"],ir=Q(()=>g("i",{class:"fa-solid fa-pen-to-square"},null,-1)),lr=[ir],rr=["onClick"],cr=Q(()=>g("i",{class:"fa-solid fa-arrow-rotate-right"},null,-1)),ur=[cr],mr={key:2},pr=Q(()=>g("div",{class:"alert alert--error"},[g("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),me(" You are not authorized to view this page. ")],-1)),hr=[pr],vr={class:"modal fade",id:"modal-restore",tabindex:"-1","aria-labelledby":"modal-restore-label","aria-hidden":"true"},_r={class:"modal-dialog"},fr={class:"modal-content"},gr={class:"modal-header"},br=Q(()=>g("h3",{class:"modal-title fs-5",id:"modal-restore-label"},"Restore E-mail Template",-1)),yr={class:"modal-body"},wr={class:"row m-2"},Rr={class:"col-md-12 mt-1"},$r={class:"modal-footer"},kr=["value"],Er=["value"],Ir=["value"],Sr=Q(()=>g("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1)),Ar={key:0,class:"modal fade",id:"modal-edit-email",tabindex:"-1","aria-labelledby":"modal-edit-email-label","aria-hidden":"true"},Cr={class:"modal-dialog modal-xl"},Vr={class:"modal-content"},Dr={class:"modal-header"},qr=Q(()=>g("h3",{class:"modal-title fs-5",id:"modal-edit-email"},"Update E-mail Template",-1)),Br={class:"modal-body"},Pr={class:"row m-2"},Tr={class:"col-md-8"},jr={class:"row m-2"},Nr={class:"col-md-12"},Fr=Q(()=>g("label",{class:"required",for:"upd_subject"},"Subject",-1)),Mr=["value"],Or={class:"col-md-12 mt-2"},Lr=Q(()=>g("label",{class:"required",for:"upd_body"},"Body",-1)),Ur=["value"],Gr=Nl('<div class="col-md-4" data-v-505eb857><h5 data-v-505eb857>Available Tokens</h5> [PI_FULL_NAME]<br data-v-505eb857>[PI_INITIAL_LASTNAME]<br data-v-505eb857>[PI_LASTNAME_INITIAL]<br data-v-505eb857>[PI_DEPARTMENT]<br data-v-505eb857>[PI_EMAIL]<br data-v-505eb857>[GSR_FULLNAME]<br data-v-505eb857>[GSR_FIRSTNAME]<br data-v-505eb857>[GSR_LASTNAME]<br data-v-505eb857>[GSR_EMAIL]<br data-v-505eb857>[GSR_START_DATE]<br data-v-505eb857>[GSR_END_DATE]<br data-v-505eb857>[PEP_STATUS]<br data-v-505eb857>[APPOINTMENT_TYPE]<br data-v-505eb857>[FTE_PERCENTAGE]<br data-v-505eb857>[STEP]<br data-v-505eb857>[ACCOUNT]<br data-v-505eb857>[SALARY]<br data-v-505eb857>[JOB_DESCRIPTION]<br data-v-505eb857>[TRAINING_GRANT]<br data-v-505eb857>[GRAD_GROUP]<br data-v-505eb857>[ADDITIONAL_FUNDING]<br data-v-505eb857>[OFFER_PREVIEW_LINK]<br data-v-505eb857>[APPLICATION_LINK] </div>',1),zr={class:"modal-footer"},Hr=["value"],Kr=["value"],Yr=Q(()=>g("button",{type:"submit",class:"btn btn-primary btn-sm"},"Update",-1));function Wr(e,t,o,n,i,l){const m=Pl("the-navigation");return J(),Z(Ft,null,[g("div",Ol,[Tl(m),e.loading?(J(),Z("div",Ll,Gl)):ce("",!0),e.accesslevel1?(J(),Z("div",zl,[e.screenmsg?(J(),Z("div",Hl,[g("div",{class:Nt("alert alert--"+e.screenmsgtype)},[g("i",{class:Nt(e.screenmsgicon)},null,2),me(" "+Re(e.screenmsg)+" ",1),e.screenmsgtype=="error"?(J(),Z("span",Kl," Please contact one of the SuperAdmins through the Slack channel.")):ce("",!0)],2)])):ce("",!0),g("div",Yl,[e.authenticated?ce("",!0):(J(),Z("div",Wl,[g("div",Ql,[Xl,me(" Your changes will not be saved as you are not authenticated to the server. "),g("a",{href:"#",onClick:t[0]||(t[0]=s=>e.authenticate())},"Click here"),me(" to authenticate. ")])]))]),e.hidebody?ce("",!0):(J(),Z("div",Jl,[g("table",Zl,[g("thead",xl,[g("tr",null,[er,tr,e.accesslevel2?(J(),Z("th",sr,"Department")):ce("",!0),dr])]),g("tbody",null,[(J(!0),Z(Ft,null,jl(e.listData,s=>(J(),Z("tr",null,[g("td",nr,Re(s.type),1),g("td",null,Re(s.description),1),e.accesslevel2?(J(),Z("td",or,Re(s.department),1)):ce("",!0),g("td",null,[g("a",{href:"",onClick:u=>e.selectRecord(s),"data-bs-toggle":"modal","data-bs-target":"#modal-edit-email",title:"Edit e-mail template"},lr,8,ar),me(),g("a",{href:"",onClick:u=>e.selectRecord(s),"data-bs-toggle":"modal","data-bs-target":"#modal-restore",title:"Restore default template"},ur,8,rr)])]))),256))])])]))])):(J(),Z("div",mr,hr))]),g("div",vr,[g("div",_r,[g("div",fr,[g("div",gr,[br,g("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=s=>e.unsetSelectedRecord())})]),g("form",{method:"post",onSubmit:t[3]||(t[3]=Mt((...s)=>l.restoreEmail&&l.restoreEmail(...s),["prevent"]))},[g("div",yr,[g("div",wr,[g("div",Rr,[g("span",null,[me("Are you sure to restore the "),g("strong",null,Re(e.selectedRecord.type)+" email template",1),me(" for "),g("strong",null,Re(e.selectedRecord.abbr),1),me("?")])])])]),g("div",$r,[g("input",{type:"hidden",name:"res_emailid",id:"res_emailid",value:e.selectedRecord.id},null,8,kr),g("input",{type:"hidden",name:"res_emaildepid",id:"res_emaildepid",value:e.selectedRecord.depcode},null,8,Er),g("input",{type:"hidden",name:"res_emailtype",id:"res_emailtype",value:e.selectedRecord.type},null,8,Ir),g("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=s=>e.unsetSelectedRecord())},"Cancel"),Sr])],32)])])]),e.accesslevel1?(J(),Z("div",Ar,[g("div",Cr,[g("div",Vr,[g("div",Dr,[qr,g("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[4]||(t[4]=s=>e.unsetSelectedRecord())})]),g("form",{method:"post",onSubmit:t[10]||(t[10]=Mt((...s)=>l.updateEmail&&l.updateEmail(...s),["prevent"]))},[g("div",Br,[g("div",Pr,[g("div",Tr,[g("div",jr,[g("div",Nr,[Fr,g("input",{type:"text",id:"upd_subject",name:"upd_subject",value:e.selectedRecord.subject,onInput:t[5]||(t[5]=s=>e.updateField("subject",s)),required:""},null,40,Mr)]),g("div",Or,[Lr,g("textarea",{type:"text",id:"upd_body",name:"upd_body",rows:"20",value:e.selectedRecord.body,onInput:t[6]||(t[6]=s=>e.updateField("body",s)),required:""},null,40,Ur)])])]),Gr])]),g("div",zr,[g("input",{type:"hidden",name:"upd_emailid",id:"upd_emailid",value:e.selectedRecord.id,onInput:t[7]||(t[7]=s=>e.updateField("id",s))},null,40,Hr),g("input",{type:"hidden",name:"upd_emaildepid",id:"upd_emaildepid",value:e.selectedRecord.depcode,onInput:t[8]||(t[8]=s=>e.updateField("depcode",s))},null,40,Kr),g("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[9]||(t[9]=s=>e.unsetSelectedRecord())},"Cancel"),Yr])],32)])])])):ce("",!0)],64)}const Qr=ze(Bl,[["render",Wr],["__scopeId","data-v-505eb857"]]),Xr={mixins:[Te,Ge],name:"Apps",watch:{$route:{immediate:!0,handler(e,t){const o="https://web.bftv.ucdavis.edu/gsr/data-get.php";let n;switch(e.name){case"pen-apps":n="pending";break;case"new-apps":n="new";break;case"rej-apps":n="rejected";break;case"com-apps":n="completed";break;default:n="new"}this.getDataList(o,"data",n)}}},mounted:function(){this.$nextTick(()=>{setTimeout(()=>{[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(t=>new bootstrap.Popover(t))},1e3)})},methods:{removeAllBackslashes(e){return e.replace(/\\/g,"")},statusChecker:function(e){if(e=="new"||e=="reviewed"||e=="pi_approved")return"rejectable";if(e=="pending"||e=="completed")return"voidable";if(e=="rejected")return"rejected"},popoverContent(e){for(var t="<ul>",o=0;o<e.length;o++)t+='<li class="popper-text"><a href="mailto:'+e[o].email+'">'+e[o].name+'</a> - <span class="text-uppercase fw-bold text-muted">'+e[o].status+'</span><br/><span class="text-muted">'+e[o].date+"</span></li>";return t+="</ul>",t},isGreaterThan24Hours(e){const t=new Date(e);return(new Date-t)/(1e3*60*60)>24},updateApplicant(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modal-applicant")),o=document.getElementById("sid").value,n=document.getElementById("pi_fname").value,i=document.getElementById("pi_lname").value,l=document.getElementById("pi_title").value,m=document.getElementById("pi_email").value,s=document.querySelector('input[name="pi_dept"]:checked').value,u=document.getElementById("gsr_fname").value,h=document.getElementById("gsr_lname").value,r=document.getElementById("gsr_email").value,_=document.getElementById("worksite").value,v=document.querySelector('input[name="appt_type"]:checked').value,y=document.getElementById("fte_percentage").value,R=document.getElementById("step").value,j=document.getElementById("account").value,D=document.getElementById("start_date").value,E=document.getElementById("end_date").value,I=document.getElementById("job_description").value,V=document.querySelector('input[name="training_grant"]:checked').value,T="",se="",X="";document.querySelector('input[name="grad_group"]:checked').value=="Other"?T=document.getElementById("grad_group_other_text").value:T=document.querySelector('input[name="grad_group"]:checked').value;var he=document.querySelectorAll('input[name="additional_funding[]"]:checked'),de=[];he.forEach(H=>{de.push(H.value)}),de.includes("Other")&&(se=document.getElementById("additional_funding_other_text").value,de=de.map(H=>H==="Other"?se:H)),de.includes("TAship")?X=document.getElementById("ta_percentage").value:X="",de=de.join(", ");var ve=document.getElementById("approved_am").checked,_e=document.getElementById("approved_advising").checked,je=document.getElementById("fullname").value,Ne=document.getElementById("salary").value,fe=document.getElementById("gsr_address").value;ve==!0?ve=1:ve=0,_e==!0?_e=1:_e=0;var ye="";e.submitter.name=="docusign-app"?ye="docusign":e.submitter.name=="send-pi-app"?ye="send_preview":ye="save",axios.post("https://web.bftv.ucdavis.edu/gsr/data-update.php",{crossDomain:!0,myid:this.username,token:this.token,mode:ye,sid:o,pi_fname:n,pi_lname:i,pi_title:l,pi_email:m,pi_dept:s,gsr_fname:u,gsr_lname:h,gsr_fullname:je,gsr_email:r,worksite:_,appt_type:v,fte_percentage:y,step:R,account:j,start_date:D,end_date:E,job_description:I,training_grant:V,grad_group:T,additional_funding:de,ta_percentage:X,approved_am:ve,approved_ad:_e,salary:Ne,gsr_address:fe,headers:{"Content-Type":"application/json"}}).then(H=>{this.screenmsg=H.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=H.data.updated_data.data,this.filterObjectByKeyValue("status","new")}).catch(H=>{H.response.data.message?this.screenmsg=H.response.data.message:H.data.message?this.screenmsg=H.data.message:this.screenmsg=H.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=H.response.data.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,150)},rejectApp(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modalRejectApp")),o=document.getElementById("modalRejectAppsid").value,n=document.getElementById("rejectreason").value;axios.post("https://web.bftv.ucdavis.edu/gsr/data-reject.php",{crossDomain:!0,myid:this.username,token:this.token,sid:o,reason:n,headers:{"Content-Type":"application/json"}}).then(i=>{this.screenmsg=i.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=i.data.updated_data.data,this.filterObjectByKeyValue("status","new")}).catch(i=>{i.response.data.message?this.screenmsg=i.response.data.message:i.data.message?this.screenmsg=i.data.message:this.screenmsg=i.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=i.response.data.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)},voidApp(e){e.preventDefault(),this.loading=!0;var t=bootstrap.Modal.getInstance(document.getElementById("modalVoidApp")),o=document.getElementById("modalVoidAppsid").value,n=document.getElementById("voidreason").value,i=document.getElementById("envid").value,l=document.getElementById("restart_app").checked;l==!0?l=1:l=0,axios.post("https://web.bftv.ucdavis.edu/gsr/data-void.php",{crossDomain:!0,myid:this.username,token:this.token,sid:o,reason:n,envid:i,restart:l,headers:{"Content-Type":"application/json"}}).then(m=>{this.screenmsg=m.data.message,this.screenmsgtype="success",this.screenmsgicon=this.successicon,this.listData=m.data.updated_data.data,this.filterObjectByKeyValue("status","new")}).catch(m=>{m.response.data.message?this.screenmsg=m.response.data.message:m.data.message?this.screenmsg=m.data.message:this.screenmsg=m.message,this.screenmsgtype="error",this.screenmsgicon=this.erroricon,this.code=m.response.data.status}).finally(()=>{this.unsetSelectedRecord(),t.hide(),this.loading=!1}),window.scrollTo(0,400)}},computed:{hasApplicants(){return Object.keys(this.listData).length>0}}},Jr=window.Vue.resolveComponent,Zr=window.Vue.createVNode,d=window.Vue.createElementVNode,$=window.Vue.openBlock,k=window.Vue.createElementBlock,q=window.Vue.createCommentVNode,Ot=window.Vue.normalizeClass,B=window.Vue.toDisplayString,F=window.Vue.createTextVNode,st=window.Vue.renderList,dt=window.Vue.Fragment,nt=window.Vue.withModifiers,ee=window.Vue.vModelRadio,z=window.Vue.withDirectives,ue=window.Vue.vModelCheckbox,xr=window.Vue.createStaticVNode,ec={class:"container-fluid"},tc={key:0,id:"loading",class:"mt-3"},sc=d("div",{class:"spinner-border text-secondary loader",role:"status"},[d("span",{class:"sr-only"},"Loading...")],-1),dc=[sc],nc={key:1},oc={key:0,class:"mt-5"},ac={key:0},ic=d("a",{href:"/assignments"},"click here",-1),lc={key:1},rc=d("a",{href:"mailto:bftvtech@ucdavis.edu"},"bftvtech@ucdavis.edu",-1),cc={key:1,class:"mt-5"},uc={class:"row"},mc={key:0,class:"col-md-12 mb-3"},pc={class:"alert alert--error"},hc=d("i",{class:"far fa-times-circle fa-2x alert--error-icon"},null,-1),vc={key:1,class:"col-md-12 mb-3"},_c={class:"alert alert--warning"},fc=d("i",{class:"fa-regular fa-clock fa-2x alert--error-icon"},null,-1),gc=d("span",{class:"text-muted"},[d("small",null,[F("There is an up to "),d("strong",null,"20-minute delay"),F(" with the status updates. This results in not showing status updates for the newly created DocuSign applications.")])],-1),bc=d("br",null,null,-1),yc={class:"fs-6"},wc={class:"col-md-12"},Rc={key:0,class:"table-responsive mt-2"},$c={class:"table table-bordered table-hover table-striped"},kc={class:"thead-light"},Ec=d("th",null,"#",-1),Ic=d("th",null,"Date",-1),Sc=d("th",null,"Period / Apptmt Type",-1),Ac=d("th",null,"Applicant",-1),Cc=d("th",null,"PI/Supervisor",-1),Vc={key:0},Dc=d("th",null,null,-1),qc=d("br",null,null,-1),Bc={class:"text-muted fs-t"},Pc=["href"],Tc=["href"],jc=d("br",null,null,-1),Nc={class:"text-muted fs-6"},Fc={key:0,class:"text-muted fs-6"},Mc={key:0},Oc=["data-bs-content"],Lc=d("i",{class:"fa-solid fa-circle-info"},null,-1),Uc=[Lc],Gc={key:1},zc={key:0},Hc={key:1},Kc={key:0},Yc=["href"],Wc={key:0,class:"text-muted"},Qc=d("button",{class:"btn btn-sm btn-link btn-resend",title:"Resend DocuSign to the pending recepient."},[d("i",{class:"fa-solid fa-paper-plane"})],-1),Xc={class:"status_date"},Jc={key:1},Zc=["href"],xc=d("span",{class:"text-uppercase fw-bold"},"DECLINED",-1),eu=d("br",null,null,-1),tu={class:"status_date"},su={key:2},du={class:"popper-text"},nu={key:0},ou=d("button",{class:"btn btn-sm btn-link btn-resend",title:"Resend offer letter preview to the PI."},[d("i",{class:"fa-solid fa-paper-plane"})],-1),au=["onClick"],iu=d("i",{class:"fa-solid fa-pen-to-square"},null,-1),lu=[iu],ru={key:0},cu=["onClick"],uu=d("i",{class:"fa-solid fa-circle-xmark",title:"Reject this application."},null,-1),mu=[uu],pu={key:1},hu=["onClick"],vu=d("i",{class:"fa-solid fa-ban",title:"Cancel DocuSign for this application."},null,-1),_u=[vu],fu={key:1},gu=d("div",{class:"alert alert--info"},"There is currently no record in this section.",-1),bu=[gu],yu={class:"modal fade",id:"modalRejectApp"},wu={class:"modal-dialog"},Ru={class:"modal-content"},$u={class:"modal-body"},ku={class:"row"},Eu={class:"col-md-12"},Iu={id:"modalRejectAppNO"},Su=d("div",{class:"col-md-12 mt-3"},[d("input",{type:"text",id:"rejectreason",name:"rejectreason",placeholder:"Optional Reason"})],-1),Au=d("div",{class:"col-md-12"},[d("p",{class:"text-muted small"},"The PI or the Submitter will not be notified.")],-1),Cu={class:"modal-footer"},Vu=d("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1),Du=d("input",{type:"hidden",name:"mode",value:"rejectapp"},null,-1),qu=["value"],Bu={class:"modal fade",id:"modalVoidApp"},Pu={class:"modal-dialog"},Tu={class:"modal-content"},ju={class:"modal-body"},Nu={class:"row"},Fu={class:"col-md-12"},Mu={id:"modalVoidAppNO"},Ou=xr('<div class="col-md-12"><input type="checkbox" id="restart_app" name="restart_app" value="Restart"><label class="radio-check-label" for="restart_app">Restart this application</label></div><div class="col-md-12 mt-3"><input type="text" id="voidreason" name="voidreason" placeholder="Reason (required)" required></div><div class="col-md-12"><p class="text-muted small">The PI or the Submitter will not be notified.</p></div>',3),Lu={class:"modal-footer"},Uu=d("button",{type:"submit",class:"btn btn-primary btn-sm"},"Yes",-1),Gu=d("input",{type:"hidden",name:"mode",value:"voidapp"},null,-1),zu=["value"],Hu=["value"],Ku={class:"modal fade",id:"modal-applicant",tabindex:"-1","aria-labelledby":"modal-applicant-label","aria-hidden":"true",ref:"appEditModal","data-bs-backdrop":"static"},Yu={class:"modal-dialog modal-xl"},Wu={class:"modal-content"},Qu={class:"modal-header"},Xu={class:"modal-title fs-5",id:"modal-applicant-label"},Ju={class:"modal-body"},Zu={class:"form-group mt-2"},xu=d("legend",{class:"w-auto"},"PI Information",-1),em={class:"row"},tm={class:"col-md-6"},sm=d("label",{for:"pi_fname",class:"input-label required",id:"pi_fname-title"},"PI First Name",-1),dm=["value","disabled"],nm={class:"col-md-6"},om=d("label",{for:"pi_lname",class:"input-label required",id:"pi_lname-title"},"PI Last Name",-1),am=["value","disabled"],im={class:"row mt-4"},lm={class:"col-md-6"},rm=d("label",{for:"pi_title",class:"input-label required",id:"pi_title-title"},"PI Title",-1),cm=["value","disabled"],um={class:"col-md-6"},mm=d("label",{for:"pi_email",class:"input-label required",id:"pi_email-title"},"PI E-mail",-1),pm=["value","disabled"],hm={class:"row mt-4"},vm=d("div",{class:"col-md-12"},[d("label",{class:"radio-check-main-label required",id:"pi_dept-title"},"Department")],-1),_m={class:"col-md-12 mt-2"},fm=["disabled"],gm=d("label",{class:"radio-check-label",for:"pi_dept_bae"},"Biological and Agricultural Engineering (BAE)",-1),bm=["disabled"],ym=d("label",{class:"radio-check-label",for:"pi_dept_fst"},"Food Science and Technology (FST)",-1),wm=["disabled"],Rm=d("label",{class:"radio-check-label",for:"pi_dept_ven"},"Viticulture & Enology (VEN)",-1),$m={class:"form-group mt-2"},km=d("legend",{class:"w-auto"},"Applicant Information",-1),Em={class:"row"},Im={class:"col-md-6"},Sm=d("label",{for:"gsr_fname",class:"input-label required",id:"gsr_fname-title"},"First Name",-1),Am=["value","disabled"],Cm={class:"col-md-6"},Vm=d("label",{for:"gsr_lname",class:"input-label required",id:"gsr_lname-title"},"Last Name",-1),Dm=["value","disabled"],qm={class:"row mt-4"},Bm={class:"col-md-6"},Pm=d("label",{for:"gsr_email",class:"input-label required",id:"gsr_email-title"},"E-mail",-1),Tm=["value","disabled"],jm={class:"col-md-6"},Nm=d("label",{for:"worksite",class:"input-label",id:"worksite-title"},"Worksite",-1),Fm=["value","disabled"],Mm={class:"form-group mt-2"},Om=d("legend",{class:"w-auto"},"Recruitment Information",-1),Lm={class:"row"},Um={class:"col-md-4"},Gm=d("div",null,[d("label",{class:"radio-check-main-label required",id:"pi_dept-title"},"Appointment Type")],-1),zm=["disabled"],Hm=d("label",{class:"radio-check-label",for:"appt_type_new"},"New",-1),Km=["disabled"],Ym=d("label",{class:"radio-check-label",for:"appt_type_extension"},"Extension",-1),Wm={class:"col-md-4"},Qm=d("label",{for:"fte_percentage",class:"input-label required",id:"fte_percentage-title"},"FTE Percentage",-1),Xm=["value","disabled"],Jm={class:"col-md-4"},Zm=d("label",{for:"step",class:"input-label required",id:"step-title"},"Salary Point",-1),xm=["value","disabled"],ep={class:"row mt-4"},tp={class:"col-md-4"},sp=d("label",{for:"account",class:"input-label required",id:"account-title"},"Account",-1),dp=["value","disabled"],np={class:"col-md-4"},op=d("label",{for:"start_date",class:"input-label required",id:"start_date-title"},"Start Date",-1),ap=["value","disabled"],ip={class:"col-md-4"},lp=d("label",{for:"end_date",class:"input-label required",id:"end_date-title"},"End Date",-1),rp=["value","disabled"],cp={class:"row mt-4"},up={class:"col-md-12"},mp=d("label",{for:"job_description",class:"input-label required",id:"job_description-title"},"Job Description",-1),pp=["value","disabled"],hp={class:"row mt-4"},vp={class:"col-md-6"},_p=d("div",null,[d("label",{class:"radio-check-main-label required",id:"training_grant-title"},"Is this a training grant?")],-1),fp=["disabled"],gp=d("label",{class:"radio-check-label",for:"training_grant_yes"},"Yes",-1),bp=["disabled"],yp=d("label",{class:"radio-check-label",for:"training_grant_no"},"No",-1),wp={class:"col-md-6"},Rp=d("div",null,[d("label",{class:"radio-check-main-label required",id:"grad_group-title"},"Student Grad Group")],-1),$p=["disabled"],kp=d("label",{class:"radio-check-label",for:"grad_group_gbse"},"GBSE",-1),Ep=["disabled"],Ip=d("label",{class:"radio-check-label",for:"grad_group_gfsc"},"GFSC",-1),Sp=["disabled"],Ap=d("label",{class:"radio-check-label",for:"grad_group_gven"},"GVEN",-1),Cp=["disabled"],Vp=d("label",{class:"radio-check-label",for:"grad_group_other"},"Other",-1),Dp=["value"],qp={class:"row mt-4"},Bp={class:"col-md-8"},Pp=d("div",null,[d("label",{class:"radio-check-main-label required",id:"additional_funding-title"},"Is the student recieving any additional funding? ")],-1),Tp=["disabled"],jp=d("label",{class:"radio-check-label",for:"additional_funding_none"},"None",-1),Np=["disabled"],Fp=d("label",{class:"radio-check-label",for:"additional_funding_ext_fel"},"External Fellowship",-1),Mp=["disabled"],Op=d("label",{class:"radio-check-label",for:"additional_funding_int_fel"},"Internal Fellowship",-1),Lp=["disabled"],Up=d("label",{class:"radio-check-label",for:"additional_funding_taship"},"TAship",-1),Gp=["checked","disabled"],zp=d("label",{class:"radio-check-label",for:"additional_funding_other"},"Other",-1),Hp={key:0,class:"mt-2"},Kp=["value","disabled"],Yp={key:0,class:"col-md-4"},Wp=d("label",{for:"ta_percentage",class:"input-label",id:"ta_percentage-title"},"TAShip Percentage",-1),Qp=["value","disabled"],Xp={class:"form-group mt-2"},Jp=d("legend",{class:"w-auto"},"Advising Use Only",-1),Zp={class:"row"},xp={class:"col-md-6"},eh=d("label",{for:"salary",class:"input-label required",id:"salary-title"},"Proposed Salary",-1),th=["value","disabled","required"],sh={class:"col-md-6"},dh=d("label",{for:"gsr_address",class:"input-label",id:"gsr_address-title"},"GSR Address",-1),nh=["value","disabled"],oh={key:0,class:"form-group mt-2"},ah=d("legend",{class:"w-auto"},"User Comment",-1),ih={class:"row"},lh={class:"col-md-12"},rh={class:"form-group mt-2"},ch=d("legend",{class:"w-auto"},"History Logs",-1),uh={class:"row"},mh={class:"col-md-12 table-responsive"},ph={class:"table text-muted log-table"},hh={style:{width:"200px"}},vh={key:0},_h=["innerHTML"],fh={class:"form-group mt-2"},gh=d("legend",{class:"w-auto"},"Admin Use",-1),bh={class:"row"},yh={class:"col-md-12"},wh=["checked","disabled"],Rh=d("label",{class:"radio-check-label",for:"approved_am"},"Approved by Account Management Team",-1),$h=["checked","disabled"],kh=d("label",{class:"radio-check-label",for:"approved_advising"},"Approved by Advising Section",-1),Eh=["checked","disabled"],Ih=d("label",{class:"radio-check-label",for:"approved_pi"},"PI Approved",-1),Sh={class:"modal-footer"},Ah=["value"],Ch=["value"],Vh=["disabled"],Dh=["href"],qh={key:2,type:"submit",class:"btn btn-primary btn-sm",name:"send-pi-app"},Bh=["disabled"],Ph={key:2,class:"mt-5"},Th=d("div",{class:"alert alert--error"},[d("i",{class:"far fa-times-circle fa-2x alert--error-icon"}),F(" You are not authorized to view this page. ")],-1),jh=[Th];function Nh(e,t,o,n,i,l){const m=Jr("the-navigation");return $(),k("div",ec,[Zr(m),e.loading?($(),k("div",tc,dc)):q("",!0),e.curlRole!=="anonymous"?($(),k("div",nc,[e.screenmsg?($(),k("div",oc,[d("div",{class:Ot("alert alert--"+e.screenmsgtype)},[d("i",{class:Ot(e.screenmsgicon)},null,2),F(" "+B(e.screenmsg)+" ",1),e.code==401?($(),k("span",ac,[F("Please "),ic,F(" to refresh the page.")])):q("",!0),e.screenmsgtype=="error"?($(),k("span",lc,[F("If the problem persists, please contact "),rc,F(".")])):q("",!0)],2)])):q("",!0),e.hidebody?q("",!0):($(),k("div",cc,[d("div",uc,[e.authenticated?q("",!0):($(),k("div",mc,[d("div",pc,[hc,F(" Your changes will not be saved as you are not authenticated to the server. "),d("a",{href:"#",onClick:t[0]||(t[0]=s=>e.authenticate())},"Click here"),F(" to authenticate. ")])])),e.pendingTab?($(),k("div",vc,[d("div",_c,[fc,F(),gc,bc,d("span",yc,"Last updated: "+B(e.metaData.lastupdated),1)])])):q("",!0),d("div",wc,[l.hasApplicants?($(),k("div",Rc,[d("table",$c,[d("thead",kc,[d("tr",null,[Ec,Ic,Sc,Ac,Cc,e.pendingTab?($(),k("th",Vc,"Status")):q("",!0),Dc])]),d("tbody",null,[($(!0),k(dt,null,st(e.listData,s=>($(),k("tr",null,[d("td",null,B(s.sid),1),d("td",null,B(e.convertDateFormat(s.created,"datetime")),1),d("td",null,[F(B(e.convertDateFormat(s.start_date,"date"))+" - "+B(e.convertDateFormat(s.end_date,"date")),1),qc,d("span",Bc,B(s.appt_type),1)]),d("td",null,[d("a",{href:"mailto:"+s.gsr_email},B(s.gsr_fname)+" "+B(s.gsr_lname),9,Pc)]),d("td",null,[d("a",{href:"mailto:"+s.pi_email},B(s.pi_fname)+" "+B(s.pi_lname),9,Tc),jc,d("span",Nc,B(s.pi_dept),1)]),e.pendingTab?($(),k("td",Fc,[F(B(e.statusAnalyzer(s.status,s.sent_preview,s.approved_pi,s.change_request))+" ",1),s.status=="pending"?($(),k("span",Mc,[d("a",{tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"focus","data-bs-html":"true","data-bs-content":l.popoverContent(s.signers)},Uc,8,Oc)])):q("",!0),s.status=="pending"?($(),k("div",Gc,[s.signers=="NR"?($(),k("span",zc,"Status not received yet.")):($(),k("span",Hc,[($(!0),k(dt,null,st(s.signers,u=>($(),k("span",null,[u.status=="sent"||u.status=="delivered"?($(),k("span",Kc,[d("a",{href:"mailto:"+u.email},B(u.name),9,Yc),u.currentresend==1?($(),k("span",Wc,[F(" | "),Qc])):q("",!0),d("span",Xc,B(u.date),1)])):q("",!0),u.status=="declined"?($(),k("span",Jc,[d("a",{href:"mailto:"+u.email},B(u.name),9,Zc),F(" - "),xc,eu,d("span",tu,B(u.date),1)])):q("",!0)]))),256))]))])):q("",!0),s.status=="reviewed"&&s.sent_preview==1&&s.change_request==0?($(),k("div",su,[d("span",du,B(e.convertDateFormat(s.sent_pdate,"datetime",!0)),1),l.isGreaterThan24Hours(s.sent_pdate)?($(),k("span",nu,[F(" | "),ou])):q("",!0)])):q("",!0)])):q("",!0),d("td",null,[d("a",{href:"",onClick:u=>e.selectRecord(s),"data-bs-toggle":"modal","data-bs-target":"#modal-applicant"},lu,8,au),l.statusChecker(s.status)==="rejectable"?($(),k("span",ru,[F(" | "),d("a",{"data-bs-toggle":"modal",href:"",onClick:u=>e.selectRecord(s),"data-bs-target":"#modalRejectApp"},mu,8,cu)])):q("",!0),l.statusChecker(s.status)==="voidable"?($(),k("span",pu,[F(" | "),d("a",{"data-bs-toggle":"modal",href:"",onClick:u=>e.selectRecord(s),"data-bs-target":"#modalVoidApp"},_u,8,hu)])):q("",!0)])]))),256))])])])):($(),k("div",fu,bu))])])])),d("div",yu,[d("div",wu,[d("div",Ru,[d("form",{method:"post",onSubmit:t[2]||(t[2]=nt((...s)=>l.rejectApp&&l.rejectApp(...s),["prevent"]))},[d("div",$u,[d("div",ku,[d("div",Eu,[d("p",null,[F("Are you sure you want to reject the application# "),d("strong",null,[d("span",Iu,B(e.selectedRecord.sid),1)]),F(" for "),d("strong",null,B(e.selectedRecord.gsr_fname)+" "+B(e.selectedRecord.gsr_lname),1),F("?")])]),Su,Au])]),d("div",Cu,[d("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=s=>e.unsetSelectedRecord())},"No"),Vu,Du,d("input",{type:"hidden",name:"sid",id:"modalRejectAppsid",value:e.selectedRecord.sid},null,8,qu)])],32)])])]),d("div",Bu,[d("div",Pu,[d("div",Tu,[d("form",{method:"post",onSubmit:t[4]||(t[4]=nt((...s)=>l.voidApp&&l.voidApp(...s),["prevent"]))},[d("div",ju,[d("div",Nu,[d("div",Fu,[d("p",null,[F("Are you sure you want to void the application# "),d("strong",null,[d("span",Mu,B(e.selectedRecord.sid),1)]),F(" for "),d("strong",null,B(e.selectedRecord.gsr_fname)+" "+B(e.selectedRecord.gsr_lname),1),F("?")])]),Ou])]),d("div",Lu,[d("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=s=>e.unsetSelectedRecord())},"No"),Uu,Gu,d("input",{type:"hidden",name:"sid",id:"modalVoidAppsid",value:e.selectedRecord.sid},null,8,zu),d("input",{type:"hidden",name:"envid",id:"envid",value:e.selectedRecord.env_id},null,8,Hu)])],32)])])]),d("div",Ku,[d("div",Yu,[d("div",Wu,[d("div",Qu,[d("h3",Xu,"Edit Application for "+B(e.selectedRecord.gsr_fname)+" "+B(e.selectedRecord.gsr_lname),1),d("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[5]||(t[5]=s=>e.unsetSelectedRecord())})]),d("form",{method:"post",onSubmit:t[44]||(t[44]=nt((...s)=>l.updateApplicant&&l.updateApplicant(...s),["prevent"]))},[d("div",Ju,[d("fieldset",Zu,[xu,d("div",em,[d("div",tm,[sm,d("input",{type:"text",id:"pi_fname",name:"pi_fname",value:e.selectedRecord.pi_fname,onInput:t[6]||(t[6]=s=>e.updateField("pi_fname",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,dm)]),d("div",nm,[om,d("input",{type:"text",id:"pi_lname",name:"pi_lname",value:e.selectedRecord.pi_lname,onInput:t[7]||(t[7]=s=>e.updateField("pi_lname",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,am)])]),d("div",im,[d("div",lm,[rm,d("input",{type:"text",id:"pi_title",name:"pi_title",value:e.selectedRecord.pi_title,onInput:t[8]||(t[8]=s=>e.updateField("pi_title",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,cm)]),d("div",um,[mm,d("input",{type:"email",id:"pi_email",name:"pi_email",value:e.selectedRecord.pi_email,onInput:t[9]||(t[9]=s=>e.updateField("pi_email",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,pm)])]),d("div",hm,[vm,d("div",_m,[z(d("input",{type:"radio",id:"pi_dept_bae",name:"pi_dept",value:"Biological and Agricultural Engineering (BAE)","onUpdate:modelValue":t[10]||(t[10]=s=>e.selectedRecord.pi_dept=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,fm),[[ee,e.selectedRecord.pi_dept]]),gm,z(d("input",{type:"radio",id:"pi_dept_fst",name:"pi_dept",value:"Food Science and Technology (FST)","onUpdate:modelValue":t[11]||(t[11]=s=>e.selectedRecord.pi_dept=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,bm),[[ee,e.selectedRecord.pi_dept]]),ym,z(d("input",{type:"radio",id:"pi_dept_ven",name:"pi_dept",value:"Viticulture & Enology (VEN)","onUpdate:modelValue":t[12]||(t[12]=s=>e.selectedRecord.pi_dept=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,wm),[[ee,e.selectedRecord.pi_dept]]),Rm])])]),d("fieldset",$m,[km,d("div",Em,[d("div",Im,[Sm,d("input",{type:"text",id:"gsr_fname",name:"gsr_fname",value:e.selectedRecord.gsr_fname,onInput:t[13]||(t[13]=s=>e.updateField("gsr_fname",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,Am)]),d("div",Cm,[Vm,d("input",{type:"text",id:"gsr_lname",name:"gsr_lname",value:e.selectedRecord.gsr_lname,onInput:t[14]||(t[14]=s=>e.updateField("gsr_lname",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,Dm)])]),d("div",qm,[d("div",Bm,[Pm,d("input",{type:"email",id:"gsr_email",name:"gsr_email",value:e.selectedRecord.gsr_email,onInput:t[15]||(t[15]=s=>e.updateField("gsr_email",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,Tm)]),d("div",jm,[Nm,d("input",{type:"text",id:"worksite",name:"worksite",value:e.selectedRecord.worksite,onInput:t[16]||(t[16]=s=>e.updateField("worksite",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,40,Fm)])])]),d("fieldset",Mm,[Om,d("div",Lm,[d("div",Um,[Gm,d("div",null,[z(d("input",{type:"radio",id:"appt_type_new",name:"appt_type",value:"New","onUpdate:modelValue":t[17]||(t[17]=s=>e.selectedRecord.appt_type=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,zm),[[ee,e.selectedRecord.appt_type]]),Hm,z(d("input",{type:"radio",id:"appt_type_extension",name:"appt_type",value:"Extension","onUpdate:modelValue":t[18]||(t[18]=s=>e.selectedRecord.appt_type=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Km),[[ee,e.selectedRecord.appt_type]]),Ym])]),d("div",Wm,[Qm,d("input",{type:"text",id:"fte_percentage",name:"fte_percentage",value:e.selectedRecord.fte_percentage,onInput:t[19]||(t[19]=s=>e.updateField("fte_percentage",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,Xm)]),d("div",Jm,[Zm,d("input",{type:"text",id:"step",name:"step",value:e.selectedRecord.step,onInput:t[20]||(t[20]=s=>e.updateField("step",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,xm)])]),d("div",ep,[d("div",tp,[sp,d("input",{type:"text",id:"account",name:"account",value:e.selectedRecord.account,onInput:t[21]||(t[21]=s=>e.updateField("account",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,dp)]),d("div",np,[op,d("input",{type:"date",id:"start_date",name:"start_date",value:e.selectedRecord.start_date,onInput:t[22]||(t[22]=s=>e.updateField("start_date",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,ap)]),d("div",ip,[lp,d("input",{type:"date",id:"end_date",name:"end_date",value:e.selectedRecord.end_date,onInput:t[23]||(t[23]=s=>e.updateField("end_date",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,rp)])]),d("div",cp,[d("div",up,[mp,d("textarea",{id:"job_description",name:"job_description",rows:"7",value:e.selectedRecord.job_description,onInput:t[24]||(t[24]=s=>e.updateField("job_description",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected",required:""},null,40,pp)])]),d("div",hp,[d("div",vp,[_p,d("div",null,[z(d("input",{type:"radio",id:"training_grant_yes",name:"training_grant",value:"Yes","onUpdate:modelValue":t[25]||(t[25]=s=>e.selectedRecord.training_grant=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,fp),[[ee,e.selectedRecord.training_grant]]),gp,z(d("input",{type:"radio",id:"training_grant_no",name:"training_grant",value:"No","onUpdate:modelValue":t[26]||(t[26]=s=>e.selectedRecord.training_grant=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,bp),[[ee,e.selectedRecord.training_grant]]),yp])]),d("div",wp,[Rp,d("div",null,[z(d("input",{type:"radio",id:"grad_group_gbse",name:"grad_group",value:"GBSE","onUpdate:modelValue":t[27]||(t[27]=s=>e.selectedRecord.grad_group=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,$p),[[ee,e.selectedRecord.grad_group]]),kp,z(d("input",{type:"radio",id:"grad_group_gfsc",name:"grad_group",value:"GFSC","onUpdate:modelValue":t[28]||(t[28]=s=>e.selectedRecord.grad_group=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Ep),[[ee,e.selectedRecord.grad_group]]),Ip,z(d("input",{type:"radio",id:"grad_group_gven",name:"grad_group",value:"GVEN","onUpdate:modelValue":t[29]||(t[29]=s=>e.selectedRecord.grad_group=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Sp),[[ee,e.selectedRecord.grad_group]]),Ap,z(d("input",{type:"radio",id:"grad_group_other",name:"grad_group",value:"Other","onUpdate:modelValue":t[30]||(t[30]=s=>e.selectedRecord.grad_group=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Cp),[[ee,e.selectedRecord.grad_group]]),Vp]),d("div",null,[e.selectedRecord.grad_group==="Other"?($(),k("input",{key:0,type:"text",id:"grad_group_other_text",name:"grad_group_other_text",value:e.selectedRecord.other_grad_group,onInput:t[31]||(t[31]=s=>e.updateField("other_grad_group",s))},null,40,Dp)):q("",!0)])])]),d("div",qp,[d("div",Bp,[Pp,d("div",null,[z(d("input",{type:"checkbox",id:"additional_funding_none",name:"additional_funding[]",value:"None","onUpdate:modelValue":t[32]||(t[32]=s=>e.selectedFunding=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Tp),[[ue,e.selectedFunding]]),jp,z(d("input",{type:"checkbox",id:"additional_funding_ext_fel",name:"additional_funding[]",value:"External Fellowship","onUpdate:modelValue":t[33]||(t[33]=s=>e.selectedFunding=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Np),[[ue,e.selectedFunding]]),Fp,z(d("input",{type:"checkbox",id:"additional_funding_int_fel",name:"additional_funding[]",value:"Internal Fellowship","onUpdate:modelValue":t[34]||(t[34]=s=>e.selectedFunding=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Mp),[[ue,e.selectedFunding]]),Op,z(d("input",{type:"checkbox",id:"additional_funding_taship",name:"additional_funding[]",value:"TAship","onUpdate:modelValue":t[35]||(t[35]=s=>e.selectedFunding=s),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Lp),[[ue,e.selectedFunding]]),Up,z(d("input",{type:"checkbox",id:"additional_funding_other",name:"additional_funding[]",value:"Other","onUpdate:modelValue":t[36]||(t[36]=s=>e.otherAdditionalFunding=s),checked:e.otherAdditionalFunding,disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Gp),[[ue,e.otherAdditionalFunding]]),zp]),e.otherAdditionalFunding?($(),k("div",Hp,[e.otherAdditionalFunding?($(),k("input",{key:0,type:"text",id:"additional_funding_other_text",name:"additional_funding_other_text",value:e.otherAdditionalFundingText,disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,Kp)):q("",!0)])):q("",!0)]),e.selectedFunding.includes("TAship")?($(),k("div",Yp,[Wp,e.selectedFunding.includes("TAship")?($(),k("input",{key:0,type:"text",id:"ta_percentage",name:"ta_percentage",value:e.selectedRecord.ta_percentage,onInput:t[37]||(t[37]=s=>e.updateField("ta_percentage",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,40,Qp)):q("",!0)])):q("",!0)])]),d("fieldset",Xp,[Jp,d("div",Zp,[d("div",xp,[eh,d("input",{type:"text",id:"salary",name:"salary",value:e.selectedRecord.salary,onInput:t[38]||(t[38]=s=>e.updateField("salary",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"||e.selectedRecord.status==="pi_approved",required:e.selectedRecord.status==="reviewed"},null,40,th)]),d("div",sh,[dh,d("textarea",{id:"gsr_address",name:"gsr_address",rows:"3",value:e.selectedRecord.gsr_address,onInput:t[39]||(t[39]=s=>e.updateField("gsr_address",s)),disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"||e.selectedRecord.status==="pi_approved"},null,40,nh)])])]),e.selectedRecord.comments?($(),k("fieldset",oh,[ah,d("div",ih,[d("div",lh,B(e.selectedRecord.comments),1)])])):q("",!0),d("fieldset",rh,[ch,d("div",uh,[d("div",mh,[d("table",ph,[($(!0),k(dt,null,st(e.selectedRecord.history,s=>($(),k("tr",null,[d("td",hh,B(e.convertDateFormat(s.affected_date,"datetime",!0)),1),d("td",null,[s.user?($(),k("span",vh,B(s.user)+"",1)):q("",!0),d("span",{innerHTML:l.removeAllBackslashes(s.note)},null,8,_h)])]))),256))])])])]),d("fieldset",fh,[gh,d("div",bh,[d("div",yh,[z(d("input",{type:"checkbox",id:"approved_am",name:"approved_am",value:"1","onUpdate:modelValue":t[40]||(t[40]=s=>e.approvedAM=s),checked:e.approvedAM,disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,wh),[[ue,e.approvedAM]]),Rh,z(d("input",{type:"checkbox",id:"approved_advising",name:"approved_advising",value:"1","onUpdate:modelValue":t[41]||(t[41]=s=>e.approvedAdvising=s),checked:e.approvedAdvising,disabled:e.selectedRecord.status==="completed"||e.selectedRecord.status==="rejected"},null,8,$h),[[ue,e.approvedAdvising]]),kh,z(d("input",{type:"checkbox",id:"approved_pi",name:"approved_pi",value:"1","onUpdate:modelValue":t[42]||(t[42]=s=>e.approvedPI=s),checked:e.approvedPI,disabled:e.selectedRecord.status!=="reviewed"||e.selectedRecord.sent_preview!=="1"},null,8,Eh),[[ue,e.approvedPI]]),Ih])])])]),d("div",Sh,[d("input",{type:"hidden",name:"fullname",id:"fullname",value:e.selectedRecord.gsr_fname+" "+e.selectedRecord.gsr_lname},null,8,Ah),d("input",{type:"hidden",name:"sid",id:"sid",value:e.selectedRecord.sid},null,8,Ch),d("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-dismiss":"modal",onClick:t[43]||(t[43]=s=>e.unsetSelectedRecord())},"Close"),!e.viewermode&&e.selectedRecord.status!=="pending"&&e.selectedRecord.status!=="completed"&&e.selectedRecord.status!=="rejected"?($(),k("button",{key:0,type:"submit",class:"btn btn-primary btn-sm",name:"save-app",disabled:!e.approvedAM&&!e.approvedAdvising},"Save",8,Vh)):q("",!0),!e.viewermode&&e.selectedRecord.status==="reviewed"&&e.selectedRecord.sent_preview==="0"&&e.selectedRecord.orgsalary!==null&&e.selectedRecord.orgsalary!==""?($(),k("a",{key:1,class:"btn btn-primary btn-sm",href:"https://web.bftv.ucdavis.edu/gsr/app-preview.php?sid="+e.selectedRecord.sid+"&pi=false",target:"_blank"},"Preview Offer Letter",8,Dh)):q("",!0),!e.viewermode&&e.selectedRecord.status==="reviewed"&&e.selectedRecord.sent_preview==="0"&&e.selectedRecord.orgsalary!==null&&e.selectedRecord.orgsalary!==""?($(),k("button",qh,"Send Offer Letter Preview to PI")):q("",!0),!e.viewermode&&(e.selectedRecord.status==="reviewed"||e.selectedRecord.status==="pi_approved")?($(),k("button",{key:3,type:"submit",class:"btn btn-primary btn-sm",name:"docusign-app",disabled:!e.approvedPI},"Save & Initiate DocuSign",8,Bh)):q("",!0)])],32)])])],512)])):($(),k("div",Ph,jh))])}const $e=ze(Xr,[["render",Nh]]),Fh=cd({history:Is(),linkExactActiveClass:"active",linkActiveClass:"active",routes:[{path:"/",name:"new-apps",component:$e},{path:"/view:id",name:"GsrMgmtFiltered",component:$e},{path:"/pen-apps",name:"pen-apps",component:$e},{path:"/com-apps",name:"com-apps",component:$e},{path:"/rej-apps",name:"rej-apps",component:$e},{path:"/users",name:"users",component:go},{path:"/departments",name:"departments",component:ql},{path:"/email-templates",name:"email-templates",component:Qr},{path:"/:pathMatch(.*)*",name:"new-apps-any",component:$e,props:!0}]}),Mh={mixins:[Te],template:"#nav-template",methods:{loader(){this.loading=!0}}},ct=Vue.createApp({});ct.component("the-navigation",Mh);ct.use(Fh);ct.mount("#gsr-block");
